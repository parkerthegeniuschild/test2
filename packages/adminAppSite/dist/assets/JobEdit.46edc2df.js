import{b5 as _s,b6 as Us,b7 as Ys,b8 as Ks,b9 as yo,ba as Gs,bb as qs,j as l,bc as qn,aX as q,w as ue,r as f,bd as ot,_ as te,be as Tt,bf as Dt,c as J,M as H,bg as je,bh as zt,bi as Hn,q as x,P as jt,bj as Js,x as et,bk as Co,bl as Te,bm as Wr,J as Ht,bn as js,bo as Xs,bp as Qs,bq as ka,br as wo,bs as Zs,bt as el,bu as tl,bv as nl,m as K,z as Ze,bw as bn,bx as rl,T as z,by as xn,bz as Fr,bA as Hr,C as kr,bB as al,bC as Ye,p as ce,bD as ol,bE as So,aG as zr,aH as Ve,ax as vt,aM as Po,aN as Eo,aO as Do,bF as Re,a as j,f as L,bG as Jn,s as D,t as De,h as To,bH as Je,R as Io,B as yn,aE as Vr,bI as No,at as il,b1 as ko,b2 as _r,aJ as Ur,aK as Vt,aL as pe,aR as Yr,u as se,bJ as sl,aQ as we,bK as ll,n as O,bL as cl,bM as dl,bN as Oo,bO as ul,bP as yr,W as Le,bQ as pl,bR as jn,bS as fl,aD as Ue,bT as ml,bU as Xn,az as he,bV as hl,bW as mn,b as gl,bX as vl,bY as bl,bZ as xl,b_ as yl,b$ as Cl,c0 as wl,c1 as Sl,c2 as Pl,c3 as El,c4 as Dl,aP as oe,c5 as Cr,aS as Mo,c6 as Tl,c7 as Il,c8 as Nl,c9 as kl,aT as Lo,aB as Ol,ca as Ml,av as Cn,ao as Kr,ap as Ll,cb as Oa,cc as Gr,cd as $o,am as $l,a2 as Ao,aq as Al,ce as Rl,cf as Bl,cg as Wl,ch as Fl,ci as Hl,cj as Or,ck as zl,cl as Vl,cm as _l,cn as Ul,co as Yl,cp as Kl,as as _n,cq as It,cr as mt,b3 as _t,cs as Gl,ct as ql,cu as Jl,cv as jl,b4 as Xl,cw as Ql,cx as Zl,cy as ec,cz as tc,cA as nc,cB as rc,i as ac,k as oc,cC as Ma,cD as La,cE as ic,cF as sc,cG as lc,cH as cc,cI as dc,cJ as uc,cK as pc,cL as fc,cM as mc,cN as hc,cO as Ro,cP as Bo,cQ as gc,cR as vc,cS as bc,cT as xc,cU as yc,cV as Cc,cW as wc,cX as Sc,cY as Pc,cZ as Ec,c_ as Dc,c$ as $e,d0 as Tc,d1 as Ic,d2 as Nc,d3 as kc,d4 as Oc,aI as Qe,d5 as Mc,d6 as Lc,d7 as $c,d8 as Ac,d9 as Rc,da as Bc,db as Wo,dc as Wc,dd as Fc,de as Hc}from"./index.7dbc0443.js";import{T as ht,F as bt,a as xt}from"./formik.esm.234da5ff.js";import{d as Ke,e as Fo,f as Ho,h as zo,i as Vo,j as zc,k as Vc,P as _c,l as qr,m as Qn,n as Uc,o as Yc,p as Kc,q as Gc,r as qc,s as wn,t as Jc,u as _o,v as Uo,w as jc,x as Xc,y as Qc,z as Zc,A as ed,B as td,C as nd,D as rd,E as ad,F as od,G as id,H as sd,I as ld,J as cd,K as dd}from"./PendingReviewChip.5acf046c.js";import{b as Ut,a as Yt,c as Yo,g as Ft,D as ud,d as pd,e as $a,t as fd,h as md}from"./timeHelpers.676cc127.js";import{S as Zn,C as Jr,v as jr,N as Mr,L as hd,H as Ko,R as gd,F as vd}from"./validateCurrencyInput.3f52639a.js";import{T as Ee,I as St,P as Go,a as Pt,H as Xr,b as bd,C as xd}from"./CancelButton.eb23fad0.js";import"./PaginationSettings.bf52303d.js";import{J as yd}from"./JobStatusChip.517f8023.js";import{S as Cd,a as er,g as Qr,s as wd}from"./providerHelpers.5b5f7e8f.js";import{c as Sd,a as Pd,u as tr,g as Ed,r as Dd}from"./useSocket.cdc27e0e.js";import{L as Nt}from"./Loader.0a538e2e.js";import{U as qo,F as Zr}from"./FullNameField.cece0c7a.js";import{I as Td}from"./InputAdornment.5cdc5874.js";import{A as Id}from"./AcceptRating.b9c38b19.js";function Nd(t){return _s(t)||Us(t)||Ys(t)||Ks()}function kd(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Od(t,e){t.classList?t.classList.add(e):kd(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Aa(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Md(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Aa(t.className,e):t.setAttribute("class",Aa(t.className&&t.className.baseVal||"",e))}var Ld=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return Od(e,r)})},wr=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return Md(e,r)})},ea=function(t){yo(e,t);function e(){for(var r,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(o,c){var d=r.resolveArguments(o,c),p=d[0],u=d[1];r.removeClasses(p,"exit"),r.addClass(p,u?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(o,c)},r.onEntering=function(o,c){var d=r.resolveArguments(o,c),p=d[0],u=d[1],m=u?"appear":"enter";r.addClass(p,m,"active"),r.props.onEntering&&r.props.onEntering(o,c)},r.onEntered=function(o,c){var d=r.resolveArguments(o,c),p=d[0],u=d[1],m=u?"appear":"enter";r.removeClasses(p,m),r.addClass(p,m,"done"),r.props.onEntered&&r.props.onEntered(o,c)},r.onExit=function(o){var c=r.resolveArguments(o),d=c[0];r.removeClasses(d,"appear"),r.removeClasses(d,"enter"),r.addClass(d,"exit","base"),r.props.onExit&&r.props.onExit(o)},r.onExiting=function(o){var c=r.resolveArguments(o),d=c[0];r.addClass(d,"exit","active"),r.props.onExiting&&r.props.onExiting(o)},r.onExited=function(o){var c=r.resolveArguments(o),d=c[0];r.removeClasses(d,"exit"),r.addClass(d,"exit","done"),r.props.onExited&&r.props.onExited(o)},r.resolveArguments=function(o,c){return r.props.nodeRef?[r.props.nodeRef.current,o]:[o,c]},r.getClassNames=function(o){var c=r.props.classNames,d=typeof c=="string",p=d&&c?c+"-":"",u=d?""+p+o:c[o],m=d?u+"-active":c[o+"Active"],h=d?u+"-done":c[o+"Done"];return{baseClassName:u,activeClassName:m,doneClassName:h}},r}var n=e.prototype;return n.addClass=function(a,i,s){var o=this.getClassNames(i)[s+"ClassName"],c=this.getClassNames("enter"),d=c.doneClassName;i==="appear"&&s==="done"&&d&&(o+=" "+d),s==="active"&&a&&Gs(a),o&&(this.appliedClasses[i][s]=o,Ld(a,o))},n.removeClasses=function(a,i){var s=this.appliedClasses[i],o=s.base,c=s.active,d=s.done;this.appliedClasses[i]={},o&&wr(a,o),c&&wr(a,c),d&&wr(a,d)},n.render=function(){var a=this.props;a.classNames;var i=qs(a,["classNames"]);return l(qn,{...i,onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited})},e}(q.Component);ea.defaultProps={classNames:""};ea.propTypes={};const $d=ea;var Ad=function(e){return{root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}},Jo=f.exports.forwardRef(function(e,n){var r=e.children,a=e.classes,i=e.className,s=e.collapsedHeight,o=e.collapsedSize,c=o===void 0?"0px":o,d=e.component,p=d===void 0?"div":d,u=e.disableStrictModeCompat,m=u===void 0?!1:u,h=e.in,g=e.onEnter,v=e.onEntered,b=e.onEntering,C=e.onExit,y=e.onExited,P=e.onExiting,S=e.style,T=e.timeout,k=T===void 0?ot.standard:T,V=e.TransitionComponent,$=V===void 0?qn:V,B=te(e,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),E=Tt(),_=f.exports.useRef(),W=f.exports.useRef(null),G=f.exports.useRef(),X=typeof(s||c)=="number"?"".concat(s||c,"px"):s||c;f.exports.useEffect(function(){return function(){clearTimeout(_.current)}},[]);var U=E.unstable_strictMode&&!m,N=f.exports.useRef(null),A=Dt(n,U?N:void 0),R=function(Y){return function(Se,fe){if(Y){var ae=U?[N.current,Se]:[Se,fe],Ge=je(ae,2),yt=Ge[0],st=Ge[1];st===void 0?Y(yt):Y(yt,st)}}},ee=R(function(Q,Y){Q.style.height=X,g&&g(Q,Y)}),ne=R(function(Q,Y){var Se=W.current?W.current.clientHeight:0,fe=zt({style:S,timeout:k},{mode:"enter"}),ae=fe.duration;if(k==="auto"){var Ge=E.transitions.getAutoHeightDuration(Se);Q.style.transitionDuration="".concat(Ge,"ms"),G.current=Ge}else Q.style.transitionDuration=typeof ae=="string"?ae:"".concat(ae,"ms");Q.style.height="".concat(Se,"px"),b&&b(Q,Y)}),re=R(function(Q,Y){Q.style.height="auto",v&&v(Q,Y)}),ge=R(function(Q){var Y=W.current?W.current.clientHeight:0;Q.style.height="".concat(Y,"px"),C&&C(Q)}),be=R(y),xe=R(function(Q){var Y=W.current?W.current.clientHeight:0,Se=zt({style:S,timeout:k},{mode:"exit"}),fe=Se.duration;if(k==="auto"){var ae=E.transitions.getAutoHeightDuration(Y);Q.style.transitionDuration="".concat(ae,"ms"),G.current=ae}else Q.style.transitionDuration=typeof fe=="string"?fe:"".concat(fe,"ms");Q.style.height=X,P&&P(Q)}),Ie=function(Y,Se){var fe=U?Y:Se;k==="auto"&&(_.current=setTimeout(fe,G.current||0))};return l($,{in:h,onEnter:ee,onEntered:re,onEntering:ne,onExit:ge,onExited:be,onExiting:xe,addEndListener:Ie,nodeRef:U?N:void 0,timeout:k==="auto"?null:k,...B,children:function(Q,Y){return l(p,{className:J(a.root,a.container,i,{entered:a.entered,exited:!h&&X==="0px"&&a.hidden}[Q]),style:H({minHeight:X},S),ref:A,...Y,children:l("div",{className:a.wrapper,ref:W,children:l("div",{className:a.wrapperInner,children:r})})})}})});Jo.muiSupportAuto=!0;const Rd=ue(Ad,{name:"MuiCollapse"})(Jo);var Bd=f.exports.createContext({});const jo=Bd;var Wd=function(e){var n={duration:e.transitions.duration.shortest};return{root:{position:"relative",transition:e.transitions.create(["margin"],n),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],n)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}},Fd=f.exports.forwardRef(function(e,n){var r=e.children,a=e.classes,i=e.className,s=e.defaultExpanded,o=s===void 0?!1:s,c=e.disabled,d=c===void 0?!1:c,p=e.expanded,u=e.onChange,m=e.square,h=m===void 0?!1:m,g=e.TransitionComponent,v=g===void 0?Rd:g,b=e.TransitionProps,C=te(e,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),y=Hn({controlled:p,default:o,name:"Accordion",state:"expanded"}),P=je(y,2),S=P[0],T=P[1],k=f.exports.useCallback(function(W){T(!S),u&&u(W,!S)},[S,u,T]),V=f.exports.Children.toArray(r),$=Nd(V),B=$[0],E=$.slice(1),_=f.exports.useMemo(function(){return{expanded:S,disabled:d,toggle:k}},[S,d,k]);return x(jt,{className:J(a.root,i,S&&a.expanded,d&&a.disabled,!h&&a.rounded),ref:n,square:h,...C,children:[l(jo.Provider,{value:_,children:B}),l(v,{in:S,timeout:"auto",...b,children:l("div",{"aria-labelledby":B.props.id,id:B.props["aria-controls"],role:"region",children:E})})]})});const Hd=ue(Wd,{name:"MuiAccordion"})(Fd);var zd=function(e){return{root:{display:"flex",padding:e.spacing(1,2,2)}}},Vd=f.exports.forwardRef(function(e,n){var r=e.classes,a=e.className,i=te(e,["classes","className"]);return l("div",{className:J(r.root,a),ref:n,...i})});const _d=ue(zd,{name:"MuiAccordionDetails"})(Vd);var Ud=function(e){var n={duration:e.transitions.duration.shortest};return{root:{display:"flex",minHeight:8*6,transition:e.transitions.create(["min-height","background-color"],n),padding:e.spacing(0,2),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused, &$focusVisible":{backgroundColor:e.palette.action.focus},"&$disabled":{opacity:e.palette.action.disabledOpacity}},expanded:{},focused:{},focusVisible:{},disabled:{},content:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],n),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",n),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}},Yd=f.exports.forwardRef(function(e,n){var r=e.children,a=e.classes,i=e.className,s=e.expandIcon,o=e.focusVisibleClassName,c=e.IconButtonProps,d=c===void 0?{}:c,p=e.onClick,u=te(e,["children","classes","className","expandIcon","focusVisibleClassName","IconButtonProps","onClick"]),m=f.exports.useContext(jo),h=m.disabled,g=h===void 0?!1:h,v=m.expanded,b=m.toggle,C=function(P){b&&b(P),p&&p(P)};return x(Js,{focusRipple:!1,disableRipple:!0,disabled:g,component:"div","aria-expanded":v,className:J(a.root,i,g&&a.disabled,v&&a.expanded),focusVisibleClassName:J(a.focusVisible,a.focused,o),onClick:C,ref:n,...u,children:[l("div",{className:J(a.content,v&&a.expanded),children:r}),s&&l(et,{className:J(a.expandIcon,v&&a.expanded),edge:"end",component:"div",tabIndex:null,role:null,"aria-hidden":!0,...d,children:s})]})});const Kd=ue(Ud,{name:"MuiAccordionSummary"})(Yd);var Gd={entering:{opacity:1},entered:{opacity:1}},qd={enter:ot.enteringScreen,exit:ot.leavingScreen},Jd=f.exports.forwardRef(function(e,n){var r=e.children,a=e.disableStrictModeCompat,i=a===void 0?!1:a,s=e.in,o=e.onEnter,c=e.onEntered,d=e.onEntering,p=e.onExit,u=e.onExited,m=e.onExiting,h=e.style,g=e.TransitionComponent,v=g===void 0?qn:g,b=e.timeout,C=b===void 0?qd:b,y=te(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),P=Tt(),S=P.unstable_strictMode&&!i,T=f.exports.useRef(null),k=Dt(r.ref,n),V=Dt(S?T:void 0,k),$=function(N){return function(A,R){if(N){var ee=S?[T.current,A]:[A,R],ne=je(ee,2),re=ne[0],ge=ne[1];ge===void 0?N(re):N(re,ge)}}},B=$(d),E=$(function(U,N){Co(U);var A=zt({style:h,timeout:C},{mode:"enter"});U.style.webkitTransition=P.transitions.create("opacity",A),U.style.transition=P.transitions.create("opacity",A),o&&o(U,N)}),_=$(c),W=$(m),G=$(function(U){var N=zt({style:h,timeout:C},{mode:"exit"});U.style.webkitTransition=P.transitions.create("opacity",N),U.style.transition=P.transitions.create("opacity",N),p&&p(U)}),X=$(u);return l(v,{appear:!0,in:s,nodeRef:S?T:void 0,onEnter:E,onEntered:_,onEntering:B,onExit:G,onExited:X,onExiting:W,timeout:C,...y,children:function(U,N){return f.exports.cloneElement(r,H({style:H({opacity:0,visibility:U==="exited"&&!s?"hidden":void 0},Gd[U],h,r.props.style),ref:V},N))}})});const Xo=Jd;var jd={root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},Xd=f.exports.forwardRef(function(e,n){var r=e.children,a=e.classes,i=e.className,s=e.invisible,o=s===void 0?!1:s,c=e.open,d=e.transitionDuration,p=e.TransitionComponent,u=p===void 0?Xo:p,m=te(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return l(u,{in:c,timeout:d,...m,children:l("div",{className:J(a.root,i,o&&a.invisible),"aria-hidden":!0,ref:n,children:r})})});const Qo=ue(jd,{name:"MuiBackdrop"})(Xd);var Qd=function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Te({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Te({},e.breakpoints.down(e.breakpoints.values.sm+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Te({},e.breakpoints.down(e.breakpoints.values.md+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Te({},e.breakpoints.down(e.breakpoints.values.lg+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Te({},e.breakpoints.down(e.breakpoints.values.xl+32*2),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}},Zd={enter:ot.enteringScreen,exit:ot.leavingScreen},eu=f.exports.forwardRef(function(e,n){var r=e.BackdropProps,a=e.children,i=e.classes,s=e.className,o=e.disableBackdropClick,c=o===void 0?!1:o,d=e.disableEscapeKeyDown,p=d===void 0?!1:d,u=e.fullScreen,m=u===void 0?!1:u,h=e.fullWidth,g=h===void 0?!1:h,v=e.maxWidth,b=v===void 0?"sm":v,C=e.onBackdropClick,y=e.onClose,P=e.onEnter,S=e.onEntered,T=e.onEntering,k=e.onEscapeKeyDown,V=e.onExit,$=e.onExited,B=e.onExiting,E=e.open,_=e.PaperComponent,W=_===void 0?jt:_,G=e.PaperProps,X=G===void 0?{}:G,U=e.scroll,N=U===void 0?"paper":U,A=e.TransitionComponent,R=A===void 0?Xo:A,ee=e.transitionDuration,ne=ee===void 0?Zd:ee,re=e.TransitionProps,ge=e["aria-describedby"],be=e["aria-labelledby"],xe=te(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),Ie=f.exports.useRef(),Q=function(fe){Ie.current=fe.target},Y=function(fe){fe.target===fe.currentTarget&&fe.target===Ie.current&&(Ie.current=null,C&&C(fe),!c&&y&&y(fe,"backdropClick"))};return l(Wr,{className:J(i.root,s),BackdropComponent:Qo,BackdropProps:H({transitionDuration:ne},r),closeAfterTransition:!0,...c?{disableBackdropClick:c}:{},disableEscapeKeyDown:p,onEscapeKeyDown:k,onClose:y,open:E,ref:n,...xe,children:l(R,{appear:!0,in:E,timeout:ne,onEnter:P,onEntering:T,onEntered:S,onExit:V,onExiting:B,onExited:$,role:"none presentation",...re,children:l("div",{className:J(i.container,i["scroll".concat(Ht(N))]),onMouseUp:Y,onMouseDown:Q,children:l(W,{elevation:24,role:"dialog","aria-describedby":ge,"aria-labelledby":be,...X,className:J(i.paper,i["paperScroll".concat(Ht(N))],i["paperWidth".concat(Ht(String(b)))],X.className,m&&i.paperFullScreen,g&&i.paperFullWidth),children:a})})})})});const tu=ue(Qd,{name:"MuiDialog"})(eu);var nu={root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},ru=f.exports.forwardRef(function(e,n){var r=e.disableSpacing,a=r===void 0?!1:r,i=e.classes,s=e.className,o=te(e,["disableSpacing","classes","className"]);return l("div",{className:J(i.root,s,!a&&i.spacing),ref:n,...o})});const au=ue(nu,{name:"MuiDialogActions"})(ru);var ou=function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}},iu=f.exports.forwardRef(function(e,n){var r=e.classes,a=e.className,i=e.dividers,s=i===void 0?!1:i,o=te(e,["classes","className","dividers"]);return l("div",{className:J(r.root,a,s&&r.dividers),ref:n,...o})});const su=ue(ou,{name:"MuiDialogContent"})(iu);function lu(t,e){var n=e.getBoundingClientRect(),r;if(e.fakeTransform)r=e.fakeTransform;else{var a=window.getComputedStyle(e);r=a.getPropertyValue("-webkit-transform")||a.getPropertyValue("transform")}var i=0,s=0;if(r&&r!=="none"&&typeof r=="string"){var o=r.split("(")[1].split(")")[0].split(",");i=parseInt(o[4],10),s=parseInt(o[5],10)}return t==="left"?"translateX(".concat(window.innerWidth,"px) translateX(").concat(i-n.left,"px)"):t==="right"?"translateX(-".concat(n.left+n.width-i,"px)"):t==="up"?"translateY(".concat(window.innerHeight,"px) translateY(").concat(s-n.top,"px)"):"translateY(-".concat(n.top+n.height-s,"px)")}function Rn(t,e){var n=lu(t,e);n&&(e.style.webkitTransform=n,e.style.transform=n)}var cu={enter:ot.enteringScreen,exit:ot.leavingScreen},du=f.exports.forwardRef(function(e,n){var r=e.children,a=e.direction,i=a===void 0?"down":a,s=e.in,o=e.onEnter,c=e.onEntered,d=e.onEntering,p=e.onExit,u=e.onExited,m=e.onExiting,h=e.style,g=e.timeout,v=g===void 0?cu:g,b=e.TransitionComponent,C=b===void 0?qn:b,y=te(e,["children","direction","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),P=Tt(),S=f.exports.useRef(null),T=f.exports.useCallback(function(N){S.current=js.exports.findDOMNode(N)},[]),k=Dt(r.ref,T),V=Dt(k,n),$=function(A){return function(R){A&&(R===void 0?A(S.current):A(S.current,R))}},B=$(function(N,A){Rn(i,N),Co(N),o&&o(N,A)}),E=$(function(N,A){var R=zt({timeout:v,style:h},{mode:"enter"});N.style.webkitTransition=P.transitions.create("-webkit-transform",H({},R,{easing:P.transitions.easing.easeOut})),N.style.transition=P.transitions.create("transform",H({},R,{easing:P.transitions.easing.easeOut})),N.style.webkitTransform="none",N.style.transform="none",d&&d(N,A)}),_=$(c),W=$(m),G=$(function(N){var A=zt({timeout:v,style:h},{mode:"exit"});N.style.webkitTransition=P.transitions.create("-webkit-transform",H({},A,{easing:P.transitions.easing.sharp})),N.style.transition=P.transitions.create("transform",H({},A,{easing:P.transitions.easing.sharp})),Rn(i,N),p&&p(N)}),X=$(function(N){N.style.webkitTransition="",N.style.transition="",u&&u(N)}),U=f.exports.useCallback(function(){S.current&&Rn(i,S.current)},[i]);return f.exports.useEffect(function(){if(!(s||i==="down"||i==="right")){var N=Xs(function(){S.current&&Rn(i,S.current)});return window.addEventListener("resize",N),function(){N.clear(),window.removeEventListener("resize",N)}}},[i,s]),f.exports.useEffect(function(){s||U()},[s,U]),l(C,{nodeRef:S,onEnter:B,onEntered:_,onEntering:E,onExit:G,onExited:X,onExiting:W,appear:!0,in:s,timeout:v,...y,children:function(N,A){return f.exports.cloneElement(r,H({ref:V,style:H({visibility:N==="exited"&&!s?"hidden":void 0},h,r.props.style)},A))}})});const uu=du;var pu=function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}},Zo={left:"right",right:"left",top:"down",bottom:"up"};function fu(t){return["left","right"].indexOf(t)!==-1}function mu(t,e){return t.direction==="rtl"&&fu(e)?Zo[e]:e}var hu={enter:ot.enteringScreen,exit:ot.leavingScreen},gu=f.exports.forwardRef(function(e,n){var r=e.anchor,a=r===void 0?"left":r,i=e.BackdropProps,s=e.children,o=e.classes,c=e.className,d=e.elevation,p=d===void 0?16:d,u=e.ModalProps;u=u===void 0?{}:u;var m=u.BackdropProps,h=te(u,["BackdropProps"]),g=e.onClose,v=e.open,b=v===void 0?!1:v,C=e.PaperProps,y=C===void 0?{}:C,P=e.SlideProps,S=e.TransitionComponent,T=S===void 0?uu:S,k=e.transitionDuration,V=k===void 0?hu:k,$=e.variant,B=$===void 0?"temporary":$,E=te(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"]),_=Tt(),W=f.exports.useRef(!1);f.exports.useEffect(function(){W.current=!0},[]);var G=mu(_,a),X=l(jt,{elevation:B==="temporary"?p:0,square:!0,...y,className:J(o.paper,o["paperAnchor".concat(Ht(G))],y.className,B!=="temporary"&&o["paperAnchorDocked".concat(Ht(G))]),children:s});if(B==="permanent")return l("div",{className:J(o.root,o.docked,c),ref:n,...E,children:X});var U=l(T,{in:b,direction:Zo[G],timeout:V,appear:W.current,...P,children:X});return B==="persistent"?l("div",{className:J(o.root,o.docked,c),ref:n,...E,children:U}):l(Wr,{BackdropProps:H({},i,m,{transitionDuration:V}),BackdropComponent:Qo,className:J(o.root,o.modal,c),open:b,onClose:g,ref:n,...E,...h,children:U})});const vu=ue(pu,{name:"MuiDrawer",flip:!1})(gu);var bu=[0,1,2,3,4,5,6,7,8,9,10],xu=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function yu(t,e,n){var r={};xu.forEach(function(a){var i="grid-".concat(n,"-").concat(a);if(a===!0){r[i]={flexBasis:0,flexGrow:1,maxWidth:"100%"};return}if(a==="auto"){r[i]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};return}var s="".concat(Math.round(a/12*1e8)/1e6,"%");r[i]={flexBasis:s,flexGrow:0,maxWidth:s}}),n==="xs"?H(t,r):t[e.breakpoints.up(n)]=r}function Sr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=parseFloat(t);return"".concat(n/e).concat(String(t).replace(String(n),"")||"px")}function Cu(t,e){var n={};return bu.forEach(function(r){var a=t.spacing(r);a!==0&&(n["spacing-".concat(e,"-").concat(r)]={margin:"-".concat(Sr(a,2)),width:"calc(100% + ".concat(Sr(a),")"),"& > $item":{padding:Sr(a,2)}})}),n}var wu=function(e){return H({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},Cu(e,"xs"),e.breakpoints.keys.reduce(function(n,r){return yu(n,e,r),n},{}))},Su=f.exports.forwardRef(function(e,n){var r=e.alignContent,a=r===void 0?"stretch":r,i=e.alignItems,s=i===void 0?"stretch":i,o=e.classes,c=e.className,d=e.component,p=d===void 0?"div":d,u=e.container,m=u===void 0?!1:u,h=e.direction,g=h===void 0?"row":h,v=e.item,b=v===void 0?!1:v,C=e.justify,y=e.justifyContent,P=y===void 0?"flex-start":y,S=e.lg,T=S===void 0?!1:S,k=e.md,V=k===void 0?!1:k,$=e.sm,B=$===void 0?!1:$,E=e.spacing,_=E===void 0?0:E,W=e.wrap,G=W===void 0?"wrap":W,X=e.xl,U=X===void 0?!1:X,N=e.xs,A=N===void 0?!1:N,R=e.zeroMinWidth,ee=R===void 0?!1:R,ne=te(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),re=J(o.root,c,m&&[o.container,_!==0&&o["spacing-xs-".concat(String(_))]],b&&o.item,ee&&o.zeroMinWidth,g!=="row"&&o["direction-xs-".concat(String(g))],G!=="wrap"&&o["wrap-xs-".concat(String(G))],s!=="stretch"&&o["align-items-xs-".concat(String(s))],a!=="stretch"&&o["align-content-xs-".concat(String(a))],(C||P)!=="flex-start"&&o["justify-content-xs-".concat(String(C||P))],A!==!1&&o["grid-xs-".concat(String(A))],B!==!1&&o["grid-sm-".concat(String(B))],V!==!1&&o["grid-md-".concat(String(V))],T!==!1&&o["grid-lg-".concat(String(T))],U!==!1&&o["grid-xl-".concat(String(U))]);return l(p,{className:re,ref:n,...ne})}),Pu=ue(wu,{name:"MuiGrid"})(Su);const Bn=Pu;var Eu=function(e){return{root:{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:e.palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},colorPrimary:{color:e.palette.primary.main},colorInherit:{color:"inherit"},gutters:{paddingLeft:16,paddingRight:16},inset:{paddingLeft:72},sticky:{position:"sticky",top:0,zIndex:1,backgroundColor:"inherit"}}},Du=f.exports.forwardRef(function(e,n){var r=e.classes,a=e.className,i=e.color,s=i===void 0?"default":i,o=e.component,c=o===void 0?"li":o,d=e.disableGutters,p=d===void 0?!1:d,u=e.disableSticky,m=u===void 0?!1:u,h=e.inset,g=h===void 0?!1:h,v=te(e,["classes","className","color","component","disableGutters","disableSticky","inset"]);return l(c,{className:J(r.root,a,s!=="default"&&r["color".concat(Ht(s))],g&&r.inset,!m&&r.sticky,!p&&r.gutters),ref:n,...v})});const Tu=ue(Eu,{name:"MuiListSubheader"})(Du);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1-lts
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Sn=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",Iu=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(Sn&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();function Nu(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function ku(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},Iu))}}var Ou=Sn&&window.Promise,Mu=Ou?Nu:ku;function ei(t){var e={};return t&&e.toString.call(t)==="[object Function]"}function kt(t,e){if(t.nodeType!==1)return[];var n=t.ownerDocument.defaultView,r=n.getComputedStyle(t,null);return e?r[e]:r}function ta(t){return t.nodeName==="HTML"?t:t.parentNode||t.host}function Pn(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=kt(t),n=e.overflow,r=e.overflowX,a=e.overflowY;return/(auto|scroll|overlay)/.test(n+a+r)?t:Pn(ta(t))}function ti(t){return t&&t.referenceNode?t.referenceNode:t}var Ra=Sn&&!!(window.MSInputMethodContext&&document.documentMode),Ba=Sn&&/MSIE 10/.test(navigator.userAgent);function Xt(t){return t===11?Ra:t===10?Ba:Ra||Ba}function Kt(t){if(!t)return document.documentElement;for(var e=Xt(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return!r||r==="BODY"||r==="HTML"?t?t.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(n.nodeName)!==-1&&kt(n,"position")==="static"?Kt(n):n}function Lu(t){var e=t.nodeName;return e==="BODY"?!1:e==="HTML"||Kt(t.firstElementChild)===t}function Lr(t){return t.parentNode!==null?Lr(t.parentNode):t}function Un(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,a=n?e:t,i=document.createRange();i.setStart(r,0),i.setEnd(a,0);var s=i.commonAncestorContainer;if(t!==s&&e!==s||r.contains(a))return Lu(s)?s:Kt(s);var o=Lr(t);return o.host?Un(o.host,e):Un(t,Lr(e).host)}function Gt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",n=e==="top"?"scrollTop":"scrollLeft",r=t.nodeName;if(r==="BODY"||r==="HTML"){var a=t.ownerDocument.documentElement,i=t.ownerDocument.scrollingElement||a;return i[n]}return t[n]}function $u(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=Gt(e,"top"),a=Gt(e,"left"),i=n?-1:1;return t.top+=r*i,t.bottom+=r*i,t.left+=a*i,t.right+=a*i,t}function Wa(t,e){var n=e==="x"?"Left":"Top",r=n==="Left"?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function Fa(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],Xt(10)?parseInt(n["offset"+t])+parseInt(r["margin"+(t==="Height"?"Top":"Left")])+parseInt(r["margin"+(t==="Height"?"Bottom":"Right")]):0)}function ni(t){var e=t.body,n=t.documentElement,r=Xt(10)&&getComputedStyle(n);return{height:Fa("Height",e,n,r),width:Fa("Width",e,n,r)}}var Au=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Ru=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),qt=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},_e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function gt(t){return _e({},t,{right:t.left+t.width,bottom:t.top+t.height})}function $r(t){var e={};try{if(Xt(10)){e=t.getBoundingClientRect();var n=Gt(t,"top"),r=Gt(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch{}var a={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},i=t.nodeName==="HTML"?ni(t.ownerDocument):{},s=i.width||t.clientWidth||a.width,o=i.height||t.clientHeight||a.height,c=t.offsetWidth-s,d=t.offsetHeight-o;if(c||d){var p=kt(t);c-=Wa(p,"x"),d-=Wa(p,"y"),a.width-=c,a.height-=d}return gt(a)}function na(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=Xt(10),a=e.nodeName==="HTML",i=$r(t),s=$r(e),o=Pn(t),c=kt(e),d=parseFloat(c.borderTopWidth),p=parseFloat(c.borderLeftWidth);n&&a&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var u=gt({top:i.top-s.top-d,left:i.left-s.left-p,width:i.width,height:i.height});if(u.marginTop=0,u.marginLeft=0,!r&&a){var m=parseFloat(c.marginTop),h=parseFloat(c.marginLeft);u.top-=d-m,u.bottom-=d-m,u.left-=p-h,u.right-=p-h,u.marginTop=m,u.marginLeft=h}return(r&&!n?e.contains(o):e===o&&o.nodeName!=="BODY")&&(u=$u(u,e)),u}function Bu(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.ownerDocument.documentElement,r=na(t,n),a=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:Gt(n),o=e?0:Gt(n,"left"),c={top:s-r.top+r.marginTop,left:o-r.left+r.marginLeft,width:a,height:i};return gt(c)}function ri(t){var e=t.nodeName;if(e==="BODY"||e==="HTML")return!1;if(kt(t,"position")==="fixed")return!0;var n=ta(t);return n?ri(n):!1}function ai(t){if(!t||!t.parentElement||Xt())return document.documentElement;for(var e=t.parentElement;e&&kt(e,"transform")==="none";)e=e.parentElement;return e||document.documentElement}function ra(t,e,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,i={top:0,left:0},s=a?ai(t):Un(t,ti(e));if(r==="viewport")i=Bu(s,a);else{var o=void 0;r==="scrollParent"?(o=Pn(ta(e)),o.nodeName==="BODY"&&(o=t.ownerDocument.documentElement)):r==="window"?o=t.ownerDocument.documentElement:o=r;var c=na(o,s,a);if(o.nodeName==="HTML"&&!ri(s)){var d=ni(t.ownerDocument),p=d.height,u=d.width;i.top+=c.top-c.marginTop,i.bottom=p+c.top,i.left+=c.left-c.marginLeft,i.right=u+c.left}else i=c}n=n||0;var m=typeof n=="number";return i.left+=m?n:n.left||0,i.top+=m?n:n.top||0,i.right-=m?n:n.right||0,i.bottom-=m?n:n.bottom||0,i}function Wu(t){var e=t.width,n=t.height;return e*n}function oi(t,e,n,r,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(t.indexOf("auto")===-1)return t;var s=ra(n,r,i,a),o={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},c=Object.keys(o).map(function(m){return _e({key:m},o[m],{area:Wu(o[m])})}).sort(function(m,h){return h.area-m.area}),d=c.filter(function(m){var h=m.width,g=m.height;return h>=n.clientWidth&&g>=n.clientHeight}),p=d.length>0?d[0].key:c[0].key,u=t.split("-")[1];return p+(u?"-"+u:"")}function ii(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=r?ai(e):Un(e,ti(n));return na(n,a,r)}function si(t){var e=t.ownerDocument.defaultView,n=e.getComputedStyle(t),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),a=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),i={width:t.offsetWidth+a,height:t.offsetHeight+r};return i}function Yn(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(n){return e[n]})}function li(t,e,n){n=n.split("-")[0];var r=si(t),a={width:r.width,height:r.height},i=["right","left"].indexOf(n)!==-1,s=i?"top":"left",o=i?"left":"top",c=i?"height":"width",d=i?"width":"height";return a[s]=e[s]+e[c]/2-r[c]/2,n===o?a[o]=e[o]-r[d]:a[o]=e[Yn(o)],a}function En(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function Fu(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(a){return a[e]===n});var r=En(t,function(a){return a[e]===n});return t.indexOf(r)}function ci(t,e,n){var r=n===void 0?t:t.slice(0,Fu(t,"name",n));return r.forEach(function(a){a.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=a.function||a.fn;a.enabled&&ei(i)&&(e.offsets.popper=gt(e.offsets.popper),e.offsets.reference=gt(e.offsets.reference),e=i(e,a))}),e}function Hu(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=ii(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=oi(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=li(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=ci(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function di(t,e){return t.some(function(n){var r=n.name,a=n.enabled;return a&&r===e})}function aa(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var a=e[r],i=a?""+a+n:t;if(typeof document.body.style[i]<"u")return i}return null}function zu(){return this.state.isDestroyed=!0,di(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[aa("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function ui(t){var e=t.ownerDocument;return e?e.defaultView:window}function pi(t,e,n,r){var a=t.nodeName==="BODY",i=a?t.ownerDocument.defaultView:t;i.addEventListener(e,n,{passive:!0}),a||pi(Pn(i.parentNode),e,n,r),r.push(i)}function Vu(t,e,n,r){n.updateBound=r,ui(t).addEventListener("resize",n.updateBound,{passive:!0});var a=Pn(t);return pi(a,"scroll",n.updateBound,n.scrollParents),n.scrollElement=a,n.eventsEnabled=!0,n}function _u(){this.state.eventsEnabled||(this.state=Vu(this.reference,this.options,this.state,this.scheduleUpdate))}function Uu(t,e){return ui(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(n){n.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function Yu(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=Uu(this.reference,this.state))}function oa(t){return t!==""&&!isNaN(parseFloat(t))&&isFinite(t)}function Ar(t,e){Object.keys(e).forEach(function(n){var r="";["width","height","top","right","bottom","left"].indexOf(n)!==-1&&oa(e[n])&&(r="px"),t.style[n]=e[n]+r})}function Ku(t,e){Object.keys(e).forEach(function(n){var r=e[n];r!==!1?t.setAttribute(n,e[n]):t.removeAttribute(n)})}function Gu(t){return Ar(t.instance.popper,t.styles),Ku(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&Ar(t.arrowElement,t.arrowStyles),t}function qu(t,e,n,r,a){var i=ii(a,e,t,n.positionFixed),s=oi(n.placement,i,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),Ar(e,{position:n.positionFixed?"fixed":"absolute"}),n}function Ju(t,e){var n=t.offsets,r=n.popper,a=n.reference,i=Math.round,s=Math.floor,o=function(C){return C},c=i(a.width),d=i(r.width),p=["left","right"].indexOf(t.placement)!==-1,u=t.placement.indexOf("-")!==-1,m=c%2===d%2,h=c%2===1&&d%2===1,g=e?p||u||m?i:s:o,v=e?i:o;return{left:g(h&&!u&&e?r.left-1:r.left),top:v(r.top),bottom:v(r.bottom),right:g(r.right)}}var ju=Sn&&/Firefox/i.test(navigator.userAgent);function Xu(t,e){var n=e.x,r=e.y,a=t.offsets.popper,i=En(t.instance.modifiers,function(P){return P.name==="applyStyle"}).gpuAcceleration;i!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=i!==void 0?i:e.gpuAcceleration,o=Kt(t.instance.popper),c=$r(o),d={position:a.position},p=Ju(t,window.devicePixelRatio<2||!ju),u=n==="bottom"?"top":"bottom",m=r==="right"?"left":"right",h=aa("transform"),g=void 0,v=void 0;if(u==="bottom"?o.nodeName==="HTML"?v=-o.clientHeight+p.bottom:v=-c.height+p.bottom:v=p.top,m==="right"?o.nodeName==="HTML"?g=-o.clientWidth+p.right:g=-c.width+p.right:g=p.left,s&&h)d[h]="translate3d("+g+"px, "+v+"px, 0)",d[u]=0,d[m]=0,d.willChange="transform";else{var b=u==="bottom"?-1:1,C=m==="right"?-1:1;d[u]=v*b,d[m]=g*C,d.willChange=u+", "+m}var y={"x-placement":t.placement};return t.attributes=_e({},y,t.attributes),t.styles=_e({},d,t.styles),t.arrowStyles=_e({},t.offsets.arrow,t.arrowStyles),t}function fi(t,e,n){var r=En(t,function(o){var c=o.name;return c===e}),a=!!r&&t.some(function(o){return o.name===n&&o.enabled&&o.order<r.order});if(!a){var i="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return a}function Qu(t,e){var n;if(!fi(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if(typeof r=="string"){if(r=t.instance.popper.querySelector(r),!r)return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var a=t.placement.split("-")[0],i=t.offsets,s=i.popper,o=i.reference,c=["left","right"].indexOf(a)!==-1,d=c?"height":"width",p=c?"Top":"Left",u=p.toLowerCase(),m=c?"left":"top",h=c?"bottom":"right",g=si(r)[d];o[h]-g<s[u]&&(t.offsets.popper[u]-=s[u]-(o[h]-g)),o[u]+g>s[h]&&(t.offsets.popper[u]+=o[u]+g-s[h]),t.offsets.popper=gt(t.offsets.popper);var v=o[u]+o[d]/2-g/2,b=kt(t.instance.popper),C=parseFloat(b["margin"+p]),y=parseFloat(b["border"+p+"Width"]),P=v-t.offsets.popper[u]-C-y;return P=Math.max(Math.min(s[d]-g,P),0),t.arrowElement=r,t.offsets.arrow=(n={},qt(n,u,Math.round(P)),qt(n,m,""),n),t}function Zu(t){return t==="end"?"start":t==="start"?"end":t}var mi=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Pr=mi.slice(3);function Ha(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=Pr.indexOf(t),r=Pr.slice(n+1).concat(Pr.slice(0,n));return e?r.reverse():r}var Er={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function ep(t,e){if(di(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var n=ra(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],a=Yn(r),i=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case Er.FLIP:s=[r,a];break;case Er.CLOCKWISE:s=Ha(r);break;case Er.COUNTERCLOCKWISE:s=Ha(r,!0);break;default:s=e.behavior}return s.forEach(function(o,c){if(r!==o||s.length===c+1)return t;r=t.placement.split("-")[0],a=Yn(r);var d=t.offsets.popper,p=t.offsets.reference,u=Math.floor,m=r==="left"&&u(d.right)>u(p.left)||r==="right"&&u(d.left)<u(p.right)||r==="top"&&u(d.bottom)>u(p.top)||r==="bottom"&&u(d.top)<u(p.bottom),h=u(d.left)<u(n.left),g=u(d.right)>u(n.right),v=u(d.top)<u(n.top),b=u(d.bottom)>u(n.bottom),C=r==="left"&&h||r==="right"&&g||r==="top"&&v||r==="bottom"&&b,y=["top","bottom"].indexOf(r)!==-1,P=!!e.flipVariations&&(y&&i==="start"&&h||y&&i==="end"&&g||!y&&i==="start"&&v||!y&&i==="end"&&b),S=!!e.flipVariationsByContent&&(y&&i==="start"&&g||y&&i==="end"&&h||!y&&i==="start"&&b||!y&&i==="end"&&v),T=P||S;(m||C||T)&&(t.flipped=!0,(m||C)&&(r=s[c+1]),T&&(i=Zu(i)),t.placement=r+(i?"-"+i:""),t.offsets.popper=_e({},t.offsets.popper,li(t.instance.popper,t.offsets.reference,t.placement)),t=ci(t.instance.modifiers,t,"flip"))}),t}function tp(t){var e=t.offsets,n=e.popper,r=e.reference,a=t.placement.split("-")[0],i=Math.floor,s=["top","bottom"].indexOf(a)!==-1,o=s?"right":"bottom",c=s?"left":"top",d=s?"width":"height";return n[o]<i(r[c])&&(t.offsets.popper[c]=i(r[c])-n[d]),n[c]>i(r[o])&&(t.offsets.popper[c]=i(r[o])),t}function np(t,e,n,r){var a=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+a[1],s=a[2];if(!i)return t;if(s.indexOf("%")===0){var o=void 0;switch(s){case"%p":o=n;break;case"%":case"%r":default:o=r}var c=gt(o);return c[e]/100*i}else if(s==="vh"||s==="vw"){var d=void 0;return s==="vh"?d=Math.max(document.documentElement.clientHeight,window.innerHeight||0):d=Math.max(document.documentElement.clientWidth,window.innerWidth||0),d/100*i}else return i}function rp(t,e,n,r){var a=[0,0],i=["right","left"].indexOf(r)!==-1,s=t.split(/(\+|\-)/).map(function(p){return p.trim()}),o=s.indexOf(En(s,function(p){return p.search(/,|\s/)!==-1}));s[o]&&s[o].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,d=o!==-1?[s.slice(0,o).concat([s[o].split(c)[0]]),[s[o].split(c)[1]].concat(s.slice(o+1))]:[s];return d=d.map(function(p,u){var m=(u===1?!i:i)?"height":"width",h=!1;return p.reduce(function(g,v){return g[g.length-1]===""&&["+","-"].indexOf(v)!==-1?(g[g.length-1]=v,h=!0,g):h?(g[g.length-1]+=v,h=!1,g):g.concat(v)},[]).map(function(g){return np(g,m,e,n)})}),d.forEach(function(p,u){p.forEach(function(m,h){oa(m)&&(a[u]+=m*(p[h-1]==="-"?-1:1))})}),a}function ap(t,e){var n=e.offset,r=t.placement,a=t.offsets,i=a.popper,s=a.reference,o=r.split("-")[0],c=void 0;return oa(+n)?c=[+n,0]:c=rp(n,i,s,o),o==="left"?(i.top+=c[0],i.left-=c[1]):o==="right"?(i.top+=c[0],i.left+=c[1]):o==="top"?(i.left+=c[0],i.top-=c[1]):o==="bottom"&&(i.left+=c[0],i.top+=c[1]),t.popper=i,t}function op(t,e){var n=e.boundariesElement||Kt(t.instance.popper);t.instance.reference===n&&(n=Kt(n));var r=aa("transform"),a=t.instance.popper.style,i=a.top,s=a.left,o=a[r];a.top="",a.left="",a[r]="";var c=ra(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);a.top=i,a.left=s,a[r]=o,e.boundaries=c;var d=e.priority,p=t.offsets.popper,u={primary:function(h){var g=p[h];return p[h]<c[h]&&!e.escapeWithReference&&(g=Math.max(p[h],c[h])),qt({},h,g)},secondary:function(h){var g=h==="right"?"left":"top",v=p[g];return p[h]>c[h]&&!e.escapeWithReference&&(v=Math.min(p[g],c[h]-(h==="right"?p.width:p.height))),qt({},g,v)}};return d.forEach(function(m){var h=["left","top"].indexOf(m)!==-1?"primary":"secondary";p=_e({},p,u[h](m))}),t.offsets.popper=p,t}function ip(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var a=t.offsets,i=a.reference,s=a.popper,o=["bottom","top"].indexOf(n)!==-1,c=o?"left":"top",d=o?"width":"height",p={start:qt({},c,i[c]),end:qt({},c,i[c]+i[d]-s[d])};t.offsets.popper=_e({},s,p[r])}return t}function sp(t){if(!fi(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=En(t.instance.modifiers,function(r){return r.name==="preventOverflow"}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(t.hide===!0)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(t.hide===!1)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function lp(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,a=r.popper,i=r.reference,s=["left","right"].indexOf(n)!==-1,o=["top","left"].indexOf(n)===-1;return a[s?"left":"top"]=i[n]-(o?a[s?"width":"height"]:0),t.placement=Yn(e),t.offsets.popper=gt(a),t}var cp={shift:{order:100,enabled:!0,fn:ip},offset:{order:200,enabled:!0,fn:ap,offset:0},preventOverflow:{order:300,enabled:!0,fn:op,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:tp},arrow:{order:500,enabled:!0,fn:Qu,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:ep,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:lp},hide:{order:800,enabled:!0,fn:sp},computeStyle:{order:850,enabled:!0,fn:Xu,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:Gu,onLoad:qu,gpuAcceleration:void 0}},dp={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:cp},nr=function(){function t(e,n){var r=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Au(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=Mu(this.update.bind(this)),this.options=_e({},t.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(_e({},t.Defaults.modifiers,a.modifiers)).forEach(function(s){r.options.modifiers[s]=_e({},t.Defaults.modifiers[s]||{},a.modifiers?a.modifiers[s]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(s){return _e({name:s},r.options.modifiers[s])}).sort(function(s,o){return s.order-o.order}),this.modifiers.forEach(function(s){s.enabled&&ei(s.onLoad)&&s.onLoad(r.reference,r.popper,r.options,s,r.state)}),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return Ru(t,[{key:"update",value:function(){return Hu.call(this)}},{key:"destroy",value:function(){return zu.call(this)}},{key:"enableEventListeners",value:function(){return _u.call(this)}},{key:"disableEventListeners",value:function(){return Yu.call(this)}}]),t}();nr.Utils=(typeof window<"u"?window:global).PopperUtils;nr.placements=mi;nr.Defaults=dp;const up=nr;function pp(t,e){var n=e&&e.direction||"ltr";if(n==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function za(t){return typeof t=="function"?t():t}var fp=typeof window<"u"?f.exports.useLayoutEffect:f.exports.useEffect,mp={},hp=f.exports.forwardRef(function(e,n){var r=e.anchorEl,a=e.children,i=e.container,s=e.disablePortal,o=s===void 0?!1:s,c=e.keepMounted,d=c===void 0?!1:c,p=e.modifiers,u=e.open,m=e.placement,h=m===void 0?"bottom":m,g=e.popperOptions,v=g===void 0?mp:g,b=e.popperRef,C=e.style,y=e.transition,P=y===void 0?!1:y,S=te(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),T=f.exports.useRef(null),k=Dt(T,n),V=f.exports.useRef(null),$=Dt(V,b),B=f.exports.useRef($);fp(function(){B.current=$},[$]),f.exports.useImperativeHandle(b,function(){return V.current},[]);var E=f.exports.useState(!0),_=E[0],W=E[1],G=Qs(),X=pp(h,G),U=f.exports.useState(X),N=U[0],A=U[1];f.exports.useEffect(function(){V.current&&V.current.update()});var R=f.exports.useCallback(function(){if(!(!T.current||!r||!u)){V.current&&(V.current.destroy(),B.current(null));var xe=function(Y){A(Y.placement)};za(r);var Ie=new up(za(r),T.current,H({placement:X},v,{modifiers:H({},o?{}:{preventOverflow:{boundariesElement:"window"}},p,v.modifiers),onCreate:ka(xe,v.onCreate),onUpdate:ka(xe,v.onUpdate)}));B.current(Ie)}},[r,o,p,u,X,v]),ee=f.exports.useCallback(function(xe){wo(k,xe),R()},[k,R]),ne=function(){W(!1)},re=function(){!V.current||(V.current.destroy(),B.current(null))},ge=function(){W(!0),re()};if(f.exports.useEffect(function(){return function(){re()}},[]),f.exports.useEffect(function(){!u&&!P&&re()},[u,P]),!d&&!u&&(!P||_))return null;var be={placement:N};return P&&(be.TransitionProps={in:u,onEnter:ne,onExited:ge}),l(Zs,{disablePortal:o,container:i,children:l("div",{ref:ee,role:"tooltip",...S,style:H({position:"fixed",top:0,left:0,display:!u&&d&&!P?"none":null},C),children:typeof a=="function"?a(be):a})})});const gp=hp;function ia(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&el(t,e)}function sa(t,e){if(e&&(tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nl(t)}function gn(t){return gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gn(t)}function vp(t,e){return Array.isArray(e)?e.every(function(n){return t.indexOf(n)!==-1}):t.indexOf(e)!==-1}var la=310,hi=325,bp=305,xp=K(function(t){return{staticWrapperRoot:{overflow:"hidden",minWidth:la,display:"flex",flexDirection:"column",backgroundColor:t.palette.background.paper}}},{name:"MuiPickersStaticWrapper"}),yp=function(e){var n=e.children,r=xp();return f.exports.createElement("div",{className:r.staticWrapperRoot,children:n})},gi=function(e){var n=e.children,r=e.classes,a=e.onAccept,i=e.onDismiss,s=e.onClear,o=e.onSetToday,c=e.okLabel,d=e.cancelLabel,p=e.clearLabel,u=e.todayLabel,m=e.clearable,h=e.showTodayButton;e.showTabs;var g=e.wider,v=te(e,["children","classes","onAccept","onDismiss","onClear","onSetToday","okLabel","cancelLabel","clearLabel","todayLabel","clearable","showTodayButton","showTabs","wider"]);return f.exports.createElement(tu,H({role:"dialog",onClose:i,classes:{paper:J(r.dialogRoot,g&&r.dialogRootWider)}},v),f.exports.createElement(su,{children:n,className:r.dialog}),f.exports.createElement(au,{classes:{root:J((m||h)&&r.withAdditionalAction)}},m&&f.exports.createElement(Ze,{color:"primary",onClick:s},p),h&&f.exports.createElement(Ze,{color:"primary",onClick:o},u),d&&f.exports.createElement(Ze,{color:"primary",onClick:i},d),c&&f.exports.createElement(Ze,{color:"primary",onClick:a},c)))};gi.displayName="ModalDialog";var Cp=bn({dialogRoot:{minWidth:la},dialogRootWider:{minWidth:hi},dialog:{"&:first-child":{padding:0}},withAdditionalAction:{justifyContent:"flex-start","& > *:first-child":{marginRight:"auto"}}}),wp=ue(Cp,{name:"MuiPickersModal"})(gi),vi=typeof window>"u"?f.exports.useEffect:f.exports.useLayoutEffect;function bi(t,e){var n=e[t.key];n&&(n(),t.preventDefault())}function xi(t,e){var n=f.exports.useRef(e);n.current=e,vi(function(){if(t){var r=function(i){bi(i,n.current)};return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}},[t])}var yi=function(e){var n=e.open,r=e.children,a=e.okLabel,i=e.cancelLabel,s=e.clearLabel,o=e.todayLabel,c=e.showTodayButton,d=e.clearable,p=e.DialogProps,u=e.showTabs,m=e.wider,h=e.InputComponent,g=e.DateInputProps,v=e.onClear,b=e.onAccept,C=e.onDismiss,y=e.onSetToday,P=te(e,["open","children","okLabel","cancelLabel","clearLabel","todayLabel","showTodayButton","clearable","DialogProps","showTabs","wider","InputComponent","DateInputProps","onClear","onAccept","onDismiss","onSetToday"]);return xi(n,{Enter:b}),f.exports.createElement(f.exports.Fragment,null,f.exports.createElement(h,H({},P,g)),f.exports.createElement(wp,H({wider:m,showTabs:u,open:n,onClear:v,onAccept:b,onDismiss:C,onSetToday:y,clearLabel:s,todayLabel:o,okLabel:a,cancelLabel:i,clearable:d,showTodayButton:c,children:r},p)))};yi.defaultProps={okLabel:"OK",cancelLabel:"Cancel",clearLabel:"Clear",todayLabel:"Today",clearable:!1,showTodayButton:!1};var Sp=function(e){var n=e.open;e.wider;var r=e.children,a=e.PopoverProps;e.onClear;var i=e.onDismiss;e.onSetToday;var s=e.onAccept;e.showTabs;var o=e.DateInputProps,c=e.InputComponent,d=te(e,["open","wider","children","PopoverProps","onClear","onDismiss","onSetToday","onAccept","showTabs","DateInputProps","InputComponent"]),p=f.exports.useRef();return xi(n,{Enter:s}),f.exports.createElement(f.exports.Fragment,null,f.exports.createElement(c,H({},d,o,{inputRef:p})),f.exports.createElement(rl,H({open:n,onClose:i,anchorEl:p.current,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:r},a)))};function Pp(t){switch(t){case"inline":return Sp;case"static":return yp;default:return yi}}var ca=f.exports.createContext(null),Ep=function(e){var n=e.variant,r=te(e,["variant"]),a=Pp(n);return f.exports.createElement(ca.Provider,{value:n||"dialog"},f.exports.createElement(a,r))},Dp=function(t){yo(e,t);function e(r){var a;return a=t.call(this,r)||this,a._state=null,a._del=!1,a._handleChange=function(i){var s=a.state.value,o=i.target.value,c=i.target,d=o.length>s.length,p=a._del,u=s===a.props.format(o);a.setState({value:o,local:!0},function(){var m=c.selectionStart,h=a.props.refuse||/[^\d]+/g,g=o.substr(0,m).replace(h,"");if(a._state={input:c,before:g,op:d,di:p&&u,del:p},a.props.replace&&a.props.replace(s)&&d&&!u){for(var v=-1,b=0;b!==g.length;++b)v=Math.max(v,o.toLowerCase().indexOf(g[b].toLowerCase(),v+1));var C=o.substr(v+1).replace(h,"")[0];v=o.indexOf(C,v+1),o=""+o.substr(0,v)+o.substr(v+1)}var y=a.props.format(o);s===y?a.setState({value:o}):a.props.onChange(y)})},a._hKD=function(i){i.code==="Delete"&&(a._del=!0)},a._hKU=function(i){i.code==="Delete"&&(a._del=!1)},a.state={value:r.value,local:!0},a}e.getDerivedStateFromProps=function(a,i){return{value:i.local?i.value:a.value,local:!1}};var n=e.prototype;return n.render=function(){var a=this._handleChange,i=this.state.value,s=this.props.children;return s({value:i,onChange:a})},n.componentWillUnmount=function(){document.removeEventListener("keydown",this._hKD),document.removeEventListener("keyup",this._hKU)},n.componentDidMount=function(){document.addEventListener("keydown",this._hKD),document.addEventListener("keyup",this._hKU)},n.componentDidUpdate=function(){var a=this._state;if(a){for(var i=this.state.value,s=-1,o=0;o!==a.before.length;++o)s=Math.max(s,i.toLowerCase().indexOf(a.before[o].toLowerCase(),s+1));if(this.props.replace&&(a.op||a.del&&!a.di))for(;i[s+1]&&(this.props.refuse||/[^\d]+/).test(i[s+1]);)s+=1;a.input.selectionStart=a.input.selectionEnd=s+1+(a.di?1:0)}this._state=null},e}(f.exports.Component),Tp=K(function(t){return{day:{width:36,height:36,fontSize:t.typography.caption.fontSize,margin:"0 2px",color:t.palette.text.primary,fontWeight:t.typography.fontWeightMedium,padding:0},hidden:{opacity:0,pointerEvents:"none"},current:{color:t.palette.primary.main,fontWeight:600},daySelected:{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{backgroundColor:t.palette.primary.main}},dayDisabled:{pointerEvents:"none",color:t.palette.text.hint}}},{name:"MuiPickersDay"}),da=function(e){var n=e.children,r=e.disabled,a=e.hidden,i=e.current,s=e.selected,o=te(e,["children","disabled","hidden","current","selected"]),c=Tp(),d=J(c.day,a&&c.hidden,i&&c.current,s&&c.daySelected,r&&c.dayDisabled);return f.exports.createElement(et,H({className:d,tabIndex:a||r?-1:0},o),f.exports.createElement(z,{variant:"body2",color:"inherit"},n))};da.displayName="Day";da.defaultProps={disabled:!1,hidden:!1,current:!1,selected:!1};const Ip=da;var Np=function(e){var n=e.date,r=e.utils,a=e.minDate,i=e.maxDate,s=e.disableFuture,o=e.disablePast,c=e.shouldDisableDate,d=r.startOfDay(r.date());o&&r.isBefore(a,d)&&(a=d),s&&r.isAfter(i,d)&&(i=d);var p=n,u=n;for(r.isBefore(n,a)&&(p=r.date(a),u=null),r.isAfter(n,i)&&(u&&(u=r.date(i)),p=null);p||u;){if(p&&r.isAfter(p,i)&&(p=null),u&&r.isBefore(u,a)&&(u=null),p){if(!c(p))return p;p=r.addDays(p,1)}if(u){if(!c(u))return u;u=r.addDays(u,-1)}}return r.date()},kp=function(e){var n=e.children,r=e.value,a=e.disabled,i=e.onSelect,s=e.dayInCurrentMonth,o=te(e,["children","value","disabled","onSelect","dayInCurrentMonth"]),c=f.exports.useCallback(function(){return i(r)},[i,r]);return f.exports.createElement("div",H({role:"presentation",onClick:s&&!a?c:void 0,onKeyPress:s&&!a?c:void 0},o),n)},Ci=350,Op=K(function(t){var e=t.transitions.create("transform",{duration:Ci,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{transitionContainer:{display:"block",position:"relative","& > *":{position:"absolute",top:0,right:0,left:0}},"slideEnter-left":{willChange:"transform",transform:"translate(100%)"},"slideEnter-right":{willChange:"transform",transform:"translate(-100%)"},slideEnterActive:{transform:"translate(0%)",transition:e},slideExit:{transform:"translate(0%)"},"slideExitActiveLeft-left":{willChange:"transform",transform:"translate(-200%)",transition:e},"slideExitActiveLeft-right":{willChange:"transform",transform:"translate(200%)",transition:e}}},{name:"MuiPickersSlideTransition"}),wi=function(e){var n=e.children,r=e.transKey,a=e.slideDirection,i=e.className,s=i===void 0?null:i,o=Op(),c={exit:o.slideExit,enterActive:o.slideEnterActive,enter:o["slideEnter-"+a],exitActive:o["slideExitActiveLeft-"+a]};return f.exports.createElement(al,{className:J(o.transitionContainer,s),childFactory:function(p){return f.exports.cloneElement(p,{classNames:c})}},f.exports.createElement($d,{mountOnEnter:!0,unmountOnExit:!0,key:r+a,timeout:Ci,classNames:c,children:n}))},Mp=function(e){return x(xn,{...e,children:[l("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),l("path",{fill:"none",d:"M0 0h24v24H0V0z"})]})},Lp=function(e){return x(xn,{...e,children:[l("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),l("path",{fill:"none",d:"M0 0h24v24H0V0z"})]})},$p=K(function(t){return{switchHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:t.spacing(.5),marginBottom:t.spacing(1)},transitionContainer:{width:"100%",overflow:"hidden",height:23},iconButton:{zIndex:1,backgroundColor:t.palette.background.paper},daysHeader:{display:"flex",justifyContent:"center",alignItems:"center",maxHeight:16},dayLabel:{width:36,margin:"0 2px",textAlign:"center",color:t.palette.text.hint}}},{name:"MuiPickersCalendarHeader"}),ua=function(e){var n=e.currentMonth,r=e.onMonthChange,a=e.leftArrowIcon,i=e.rightArrowIcon,s=e.leftArrowButtonProps,o=e.rightArrowButtonProps,c=e.disablePrevMonth,d=e.disableNextMonth,p=e.slideDirection,u=Ye(),m=$p(),h=Tt(),g=h.direction==="rtl",v=function(){return r(u.getNextMonth(n),"left")},b=function(){return r(u.getPreviousMonth(n),"right")};return f.exports.createElement("div",null,f.exports.createElement("div",{className:m.switchHeader},f.exports.createElement(et,H({},s,{disabled:c,onClick:b,className:m.iconButton}),g?i:a),f.exports.createElement(wi,{slideDirection:p,transKey:n.toString(),className:m.transitionContainer},f.exports.createElement(z,{align:"center",variant:"body1"},u.getCalendarHeaderText(n))),f.exports.createElement(et,H({},o,{disabled:d,onClick:v,className:m.iconButton}),g?a:i)),f.exports.createElement("div",{className:m.daysHeader},u.getWeekdays().map(function(C,y){return f.exports.createElement(z,{key:y,variant:"caption",className:m.dayLabel},C)})))};ua.displayName="CalendarHeader";ua.defaultProps={leftArrowIcon:f.exports.createElement(Mp,null),rightArrowIcon:f.exports.createElement(Lp,null),disablePrevMonth:!1,disableNextMonth:!1};var Ap=function(){return function(e){var n=function(a){var i=Ye();return f.exports.createElement(e,H({utils:i},a))};return n.displayName="WithUtils(".concat(e.displayName||e.name,")"),n}},Rp=function(e){var n=e.onKeyDown;return f.exports.useEffect(function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}},[n]),null},pa=function(t){ia(e,t);function e(){var n,r;Fr(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=sa(this,(n=gn(e)).call.apply(n,[this].concat(i))),r.state={slideDirection:"left",currentMonth:r.props.utils.startOfMonth(r.props.date),loadingQueue:0},r.pushToLoadingQueue=function(){var o=r.state.loadingQueue+1;r.setState({loadingQueue:o})},r.popFromLoadingQueue=function(){var o=r.state.loadingQueue;o=o<=0?0:o-1,r.setState({loadingQueue:o})},r.handleChangeMonth=function(o,c){if(r.setState({currentMonth:o,slideDirection:c}),r.props.onMonthChange){var d=r.props.onMonthChange(o);d&&(r.pushToLoadingQueue(),d.then(function(){r.popFromLoadingQueue()}))}},r.validateMinMaxDate=function(o){var c=r.props,d=c.minDate,p=c.maxDate,u=c.utils,m=c.disableFuture,h=c.disablePast,g=u.date();return Boolean(m&&u.isAfterDay(o,g)||h&&u.isBeforeDay(o,g)||d&&u.isBeforeDay(o,u.date(d))||p&&u.isAfterDay(o,u.date(p)))},r.shouldDisablePrevMonth=function(){var o=r.props,c=o.utils,d=o.disablePast,p=o.minDate,u=c.date(),m=c.startOfMonth(d&&c.isAfter(u,c.date(p))?u:c.date(p));return!c.isBefore(m,r.state.currentMonth)},r.shouldDisableNextMonth=function(){var o=r.props,c=o.utils,d=o.disableFuture,p=o.maxDate,u=c.date(),m=c.startOfMonth(d&&c.isBefore(u,c.date(p))?u:c.date(p));return!c.isAfter(m,r.state.currentMonth)},r.shouldDisableDate=function(o){var c=r.props.shouldDisableDate;return r.validateMinMaxDate(o)||Boolean(c&&c(o))},r.handleDaySelect=function(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,d=r.props,p=d.date,u=d.utils;r.props.onChange(u.mergeDateAndTime(o,p),c)},r.moveToDay=function(o){var c=r.props.utils;o&&!r.shouldDisableDate(o)&&(c.getMonth(o)!==c.getMonth(r.state.currentMonth)&&r.handleChangeMonth(c.startOfMonth(o),"left"),r.handleDaySelect(o,!1))},r.handleKeyDown=function(o){var c=r.props,d=c.theme,p=c.date,u=c.utils;bi(o,{ArrowUp:function(){return r.moveToDay(u.addDays(p,-7))},ArrowDown:function(){return r.moveToDay(u.addDays(p,7))},ArrowLeft:function(){return r.moveToDay(u.addDays(p,d.direction==="ltr"?-1:1))},ArrowRight:function(){return r.moveToDay(u.addDays(p,d.direction==="ltr"?1:-1))}})},r.renderWeeks=function(){var o=r.props,c=o.utils,d=o.classes,p=c.getWeekArray(r.state.currentMonth);return p.map(function(u){return f.exports.createElement("div",{key:"week-".concat(u[0].toString()),className:d.week},r.renderDays(u))})},r.renderDays=function(o){var c=r.props,d=c.date,p=c.renderDay,u=c.utils,m=u.date(),h=u.startOfDay(d),g=u.getMonth(r.state.currentMonth);return o.map(function(v){var b=r.shouldDisableDate(v),C=u.getMonth(v)===g,y=f.exports.createElement(Ip,{disabled:b,current:u.isSameDay(v,m),hidden:!C,selected:u.isSameDay(h,v)},u.getDayText(v));return p&&(y=p(v,h,C,y)),f.exports.createElement(kp,{value:v,key:v.toString(),disabled:b,dayInCurrentMonth:C,onSelect:r.handleDaySelect},y)})},r}return Hr(e,[{key:"componentDidMount",value:function(){var r=this.props,a=r.date,i=r.minDate,s=r.maxDate,o=r.utils,c=r.disablePast,d=r.disableFuture;if(this.shouldDisableDate(a)){var p=Np({date:a,utils:o,minDate:o.date(i),maxDate:o.date(s),disablePast:Boolean(c),disableFuture:Boolean(d),shouldDisableDate:this.shouldDisableDate});this.handleDaySelect(p,!1)}}},{key:"render",value:function(){var r=this.state,a=r.currentMonth,i=r.slideDirection,s=this.props,o=s.classes,c=s.allowKeyboardControl,d=s.leftArrowButtonProps,p=s.leftArrowIcon,u=s.rightArrowButtonProps,m=s.rightArrowIcon,h=s.loadingIndicator,g=h||f.exports.createElement(kr,null);return f.exports.createElement(f.exports.Fragment,null,c&&this.context!=="static"&&f.exports.createElement(Rp,{onKeyDown:this.handleKeyDown}),f.exports.createElement(ua,{currentMonth:a,slideDirection:i,onMonthChange:this.handleChangeMonth,leftArrowIcon:p,leftArrowButtonProps:d,rightArrowIcon:m,rightArrowButtonProps:u,disablePrevMonth:this.shouldDisablePrevMonth(),disableNextMonth:this.shouldDisableNextMonth()}),f.exports.createElement(wi,{slideDirection:i,transKey:a.toString(),className:o.transitionContainer},f.exports.createElement(f.exports.Fragment,null,this.state.loadingQueue>0&&f.exports.createElement("div",{className:o.progressContainer},g)||f.exports.createElement("div",null,this.renderWeeks()))))}}],[{key:"getDerivedStateFromProps",value:function(r,a){var i=r.utils,s=r.date;if(!i.isEqual(s,a.lastDate)){var o=i.getMonth(s),c=a.lastDate||s,d=i.getMonth(c);return{lastDate:s,currentMonth:r.utils.startOfMonth(s),slideDirection:o===d?a.slideDirection:i.isAfterDay(s,c)?"left":"right"}}return null}}]),e}(f.exports.Component);pa.contextType=ca;pa.defaultProps={minDate:new Date("1900-01-01"),maxDate:new Date("2100-01-01"),disablePast:!1,disableFuture:!1,allowKeyboardControl:!0};var Bp=function(e){return{transitionContainer:{minHeight:36*6,marginTop:e.spacing(1.5)},progressContainer:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},week:{display:"flex",justifyContent:"center"}}},Si=ue(Bp,{name:"MuiPickersCalendar",withTheme:!0})(Ap()(pa)),Rr;(function(t){t.HOURS="hours",t.MINUTES="minutes",t.SECONDS="seconds"})(Rr||(Rr={}));var at=Rr,Pi=function(t){ia(e,t);function e(){var n,r;Fr(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=sa(this,(n=gn(e)).call.apply(n,[this].concat(i))),r.state={toAnimateTransform:!1,previousType:void 0},r.getAngleStyle=function(){var o=r.props,c=o.value,d=o.isInner,p=o.type,u=p===at.HOURS?12:60,m=360/u*c;return p===at.HOURS&&c>12&&(m-=360),{height:d?"26%":"40%",transform:"rotateZ(".concat(m,"deg)")}},r}return Hr(e,[{key:"render",value:function(){var r=this.props,a=r.classes,i=r.hasSelected;return f.exports.createElement("div",{style:this.getAngleStyle(),className:J(a.pointer,this.state.toAnimateTransform&&a.animateTransform)},f.exports.createElement("div",{className:J(a.thumb,i&&a.noPoint)}))}}]),e}(f.exports.Component);Pi.getDerivedStateFromProps=function(t,e){return t.type!==e.previousType?{toAnimateTransform:!0,previousType:t.type}:{toAnimateTransform:!1,previousType:t.type}};var Wp=function(e){return bn({pointer:{width:2,backgroundColor:e.palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px"},animateTransform:{transition:e.transitions.create(["transform","height"])},thumb:{width:4,height:4,backgroundColor:e.palette.primary.contrastText,borderRadius:"100%",position:"absolute",top:-21,left:-15,border:"14px solid ".concat(e.palette.primary.main),boxSizing:"content-box"},noPoint:{backgroundColor:e.palette.primary.main}})},Fp=ue(Wp,{name:"MuiPickersClockPointer"})(Pi),vn={x:260/2,y:260/2},Ei={x:vn.x,y:0},Hp=Ei.x-vn.x,zp=Ei.y-vn.y,Vp=function(e){return e*57.29577951308232},Di=function(e,n,r){var a=n-vn.x,i=r-vn.y,s=Math.atan2(Hp,zp)-Math.atan2(a,i),o=Vp(s);o=Math.round(o/e)*e,o%=360;var c=Math.floor(o/e)||0,d=Math.pow(a,2)+Math.pow(i,2),p=Math.sqrt(d);return{value:c,distance:p}},_p=function(e,n,r){var a=Di(30,e,n),i=a.value,s=a.distance;return i=i||12,r?i%=12:s<90&&(i+=12,i%=24),i},Up=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,a=r*6,i=Di(a,e,n),s=i.value;return s=s*r%60,s},Ti=function(e,n){return n.getHours(e)>=12?"pm":"am"},Ii=function(e,n,r,a){if(r){var i=a.getHours(e)>=12?"pm":"am";if(i!==n){var s=n==="am"?a.getHours(e)-12:a.getHours(e)+12;return a.setHours(e,s)}}return e},Ni=function(t){ia(e,t);function e(){var n,r;Fr(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=sa(this,(n=gn(e)).call.apply(n,[this].concat(i))),r.isMoving=!1,r.handleTouchMove=function(o){r.isMoving=!0,r.setTime(o)},r.handleTouchEnd=function(o){r.isMoving&&(r.setTime(o,!0),r.isMoving=!1)},r.handleMove=function(o){o.preventDefault(),o.stopPropagation();var c=typeof o.buttons>"u"?o.nativeEvent.which===1:o.buttons===1;c&&r.setTime(o.nativeEvent,!1)},r.handleMouseUp=function(o){r.isMoving&&(r.isMoving=!1),r.setTime(o.nativeEvent,!0)},r.hasSelected=function(){var o=r.props,c=o.type,d=o.value;return c===at.HOURS?!0:d%5===0},r}return Hr(e,[{key:"setTime",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=r.offsetX,s=r.offsetY;if(typeof i>"u"){var o=r.target.getBoundingClientRect();i=r.changedTouches[0].clientX-o.left,s=r.changedTouches[0].clientY-o.top}var c=this.props.type===at.SECONDS||this.props.type===at.MINUTES?Up(i,s,this.props.minutesStep):_p(i,s,Boolean(this.props.ampm));this.props.onChange(c,a)}},{key:"render",value:function(){var r=this.props,a=r.classes,i=r.value,s=r.children,o=r.type,c=r.ampm,d=!c&&o===at.HOURS&&(i<1||i>12);return f.exports.createElement("div",{className:a.container},f.exports.createElement("div",{className:a.clock},f.exports.createElement("div",{role:"menu",tabIndex:-1,className:a.squareMask,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onMouseUp:this.handleMouseUp,onMouseMove:this.handleMove}),f.exports.createElement("div",{className:a.pin}),f.exports.createElement(Fp,{type:o,value:i,isInner:d,hasSelected:this.hasSelected()}),s))}}]),e}(f.exports.Component);Ni.defaultProps={ampm:!1,minutesStep:1};var Yp=function(e){return bn({container:{display:"flex",justifyContent:"center",alignItems:"flex-end",margin:"".concat(e.spacing(2),"px 0 ").concat(e.spacing(1),"px")},clock:{backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:260,width:260,position:"relative",pointerEvents:"none"},squareMask:{width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:"none",touchActions:"none",userSelect:"none","&:active":{cursor:"move"}},pin:{width:6,height:6,borderRadius:"50%",backgroundColor:e.palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})},Kp=ue(Yp,{name:"MuiPickersClock"})(Ni),Gp={0:[0,40],1:[55,19.6],2:[94.4,59.5],3:[109,114],4:[94.4,168.5],5:[54.5,208.4],6:[0,223],7:[-54.5,208.4],8:[-94.4,168.5],9:[-109,114],10:[-94.4,59.5],11:[-54.5,19.6],12:[0,5],13:[36.9,49.9],14:[64,77],15:[74,114],16:[64,151],17:[37,178],18:[0,188],19:[-37,178],20:[-64,151],21:[-74,114],22:[-64,77],23:[-37,50]},qp=K(function(t){var e=t.spacing(4);return{clockNumber:{width:e,height:32,userSelect:"none",position:"absolute",left:"calc((100% - ".concat(typeof e=="number"?"".concat(e,"px"):e,") / 2)"),display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:t.palette.type==="light"?t.palette.text.primary:t.palette.text.hint},clockNumberSelected:{color:t.palette.primary.contrastText}}},{name:"MuiPickersClockNumber"}),Ae=function(e){var n=e.selected,r=e.label,a=e.index,i=e.isInner,s=qp(),o=J(s.clockNumber,n&&s.clockNumberSelected),c=f.exports.useMemo(function(){var d=Gp[a];return{transform:"translate(".concat(d[0],"px, ").concat(d[1],"px")}},[a]);return f.exports.createElement(z,{component:"span",className:o,variant:i?"body2":"body1",style:c,children:r})},Jp=function(e){for(var n=e.ampm,r=e.utils,a=e.date,i=r.getHours(a),s=[],o=n?1:0,c=n?12:23,d=function(g){return n?g===12?i===12||i===0:i===g||i-12===g:i===g},p=o;p<=c;p+=1){var u=p.toString();p===0&&(u="00");var m={index:p,label:r.formatNumber(u),selected:d(p),isInner:!n&&(p===0||p>12)};s.push(f.exports.createElement(Ae,H({key:p},m)))}return s},Va=function(e){var n=e.value,r=e.utils,a=r.formatNumber;return[f.exports.createElement(Ae,{label:a("00"),selected:n===0,index:12,key:12}),f.exports.createElement(Ae,{label:a("05"),selected:n===5,index:1,key:1}),f.exports.createElement(Ae,{label:a("10"),selected:n===10,index:2,key:2}),f.exports.createElement(Ae,{label:a("15"),selected:n===15,index:3,key:3}),f.exports.createElement(Ae,{label:a("20"),selected:n===20,index:4,key:4}),f.exports.createElement(Ae,{label:a("25"),selected:n===25,index:5,key:5}),f.exports.createElement(Ae,{label:a("30"),selected:n===30,index:6,key:6}),f.exports.createElement(Ae,{label:a("35"),selected:n===35,index:7,key:7}),f.exports.createElement(Ae,{label:a("40"),selected:n===40,index:8,key:8}),f.exports.createElement(Ae,{label:a("45"),selected:n===45,index:9,key:9}),f.exports.createElement(Ae,{label:a("50"),selected:n===50,index:10,key:10}),f.exports.createElement(Ae,{label:a("55"),selected:n===55,index:11,key:11})]},Et=function(e){var n=e.type,r=e.onHourChange,a=e.onMinutesChange,i=e.onSecondsChange,s=e.ampm,o=e.date,c=e.minutesStep,d=Ye(),p=f.exports.useMemo(function(){switch(n){case at.HOURS:return{value:d.getHours(o),children:Jp({date:o,utils:d,ampm:Boolean(s)}),onChange:function(g,v){var b=Ti(o,d),C=Ii(d.setHours(o,g),b,Boolean(s),d);r(C,v)}};case at.MINUTES:var u=d.getMinutes(o);return{value:u,children:Va({value:u,utils:d}),onChange:function(g,v){var b=d.setMinutes(o,g);a(b,v)}};case at.SECONDS:var m=d.getSeconds(o);return{value:m,children:Va({value:m,utils:d}),onChange:function(g,v){var b=d.setSeconds(o,g);i(b,v)}};default:throw new Error("You must provide the type for TimePickerView")}},[s,o,r,a,i,n,d]);return f.exports.createElement(Kp,H({type:n,ampm:s,minutesStep:c},p))};Et.displayName="TimePickerView";Et.defaultProps={ampm:!0,minutesStep:1};f.exports.memo(Et);function _a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function jp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_a(n,!0).forEach(function(r){Te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_a(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}ce.exports.oneOfType([ce.exports.object,ce.exports.string,ce.exports.number,ce.exports.instanceOf(Date)]);ce.exports.oneOf(["year","month","day"]);var Xp={ampm:!0,invalidDateMessage:"Invalid Time Format"},ki={minDate:new Date("1900-01-01"),maxDate:new Date("2100-01-01"),invalidDateMessage:"Invalid Date Format",minDateMessage:"Date should not be before minimal date",maxDateMessage:"Date should not be after maximal date",allowKeyboardControl:!0},Qp=jp({},Xp,{},ki,{showTabs:!0});function Zp(t,e,n){var r=f.exports.useState(e&&vp(t,e)?e:t[0]),a=je(r,2),i=a[0],s=a[1],o=f.exports.useCallback(function(c,d){var p=t[t.indexOf(i)+1];if(d&&p){n(c,!1),s(p);return}n(c,Boolean(d))},[n,i,t]);return{handleChangeAndOpenNext:o,openView:i,setOpenView:s}}var ef=K(function(t){return{root:{height:40,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",outline:"none","&:focus":{color:t.palette.primary.main,fontWeight:t.typography.fontWeightMedium}},yearSelected:{margin:"10px 0",fontWeight:t.typography.fontWeightMedium},yearDisabled:{pointerEvents:"none",color:t.palette.text.hint}}},{name:"MuiPickersYear"}),Oi=function(e){var n=e.onSelect,r=e.forwardedRef,a=e.value,i=e.selected,s=e.disabled,o=e.children,c=te(e,["onSelect","forwardedRef","value","selected","disabled","children"]),d=ef(),p=f.exports.useCallback(function(){return n(a)},[n,a]);return f.exports.createElement(z,H({role:"button",component:"div",tabIndex:s?-1:0,onClick:p,onKeyPress:p,color:i?"primary":void 0,variant:i?"h5":"subtitle1",children:o,ref:r,className:J(d.root,i&&d.yearSelected,s&&d.yearDisabled)},c))};Oi.displayName="Year";var tf=f.exports.forwardRef(function(t,e){return f.exports.createElement(Oi,H({},t,{forwardedRef:e}))}),nf=K({container:{height:300,overflowY:"auto"}},{name:"MuiPickersYearSelection"}),Mi=function(e){var n=e.date,r=e.onChange,a=e.onYearChange,i=e.minDate,s=e.maxDate,o=e.disablePast,c=e.disableFuture,d=e.animateYearScrolling,p=Ye(),u=nf(),m=f.exports.useContext(ca),h=f.exports.useRef(null);f.exports.useEffect(function(){if(h.current&&h.current.scrollIntoView)try{h.current.scrollIntoView({block:m==="static"?"nearest":"center",behavior:d?"smooth":"auto"})}catch{h.current.scrollIntoView()}},[]);var g=p.getYear(n),v=f.exports.useCallback(function(b){var C=p.setYear(n,b);a&&a(C),r(C,!0)},[n,r,a,p]);return f.exports.createElement("div",{className:u.container},p.getYearRange(i,s).map(function(b){var C=p.getYear(b),y=C===g;return f.exports.createElement(tf,{key:p.getYearText(b),selected:y,value:C,onSelect:v,ref:y?h:void 0,disabled:Boolean(o&&p.isBeforeYear(b,p.date())||c&&p.isAfterYear(b,p.date()))},p.getYearText(b))}))},rf=K(function(t){return{root:{flex:"1 0 33.33%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",outline:"none",height:75,transition:t.transitions.create("font-size",{duration:"100ms"}),"&:focus":{color:t.palette.primary.main,fontWeight:t.typography.fontWeightMedium}},monthSelected:{color:t.palette.primary.main,fontWeight:t.typography.fontWeightMedium},monthDisabled:{pointerEvents:"none",color:t.palette.text.hint}}},{name:"MuiPickersMonth"}),Li=function(e){var n=e.selected,r=e.onSelect,a=e.disabled,i=e.value,s=e.children,o=te(e,["selected","onSelect","disabled","value","children"]),c=rf(),d=f.exports.useCallback(function(){r(i)},[r,i]);return f.exports.createElement(z,H({role:"button",component:"div",className:J(c.root,n&&c.monthSelected,a&&c.monthDisabled),tabIndex:a?-1:0,onClick:d,onKeyPress:d,color:n?"primary":void 0,variant:n?"h5":"subtitle1",children:s},o))};Li.displayName="Month";var af=K({container:{width:310,display:"flex",flexWrap:"wrap",alignContent:"stretch"}},{name:"MuiPickersMonthSelection"}),$i=function(e){var n=e.disablePast,r=e.disableFuture,a=e.minDate,i=e.maxDate,s=e.date,o=e.onMonthChange,c=e.onChange,d=Ye(),p=af(),u=d.getMonth(s),m=function(v){var b=d.date(),C=d.date(a),y=d.date(i),P=d.startOfMonth(n&&d.isAfter(b,C)?b:C),S=d.startOfMonth(r&&d.isBefore(b,y)?b:y),T=d.isBefore(v,P),k=d.isAfter(v,S);return T||k},h=f.exports.useCallback(function(g){var v=d.setMonth(s,g);c(v,!0),o&&o(v)},[s,c,o,d]);return f.exports.createElement("div",{className:p.container},d.getMonthArray(s).map(function(g){var v=d.getMonth(g),b=d.format(g,"MMM");return f.exports.createElement(Li,{key:b,value:v,selected:v===u,onSelect:h,disabled:m(g)},b)}))},Ua=function(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"};function of(t){var e=f.exports.useState(Ua()),n=je(e,2),r=n[0],a=n[1],i=f.exports.useCallback(function(){return a(Ua())},[]);vi(function(){return window.addEventListener("orientationchange",i),function(){return window.removeEventListener("orientationchange",i)}},[i]);var s=t||r;return s==="landscape"}function Ya(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function sf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ya(n,!0).forEach(function(r){Te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ya(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var lf={year:Mi,month:$i,date:Si,hours:Et,minutes:Et,seconds:Et},cf=K({container:{display:"flex",flexDirection:"column"},containerLandscape:{flexDirection:"row"},pickerView:{overflowX:"hidden",minHeight:bp,minWidth:la,maxWidth:hi,display:"flex",flexDirection:"column",justifyContent:"center"},pickerViewLandscape:{padding:"0 8px"}},{name:"MuiPickersBasePicker"}),Ai=function(e){var n=e.date,r=e.views,a=e.disableToolbar,i=e.onChange,s=e.openTo,o=e.minDate,c=e.maxDate,d=e.ToolbarComponent,p=e.orientation,u=te(e,["date","views","disableToolbar","onChange","openTo","minDate","maxDate","ToolbarComponent","orientation"]),m=Ye(),h=cf(),g=of(p),v=Zp(r,s,i),b=v.openView,C=v.setOpenView,y=v.handleChangeAndOpenNext,P=f.exports.useMemo(function(){return m.date(o)},[o,m]),S=f.exports.useMemo(function(){return m.date(c)},[c,m]);return f.exports.createElement("div",{className:J(h.container,g&&h.containerLandscape)},!a&&f.exports.createElement(d,H({},u,{views:r,isLandscape:g,date:n,onChange:i,setOpenView:C,openView:b})),f.exports.createElement("div",{className:J(h.pickerView,g&&h.pickerViewLandscape)},b==="year"&&f.exports.createElement(Mi,H({},u,{date:n,onChange:y,minDate:P,maxDate:S})),b==="month"&&f.exports.createElement($i,H({},u,{date:n,onChange:y,minDate:P,maxDate:S})),b==="date"&&f.exports.createElement(Si,H({},u,{date:n,onChange:y,minDate:P,maxDate:S})),(b==="hours"||b==="minutes"||b==="seconds")&&f.exports.createElement(Et,H({},u,{date:n,type:b,onHourChange:y,onMinutesChange:y,onSecondsChange:y}))))};Ai.defaultProps=sf({},ki,{views:Object.keys(lf)});var df=K(function(t){var e=t.palette.type==="light"?t.palette.primary.contrastText:t.palette.getContrastText(t.palette.background.default);return{toolbarTxt:{color:ol(e,.54)},toolbarBtnSelected:{color:e}}},{name:"MuiPickersToolbarText"}),Ri=function(e){var n=e.selected,r=e.label,a=e.className,i=a===void 0?null:a,s=te(e,["selected","label","className"]),o=df();return f.exports.createElement(z,H({children:r,className:J(o.toolbarTxt,i,n&&o.toolbarBtnSelected)},s))},Bi=function(e){var n=e.classes,r=e.className,a=r===void 0?null:r,i=e.label,s=e.selected,o=e.variant,c=e.align,d=e.typographyClassName,p=te(e,["classes","className","label","selected","variant","align","typographyClassName"]);return f.exports.createElement(Ze,H({variant:"text",className:J(n.toolbarBtn,a)},p),f.exports.createElement(Ri,{align:c,className:d,variant:o,label:i,selected:s}))};Bi.defaultProps={className:""};var uf=bn({toolbarBtn:{padding:0,minWidth:"16px",textTransform:"none"}}),Wt=ue(uf,{name:"MuiPickersToolbarButton"})(Bi),pf=K(function(t){return{toolbar:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",height:100,backgroundColor:t.palette.type==="light"?t.palette.primary.main:t.palette.background.default},toolbarLandscape:{height:"auto",maxWidth:150,padding:8,justifyContent:"flex-start"}}},{name:"MuiPickersToolbar"}),ff=function(e){var n=e.children,r=e.isLandscape,a=e.className,i=a===void 0?null:a,s=te(e,["children","isLandscape","className"]),o=pf();return f.exports.createElement(So,H({className:J(o.toolbar,i,r&&o.toolbarLandscape)},s),n)};function Ka(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ka(n,!0).forEach(function(r){Te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ka(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Wi=function(e){var n=e.inputValue,r=e.inputVariant,a=e.validationError,i=e.InputProps,s=e.openPicker,o=e.TextFieldComponent,c=o===void 0?ht:o,d=te(e,["inputValue","inputVariant","validationError","InputProps","openPicker","TextFieldComponent"]),p=f.exports.useMemo(function(){return mf({},i,{readOnly:!0})},[i]);return f.exports.createElement(c,H({error:Boolean(a),helperText:a},d,{onClick:s,value:n,variant:r,InputProps:p,onKeyDown:function(m){m.keyCode===32&&(m.stopPropagation(),s())}}))};Wi.displayName="PureDateInput";var hf=function(e){return x(xn,{...e,children:[l("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),l("path",{fill:"none",d:"M0 0h24v24H0z"})]})},Fi=function(e,n,r,a,i){var s=i.invalidLabel,o=i.emptyLabel,c=i.labelFunc,d=r.date(e);return c?c(a?null:d,s):a?o||"":r.isValid(d)?r.format(d,n):s},Ga=function(e,n,r){return n?r:e.endOfDay(r)},qa=function(e,n,r){return n?r:e.startOfDay(r)},gf=function(e,n,r){var a=r.maxDate,i=r.minDate,s=r.disablePast,o=r.disableFuture,c=r.maxDateMessage,d=r.minDateMessage,p=r.invalidDateMessage,u=r.strictCompareDates,m=n.date(e);return e===null?"":n.isValid(e)?a&&n.isAfter(m,Ga(n,!!u,n.date(a)))||o&&n.isAfter(m,Ga(n,!!u,n.date()))?c:i&&n.isBefore(m,qa(n,!!u,n.date(i)))||s&&n.isBefore(m,qa(n,!!u,n.date()))?d:"":p};function vf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2?arguments[2]:void 0;return t||(e?n["12h"]:n["24h"])}function bf(t,e){return t.replace(/[a-z]/gi,e)}var xf=function(e,n,r){return function(a){var i="",s=a.replace(r,"");if(s==="")return s;for(var o=0,c=0;o<e.length;){var d=e[o];if(d===n&&c<s.length){var p=s[c];i+=p,c+=1}else i+=d;o+=1}return i}};function Ja(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ja(n,!0).forEach(function(r){Te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ja(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Hi=function(e){var n=e.inputValue,r=e.inputVariant,a=e.validationError,i=e.KeyboardButtonProps,s=e.InputAdornmentProps,o=e.openPicker,c=e.onChange,d=e.InputProps,p=e.mask,u=e.maskChar,m=u===void 0?"_":u,h=e.refuse,g=h===void 0?/[^\d]+/gi:h,v=e.format,b=e.keyboardIcon,C=e.disabled,y=e.rifmFormatter,P=e.TextFieldComponent,S=P===void 0?ht:P,T=te(e,["inputValue","inputVariant","validationError","KeyboardButtonProps","InputAdornmentProps","openPicker","onChange","InputProps","mask","maskChar","refuse","format","keyboardIcon","disabled","rifmFormatter","TextFieldComponent"]),k=p||bf(v,m),V=f.exports.useMemo(function(){return xf(k,m,g)},[k,m,g]),$=s&&s.position?s.position:"end",B=function(_){var W=_===""||_===k?null:_;c(W)};return f.exports.createElement(Dp,{key:k,value:n,onChange:B,refuse:g,format:y||V},function(E){var _=E.onChange,W=E.value;return f.exports.createElement(S,H({disabled:C,error:Boolean(a),helperText:a},T,{value:W,onChange:_,variant:r,InputProps:yf({},d,Te({},"".concat($,"Adornment"),f.exports.createElement(Td,H({position:$},s),f.exports.createElement(et,H({disabled:C},i,{onClick:o}),b))))}))})};Hi.defaultProps={keyboardIcon:f.exports.createElement(hf,null)};function Cf(t){var e=t.open,n=t.onOpen,r=t.onClose,a=null;if(e==null){var i=f.exports.useState(!1),s=je(i,2);e=s[0],a=s[1]}var o=f.exports.useCallback(function(c){return a&&a(c),c?n&&n():r&&r()},[n,r,a]);return{isOpen:e,setIsOpen:o}}var wf=function(e,n){var r=n.value,a=n.initialFocusedDate,i=f.exports.useRef(e.date()),s=e.date(r||a||i.current);return s&&e.isValid(s)?s:i.current};function Sf(t,e){var n=Ye(),r=wf(n,t),a=t.format||e.getDefaultFormat();return{date:r,format:a}}function zi(t,e){var n=t.autoOk,r=t.disabled,a=t.readOnly,i=t.onAccept,s=t.onChange,o=t.onError,c=t.value,d=t.variant,p=Ye(),u=Cf(t),m=u.isOpen,h=u.setIsOpen,g=Sf(t,e),v=g.date,b=g.format,C=f.exports.useState(v),y=je(C,2),P=y[0],S=y[1];f.exports.useEffect(function(){!m&&!p.isEqual(P,v)&&S(v)},[v,m,P,p]);var T=f.exports.useCallback(function(W){s(W),i&&i(W),h(!1)},[i,s,h]),k=f.exports.useMemo(function(){return{format:b,open:m,onClear:function(){return T(null)},onAccept:function(){return T(P)},onSetToday:function(){return S(p.date())},onDismiss:function(){h(!1)}}},[T,b,m,P,h,p]),V=f.exports.useMemo(function(){return{date:P,onChange:function(G){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(S(G),X&&n){T(G);return}(d==="inline"||d==="static")&&(s(G),i&&i(G))}}},[T,n,i,s,P,d]),$=gf(c,p,t);f.exports.useEffect(function(){o&&o($,c)},[o,$,c]);var B=Fi(v,b,p,c===null,t),E=f.exports.useMemo(function(){return{inputValue:B,validationError:$,openPicker:function(){return!a&&!r&&h(!0)}}},[r,B,a,h,$]),_={pickerProps:V,inputProps:E,wrapperProps:k};return f.exports.useDebugValue(_),_}function ja(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ja(n,!0).forEach(function(r){Te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ja(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pf(t,e,n){try{return e.parse(t,n)}catch{return null}}function Ef(t,e){var n=t.format,r=n===void 0?e.getDefaultFormat():n,a=t.inputValue,i=t.onChange,s=t.value,o=Ye(),c=Fi(s,r,o,s===null,t),d=f.exports.useState(c),p=je(d,2),u=p[0],m=p[1],h=a?Pf(a,o,r):s;f.exports.useEffect(function(){(s===null||o.isValid(s))&&m(c)},[c,m,o,s]);var g=f.exports.useCallback(function(S){i(S,S===null?null:o.format(S,r))},[r,i,o]),v=zi(Xa({},t,{value:h,onChange:g}),e),b=v.inputProps,C=v.wrapperProps,y=v.pickerProps,P=f.exports.useMemo(function(){return Xa({},b,{format:C.format,inputValue:a||u,onChange:function(T){m(T||"");var k=T===null?null:o.parse(T,C.format);i(k,T)}})},[b,u,a,i,o,C.format]);return{inputProps:P,wrapperProps:C,pickerProps:y}}function Vi(t){var e=t.Input,n=t.useState,r=t.useOptions,a=t.getCustomProps,i=t.DefaultToolbarComponent;function s(o){var c=o.allowKeyboardControl,d=o.ampm,p=o.animateYearScrolling;o.autoOk;var u=o.dateRangeIcon,m=o.disableFuture,h=o.disablePast,g=o.disableToolbar;o.emptyLabel,o.format,o.forwardedRef;var v=o.hideTabs;o.initialFocusedDate,o.invalidDateMessage,o.invalidLabel,o.labelFunc;var b=o.leftArrowButtonProps,C=o.leftArrowIcon,y=o.loadingIndicator,P=o.maxDate;o.maxDateMessage;var S=o.minDate;o.minDateMessage;var T=o.minutesStep;o.onAccept,o.onChange,o.onClose;var k=o.onMonthChange;o.onOpen;var V=o.onYearChange,$=o.openTo,B=o.orientation,E=o.renderDay,_=o.rightArrowButtonProps,W=o.rightArrowIcon,G=o.shouldDisableDate,X=o.strictCompareDates,U=o.timeIcon,N=o.ToolbarComponent,A=N===void 0?i:N;o.value;var R=o.variant,ee=o.views,ne=te(o,["allowKeyboardControl","ampm","animateYearScrolling","autoOk","dateRangeIcon","disableFuture","disablePast","disableToolbar","emptyLabel","format","forwardedRef","hideTabs","initialFocusedDate","invalidDateMessage","invalidLabel","labelFunc","leftArrowButtonProps","leftArrowIcon","loadingIndicator","maxDate","maxDateMessage","minDate","minDateMessage","minutesStep","onAccept","onChange","onClose","onMonthChange","onOpen","onYearChange","openTo","orientation","renderDay","rightArrowButtonProps","rightArrowIcon","shouldDisableDate","strictCompareDates","timeIcon","ToolbarComponent","value","variant","views"]),re=a?a(o):{},ge=r(o),be=n(o,ge),xe=be.pickerProps,Ie=be.inputProps,Q=be.wrapperProps;return f.exports.createElement(Ep,H({variant:R,InputComponent:e,DateInputProps:Ie},re,Q,ne),f.exports.createElement(Ai,H({},xe,{allowKeyboardControl:c,ampm:d,animateYearScrolling:p,dateRangeIcon:u,disableFuture:m,disablePast:h,disableToolbar:g,hideTabs:v,leftArrowButtonProps:b,leftArrowIcon:C,loadingIndicator:y,maxDate:P,minDate:S,minutesStep:T,onMonthChange:k,onYearChange:V,openTo:$,orientation:B,renderDay:E,rightArrowButtonProps:_,rightArrowIcon:W,shouldDisableDate:G,strictCompareDates:X,timeIcon:U,ToolbarComponent:A,views:ee})))}return s}K({toolbarLandscape:{flexWrap:"wrap"},toolbarAmpmLeftPadding:{paddingLeft:50},separator:{margin:"0 4px 0 2px",cursor:"default"},hourMinuteLabel:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},hourMinuteLabelAmpmLandscape:{marginTop:"auto"},hourMinuteLabelReverse:{flexDirection:"row-reverse"},ampmSelection:{marginLeft:20,marginRight:-20,display:"flex",flexDirection:"column"},ampmLandscape:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"},ampmSelectionWithSeconds:{marginLeft:15,marginRight:10},ampmLabel:{fontSize:18}},{name:"MuiPickersTimePickerToolbar"});function Df(t,e,n){var r=Ye(),a=Ti(t,r),i=f.exports.useCallback(function(s){var o=Ii(t,s,Boolean(e),r);n(o,!1)},[e,t,n,r]);return{meridiemMode:a,handleMeridiemChange:i}}var Tf=function(e){return x(xn,{...e,children:[l("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),l("path",{fill:"none",d:"M0 0h24v24H0z"}),l("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]})},If=function(e){return x(xn,{...e,children:[l("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),l("path",{fill:"none",d:"M0 0h24v24H0z"})]})},Qa=function(e){return e==="date"||e==="year"?"date":"time"},Nf=function(e){return e==="date"?"date":"hours"},kf=K(function(t){var e=t.palette.type==="light"?t.palette.primary.main:t.palette.background.default;return{tabs:{color:t.palette.getContrastText(e),backgroundColor:e}}},{name:"MuiPickerDTTabs"}),_i=function(e){var n=e.view,r=e.onChange,a=e.dateRangeIcon,i=e.timeIcon,s=kf(),o=Tt(),c=o.palette.type==="light"?"secondary":"primary",d=function(u,m){m!==Qa(n)&&r(Nf(m))};return f.exports.createElement(jt,null,f.exports.createElement(zr,{variant:"fullWidth",value:Qa(n),onChange:d,className:s.tabs,indicatorColor:c},f.exports.createElement(Ve,{value:"date",icon:f.exports.createElement(f.exports.Fragment,null,a)}),f.exports.createElement(Ve,{value:"time",icon:f.exports.createElement(f.exports.Fragment,null,i)})))};_i.defaultProps={dateRangeIcon:f.exports.createElement(If,null),timeIcon:f.exports.createElement(Tf,null)};var Of=K(function(t){return{toolbar:{paddingLeft:16,paddingRight:16,justifyContent:"space-around"},separator:{margin:"0 4px 0 2px",cursor:"default"}}},{name:"MuiPickerDTToolbar"}),Ui=function(e){var n=e.date,r=e.openView,a=e.setOpenView,i=e.ampm,s=e.hideTabs,o=e.dateRangeIcon,c=e.timeIcon,d=e.onChange,p=Ye(),u=Of(),m=!s&&typeof window<"u"&&window.innerHeight>667,h=Df(n,i,d),g=h.meridiemMode,v=h.handleMeridiemChange,b=Tt(),C=b.direction==="rtl";return f.exports.createElement(f.exports.Fragment,null,f.exports.createElement(ff,{isLandscape:!1,className:u.toolbar},f.exports.createElement(Bn,{container:!0,justify:"center",wrap:"nowrap"},f.exports.createElement(Bn,{item:!0,container:!0,xs:5,justify:"flex-start",direction:"column"},f.exports.createElement("div",null,f.exports.createElement(Wt,{variant:"subtitle1",onClick:function(){return a("year")},selected:r==="year",label:p.getYearText(n)})),f.exports.createElement("div",null,f.exports.createElement(Wt,{variant:"h4",onClick:function(){return a("date")},selected:r==="date",label:p.getDateTimePickerHeaderText(n)}))),f.exports.createElement(Bn,{item:!0,container:!0,xs:6,justify:"center",alignItems:"flex-end",direction:C?"row-reverse":"row"},f.exports.createElement(Wt,{variant:"h3",onClick:function(){return a("hours")},selected:r==="hours",label:p.getHourText(n,i)}),f.exports.createElement(Ri,{variant:"h3",label:":",className:u.separator}),f.exports.createElement(Wt,{variant:"h3",onClick:function(){return a("minutes")},selected:r==="minutes",label:p.getMinuteText(n)})),i&&f.exports.createElement(Bn,{item:!0,container:!0,xs:1,direction:"column",justify:"flex-end"},f.exports.createElement(Wt,{variant:"subtitle1",selected:g==="am",label:p.getMeridiemText("am"),onClick:function(){return v("am")}}),f.exports.createElement(Wt,{variant:"subtitle1",selected:g==="pm",label:p.getMeridiemText("pm"),onClick:function(){return v("pm")}})))),m&&f.exports.createElement(_i,{dateRangeIcon:o,timeIcon:c,view:r,onChange:a}))};function Za(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Za(n,!0).forEach(function(r){Te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Za(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Yi=Mf({},Qp,{wider:!0,orientation:"portrait",openTo:"date",views:["year","date","hours","minutes"]});function Ki(t){var e=Ye();if(t.orientation!=="portrait")throw new Error("We are not supporting custom orientation for DateTimePicker yet :(");return{getDefaultFormat:function(){return vf(t.format,t.ampm,{"12h":e.dateTime12hFormat,"24h":e.dateTime24hFormat})}}}var Lf=Vi({useOptions:Ki,Input:Wi,useState:zi,DefaultToolbarComponent:Ui}),Gi=Vi({useOptions:Ki,Input:Hi,useState:Ef,DefaultToolbarComponent:Ui,getCustomProps:function(e){return{refuse:e.ampm?/[^\dap]+/gi:/[^\d]+/gi}}});Lf.defaultProps=Yi;Gi.defaultProps=Yi;const $f=vt(l("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})),Af=vt(l("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8-8-8z"})),fa=vt(l("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})),Rf=vt(l("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})),qi=vt(l("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"})),Bf=vt(l("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}));var ma={},Wf=Eo.exports,Ff=Do.exports;Object.defineProperty(ma,"__esModule",{value:!0});var Ji=ma.default=void 0,Hf=Ff(f.exports),zf=Wf(Po()),Vf=(0,zf.default)(Hf.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");Ji=ma.default=Vf;const rr=({children:t,...e})=>l(_f,{...e,children:t}),_f=ue(t=>({root:{background:t.palette.common.white,border:`1px solid ${t.palette.primary.main}`,color:t.palette.primary.main,"&:hover":{background:j.tara},"&.Mui-disabled":{border:"none"},"& svg":{width:"14px"}}}))(Re),Uf=K(t=>bn({wrapper:{position:"absolute",top:" 50%",left:" 50%",transform:"translate(-50%, -50%)",width:648,backgroundColor:t.palette.background.paper,outline:"none"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:t.spacing(3),backgroundColor:t.palette.primary.dark},icon:{marginRight:"10px"},title:{fontWeight:L.weight.bold,fontSize:L.size.medium,color:t.palette.common.white,textTransform:"uppercase"},cancelButton:{color:"#636D7B"},content:{padding:t.spacing(3),color:t.palette.text.secondary,fontSize:L.size.default},buttonsWrapper:{display:"flex",justifyContent:"space-between",padding:t.spacing(2,3),background:j.catskillWhite}})),it=({handleClose:t,children:e,open:n,handleConfirm:r,title:a,isProcessing:i,confirmText:s,disabled:o})=>{const c=Uf(),d=Jn();return l(Wr,{open:n,onClose:t,"aria-labelledby":"modal-title","aria-describedby":"modal-description",children:x(D,{className:c.wrapper,children:[x(D,{className:c.header,children:[l(z,{className:c.title,variant:"h5",children:a}),l(et,{"aria-label":"close",className:c.cancelButton,onClick:t,children:l(Ji,{fontSize:"small"})})]}),l(D,{className:c.content,children:e}),x(D,{className:c.buttonsWrapper,children:[l(rr,{onClick:t,disabled:i,children:"Cancel"}),r&&l(Re,{onClick:r,className:d.defaultButton,isProcessing:i,disabled:o,children:s||"Confirm"})]})]})})},ar=({pristine:t,tabValue:e,setTabValue:n,onNextButtonClick:r,isNextButtonDisabled:a})=>{const i=To(),s=Xi(),[o,c]=f.exports.useState(!1),[d,p]=f.exports.useState(!1),u=()=>{i.push(Io.JOBS)},m=()=>{t?u():(p(!0),c(!0))},h=()=>{n(e-1)},g=()=>{t?h():c(!0)},v=async()=>{await r(),ji(e)||n(e+1)},b=()=>{c(!1),p(!1)};return l(D,{display:"flex",children:x(So,{className:s.root,children:[l(rr,{onClick:m,children:"Back to jobs"}),x(D,{children:[l(Yf,{tabValue:e,onClick:g}),l(Kf,{tabValue:e,disabled:a,onClick:v})]}),l(it,{open:o,handleClose:b,handleConfirm:d?u:h,title:"Discard changes?",confirmText:"Discard",children:"Your changes won't be saved if you leave now."})]})})},Yf=({tabValue:t,onClick:e})=>{const n=Xi();return l(rr,{disabled:t===0,startIcon:l($f,{style:{width:"20px",height:"20px"}}),className:n.previousButton,onClick:e})},Kf=({disabled:t,onClick:e,tabValue:n})=>l(Re,{onClick:e,endIcon:l(Af,{style:{width:"20px",height:"20px"}}),disabled:t,children:ji(n)?"Save":"Save & Next"}),ji=t=>t===Je.INVOICE,Xi=K(()=>({root:{background:De.palette.common.white,boxShadow:"0 0 8px rgba(35, 40, 46, 0.1)",display:"flex",justifyContent:"space-between",width:"100%",alignSelf:"flex-end",marginTop:0},previousButton:{marginRight:De.spacing(1),paddingLeft:De.spacing(1),paddingRight:0,minWidth:"40px"}})),Gf=K(({palette:t,spacing:e})=>({wrapperWithActions:{display:"flex",alignItems:"center",padding:`${e(1)}px ${e(3)}px`,position:"relative","&:hover":{background:j.catskillWhite,"& $actions":{display:"flex"}}},title:{fontWeight:L.weight.bold},description:{color:t.text.secondary},highlighted:{textAlign:"right",color:t.primary.main,fontWeight:L.weight.bold},textWrapper:{flexGrow:1,marginRight:e(1.5)},actions:{display:"none",width:"20%",alignItems:"center",justifyContent:"flex-end",position:"absolute",padding:0,right:e(3),top:0,bottom:0,background:"linear-gradient(270deg, #F2F4F8 55.85%, rgba(242, 244, 248, 0) 100%)"},actionButton:{borderRadius:"50%",border:0,width:"24px",minWidth:"24px",height:"24px",background:"transparent","&:hover":{borderRadius:"50%"}},actionIcon:{width:16,height:16},formWrapper:{padding:`${e(2)}px ${e(3)}px`,background:t.common.white,border:`2px solid ${t.primary.main}`},dolarIcon:{color:t.primary.main}})),Qi=({isProcessing:t,children:e,className:n,isCustom:r,...a})=>r?l(Ze,{className:n,...a,children:t?l(kr,{size:20,color:"inherit"}):e}):l(Ze,{className:n,...a,children:t?l(kr,{size:20,color:"inherit"}):e});ue(t=>({root:{fontSize:L.size.default,height:"40px",padding:`0 ${t.spacing(2)}px 0 ${t.spacing(2)}px`,fontWeight:L.weight.semiBold,background:t.palette.primary.main,boxShadow:"none",letterSpacing:"0.05em",color:t.palette.common.white,borderRadius:yn,"&:hover":{boxShadow:"none",background:j.jade},"&.Mui-disabled":{background:j.catskillWhite,color:j.grey}}}))(Ze);const qf=({children:t,...e})=>l(Qi,{...e,children:t});ue(t=>({root:{color:j.bittersweet,marginLeft:t.spacing(1.5),minWidth:"40px",height:"40px","&:hover":{backgroundColor:j.bittersweetLight,borderRadius:yn}}}))(Qi);const Jf=t=>{const e=Gf();return l(jf,{...t,children:l(fa,{className:e.actionIcon})})},jf=ue(t=>({root:{display:"none",width:"70px",alignItems:"center",justifyContent:"flex-end",position:"absolute",padding:0,top:0,bottom:0,color:t.palette.error.main,background:`linear-gradient(270deg, ${j.catskillWhite} 55.85%, rgba(242, 244, 248, 0) 100%)`,"& svg:hover":{borderRadius:"50%",background:j.bittersweetLight}}}))(qf),Xf=({name:t,fontColor:e,backgroundColor:n})=>{const r=Qf({fontColor:e,backgroundColor:n});return l(Vr,{label:t,classes:r})},Qf=K(({spacing:t})=>({root:e=>({fontSize:L.size.small,height:"auto",borderRadius:"4px",background:e.backgroundColor,margin:`0 ${t(1)}px`}),label:e=>({textTransform:"capitalize",letterSpacing:"0.5px",paddingLeft:t(.5),paddingRight:t(.5),color:e.fontColor})})),Qt=K(({spacing:t,palette:e})=>({title:{fontSize:L.size.large,fontWeight:L.weight.semiBold,paddingBottom:t(2),borderBottom:No},header:{"& th":{height:"auto",borderBottom:il,padding:`${t(2)}px 0`,textTransform:"uppercase",fontWeight:L.weight.medium,fontSize:L.size.regular}},table:{"& tr":{background:e.common.white}},body:{"& th":{borderBottom:0,height:"34px",width:"30%"}},amount:{fontWeight:L.weight.bold},balanceTitle:{fontWeight:L.weight.medium},balanceAmount:{fontWeight:L.weight.bold,color:e.primary.main},charge:{width:"150px"},stripeForm:{position:"relative",animation:"fade 200ms ease-out",marginBottom:"24px",width:"65%","& input,\nbutton":{WebkitAppearance:"none",MozAppearance:"none",appearance:"none",outline:"none",borderStyle:"none"},"& .FormRow":{display:["-ms-flexbox","flex"],msFlexAlign:"center",alignItems:"center",marginLeft:"15px"},"& .FormRowLabel":{width:"15%",minWidth:"70px",padding:"11px 0",color:"black",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},"& .FormRowInput":{fontSize:"16px",width:"100%",color:"black",padding:"11px 15px 11px 0",backgroundColor:"transparent",animation:"1ms void-animation-out"},"& .StripeElement--webkit-autofill":{background:"transparent !important"},"& .StripeElement":{width:"100%",padding:"11px 15px 11px 0"},"& .SubmitButton":{display:"block",fontSize:"16px",width:"100%",height:"40px",backgroundColor:j.fadingLightGreen,borderRadius:"0px 0px 4px 4px",color:e.common.white,fontWeight:500,cursor:"pointer",transition:"all 100ms ease-in-out",willChange:"transform, background-color, box-shadow"},"& .SubmitButton:active":{backgroundColor:e.primary.main,boxShadow:`0 6px 9px rgba(50, 50, 93, 0.06), 0 2px 5px rgba(0, 0, 0, 0.08),
    inset 0 1px 0 ${e.primary.main}`,transform:"scale(0.99)"},"& .SubmitButton:hover":{backgroundColor:j.sparklingLightGreen},"& .SubmitButton:disabled":{opacity:.5,cursor:"default",backgroundColor:j.rollingStone,boxShadow:"none"},"& .ErrorMessage":{color:e.error.main,display:"flex",justifyContent:"center",fontSize:"13px",marginTop:"30px",transform:"translateY(-15px)",animation:"fade 150ms ease-out",animationDelay:"50ms",animationFillMode:"forwards",willChange:"opacity, transform",minHeight:"16px"},"& .ErrorMessage svg":{display:"none"},"& .Result":{marginTop:"50px",textAlign:"center",animation:"fade 200ms ease-out"},"& .ResultTitle":{color:e.common.white,fontWeight:500,marginBottom:"8px",fontSize:"17px",textAlign:"center"}},formGroup:{padding:"0",willChange:"opacity, transform",borderRadius:"4px 4px 0px 0px",border:`1px solid ${e.primary.light}`,margin:"0"},addPayment:{width:"150px"},actionWrapper:{display:"flex",alignItems:"center",position:"relative",justifyContent:"flex-end"},paymentItem:{"& th":{textTransform:"capitalize"},"&:hover":{background:j.catskillWhite,"& $deleteButton":{display:"flex"}}},deleteButton:{display:"none",alignItems:"center",justifyContent:"flex-end",position:"absolute",top:0,bottom:0,padding:0,color:e.error.main,background:`linear-gradient(270deg, ${j.catskillWhite} 55.85%, rgba(242, 244, 248, 0) 100%)`,"& svg:hover":{borderRadius:"50%",background:j.bittersweetLight}},amountError:{color:e.error.main,paddingLeft:t(2)}})),Zf=({payments:t,jobId:e})=>{const n=Qt();return x(D,{display:"flex",flexDirection:"column",p:3,children:[l(z,{className:n.title,children:"Payment history"}),l(ko,{component:jt,className:n.table,style:{boxShadow:"0 0 black"},children:x(_r,{children:[l(Ur,{children:x(Vt,{className:n.header,children:[l(pe,{children:"amount"}),l(pe,{children:"payment method"}),l(pe,{children:"provider"}),l(pe,{children:"date"})]})}),l(Yr,{className:n.body,children:t.map(r=>l(em,{payment:r,jobId:e},r.id))})]})})]})},em=({payment:t,jobId:e})=>{const n=se(),r=Qt(),a=t.method.toLowerCase().includes("card"),i=t.status===sl.SUCCEEDED,s=(t==null?void 0:t.status)||"",o=async()=>{n(ll({paymentId:t.id,jobId:e}))};return x(Vt,{className:r.paymentItem,children:[x(pe,{component:"th",scope:"row",className:r.amount,style:{paddingLeft:0},children:[l("span",{children:we(t.amount)}),a&&l(Xf,{name:s,fontColor:i?De.palette.primary.main:j.red,backgroundColor:i?j.lightGreen:j.bittersweetLight})]}),l(pe,{component:"th",scope:"row",style:{paddingLeft:0},children:t.method}),l(pe,{component:"th",scope:"row",style:{paddingLeft:0},children:t.providerName}),l(pe,{component:"th",scope:"row",style:{paddingLeft:0},children:x(D,{className:r.actionWrapper,children:[`${Ut(t.dateTime)} ${Yt(t.dateTime)}`,!a&&l(Jf,{className:r.deleteButton,onClick:o})]})})]})},or=t=>l(D,{display:"flex",flexDirection:"column",flexGrow:1,overflow:"auto",height:"0px",...t,children:t.children}),tm=({values:t,setFieldValue:e})=>{const n=Qt(),r=se(),a=O(Ke),i=O(Fo),s=O(Ho),o=O(zo),c=a==null?void 0:a.id;return f.exports.useEffect(()=>{c&&r(cl(c))},[c,r,s,a==null?void 0:a.repairPeriods,o]),x(D,{display:"flex",flexDirection:"column",pt:3,px:3,children:[l(Ee,{value:t.referenceNumber,source:"referenceNumber",label:"Reference number / P.O. number",onChange:d=>e("referenceNumber",d.target.value),validation:!1}),l(Zn,{source:"paymentMethod",label:"Payment method",choices:dl,placeholder:"Select payment method",value:t.paymentMethod,onChange:d=>e("paymentMethod",d.target.value)}),l(z,{variant:"subtitle2",className:n.balanceTitle,children:"Balance due"}),l(z,{className:n.balanceAmount,children:we(i)})]})};var Zi="https://js.stripe.com/v3",nm=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,eo="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",rm=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Zi,'"]')),n=0;n<e.length;n++){var r=e[n];if(!!nm.test(r.src))return r}return null},am=function(e){var n=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(Zi).concat(n);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(r),r},om=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"1.54.2",startTime:n})},Wn=null,im=function(e){return Wn!==null||(Wn=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(eo),window.Stripe){n(window.Stripe);return}try{var a=rm();a&&e?console.warn(eo):a||(a=am(e)),a.addEventListener("load",function(){window.Stripe?n(window.Stripe):r(new Error("Stripe.js not available"))}),a.addEventListener("error",function(){r(new Error("Failed to load Stripe.js"))})}catch(i){r(i);return}})),Wn},sm=function(e,n,r){if(e===null)return null;var a=e.apply(void 0,n);return om(a,r),a},es=Promise.resolve().then(function(){return im(null)}),ts=!1;es.catch(function(t){ts||console.warn(t)});var lm=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];ts=!0;var a=Date.now();return es.then(function(i){return sm(i,n,a)})};function to(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function no(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?to(Object(n),!0).forEach(function(r){ns(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):to(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zn(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zn=function(e){return typeof e}:zn=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zn(t)}function ns(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vn(t,e){return cm(t)||dm(t,e)||um(t,e)||pm()}function cm(t){if(Array.isArray(t))return t}function dm(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],a=!0,i=!1,s,o;try{for(n=n.call(t);!(a=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));a=!0);}catch(c){i=!0,o=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw o}}return r}}function um(t,e){if(!!t){if(typeof t=="string")return ro(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ro(t,e)}}function ro(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Br=function(e){var n=q.useRef(e);return q.useEffect(function(){n.current=e},[e]),n.current},Jt=function(e){return e!==null&&zn(e)==="object"},fm=function(e){return Jt(e)&&typeof e.then=="function"},mm=function(e){return Jt(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},ao="[object Object]",hm=function t(e,n){if(!Jt(e)||!Jt(n))return e===n;var r=Array.isArray(e),a=Array.isArray(n);if(r!==a)return!1;var i=Object.prototype.toString.call(e)===ao,s=Object.prototype.toString.call(n)===ao;if(i!==s)return!1;if(!i&&!r)return e===n;var o=Object.keys(e),c=Object.keys(n);if(o.length!==c.length)return!1;for(var d={},p=0;p<o.length;p+=1)d[o[p]]=!0;for(var u=0;u<c.length;u+=1)d[c[u]]=!0;var m=Object.keys(d);if(m.length!==o.length)return!1;var h=e,g=n,v=function(C){return t(h[C],g[C])};return m.every(v)},rs=function(e,n,r){return Jt(e)?Object.keys(e).reduce(function(a,i){var s=!Jt(n)||!hm(e[i],n[i]);return r.includes(i)?(s&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):s?no(no({},a||{}),{},ns({},i,e[i])):a},null):null},gm="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",oo=function(e){if(e===null||mm(e))return e;throw new Error(gm)},vm=function(e){if(fm(e))return{tag:"async",stripePromise:Promise.resolve(e).then(oo)};var n=oo(e);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},ha=q.createContext(null);ha.displayName="ElementsContext";var bm=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},ga=q.createContext(null);ga.displayName="CartElementContext";var xm=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},as=function(e){var n=e.stripe,r=e.options,a=e.children,i=q.useMemo(function(){return vm(n)},[n]),s=q.useState(null),o=Vn(s,2),c=o[0],d=o[1],p=q.useState(null),u=Vn(p,2),m=u[0],h=u[1],g=q.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(r):null}}),v=Vn(g,2),b=v[0],C=v[1];q.useEffect(function(){var S=!0,T=function(V){C(function($){return $.stripe?$:{stripe:V,elements:V.elements(r)}})};return i.tag==="async"&&!b.stripe?i.stripePromise.then(function(k){k&&S&&T(k)}):i.tag==="sync"&&!b.stripe&&T(i.stripe),function(){S=!1}},[i,b,r]);var y=Br(n);q.useEffect(function(){y!==null&&y!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[y,n]);var P=Br(r);return q.useEffect(function(){if(!!b.elements){var S=rs(r,P,["clientSecret","fonts"]);S&&b.elements.update(S)}},[r,P,b.elements]),q.useEffect(function(){var S=b.stripe;!S||!S._registerWrapper||!S.registerAppInfo||(S._registerWrapper({name:"react-stripe-js",version:"1.16.5"}),S.registerAppInfo({name:"react-stripe-js",version:"1.16.5",url:"https://stripe.com/docs/stripe-js/react"}))},[b.stripe]),l(ha.Provider,{value:b,children:l(ga.Provider,{value:{cart:c,setCart:d,cartState:m,setCartState:h},children:a})})};as.propTypes={stripe:ce.exports.any,options:ce.exports.object};var Kn=function(e){var n=q.useContext(ha);return bm(n,e)},io=function(e){var n=q.useContext(ga);return xm(n,e)},ym=function(){var e=Kn("calls useElements()"),n=e.elements;return n},Cm=function(){var e=Kn("calls useStripe()"),n=e.stripe;return n};ce.exports.func.isRequired;var ke=function(e,n,r){var a=!!r,i=q.useRef(r);q.useEffect(function(){i.current=r},[r]),q.useEffect(function(){if(!a||!e)return function(){};var s=function(){i.current&&i.current.apply(i,arguments)};return e.on(n,s),function(){e.off(n,s)}},[a,n,e,i])},wm=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ye=function(e,n){var r="".concat(wm(e),"Element"),a=function(c){var d=c.id,p=c.className,u=c.options,m=u===void 0?{}:u,h=c.onBlur,g=c.onFocus,v=c.onReady,b=c.onChange,C=c.onEscape,y=c.onClick,P=c.onLoadError,S=c.onLoaderStart,T=c.onNetworksChange,k=c.onCheckout,V=c.onLineItemClick,$=c.onConfirm,B=c.onCancel,E=c.onShippingAddressChange,_=c.onShippingRateChange,W=Kn("mounts <".concat(r,">")),G=W.elements,X=q.useState(null),U=Vn(X,2),N=U[0],A=U[1],R=q.useRef(null),ee=q.useRef(null),ne=io("mounts <".concat(r,">")),re=ne.setCart,ge=ne.setCartState;ke(N,"blur",h),ke(N,"focus",g),ke(N,"escape",C),ke(N,"click",y),ke(N,"loaderror",P),ke(N,"loaderstart",S),ke(N,"networkschange",T),ke(N,"lineitemclick",V),ke(N,"confirm",$),ke(N,"cancel",B),ke(N,"shippingaddresschange",E),ke(N,"shippingratechange",_);var be;e==="cart"?be=function(Se){ge(Se),v&&v(Se)}:v&&(e==="payButton"?be=v:be=function(){v(N)}),ke(N,"ready",be);var xe=e==="cart"?function(Y){ge(Y),b&&b(Y)}:b;ke(N,"change",xe);var Ie=e==="cart"?function(Y){ge(Y),k&&k(Y)}:k;ke(N,"checkout",Ie),q.useLayoutEffect(function(){if(R.current===null&&G&&ee.current!==null){var Y=G.create(e,m);e==="cart"&&re&&re(Y),R.current=Y,A(Y),Y.mount(ee.current)}},[G,m,re]);var Q=Br(m);return q.useEffect(function(){if(!!R.current){var Y=rs(m,Q,["paymentRequest"]);Y&&R.current.update(Y)}},[m,Q]),q.useLayoutEffect(function(){return function(){R.current&&(R.current.destroy(),R.current=null)}},[]),l("div",{id:d,className:p,ref:ee})},i=function(c){Kn("mounts <".concat(r,">")),io("mounts <".concat(r,">"));var d=c.id,p=c.className;return l("div",{id:d,className:p})},s=n?i:a;return s.propTypes={id:ce.exports.string,className:ce.exports.string,onChange:ce.exports.func,onBlur:ce.exports.func,onFocus:ce.exports.func,onReady:ce.exports.func,onEscape:ce.exports.func,onClick:ce.exports.func,onLoadError:ce.exports.func,onLoaderStart:ce.exports.func,onNetworksChange:ce.exports.func,onCheckout:ce.exports.func,onLineItemClick:ce.exports.func,onConfirm:ce.exports.func,onCancel:ce.exports.func,onShippingAddressChange:ce.exports.func,onShippingRateChange:ce.exports.func,options:ce.exports.object},s.displayName=r,s.__elementType=e,s},Ce=typeof window>"u";ye("auBankAccount",Ce);var os=ye("card",Ce);ye("cardNumber",Ce);ye("cardExpiry",Ce);ye("cardCvc",Ce);ye("fpxBank",Ce);ye("iban",Ce);ye("idealBank",Ce);ye("p24Bank",Ce);ye("epsBank",Ce);ye("payment",Ce);ye("payButton",Ce);ye("paymentRequestButton",Ce);ye("linkAuthentication",Ce);ye("address",Ce);ye("shippingAddress",Ce);ye("cart",Ce);ye("paymentMethodMessaging",Ce);ye("affirmMessage",Ce);ye("afterpayClearpayMessage",Ce);const Sm=({jobId:t,amount:e,disabled:n,text:r,method:a,providerId:i})=>{const s=se(),o=Qt(),c=O(Vo),d=async()=>{const p={amount:+`${e}`.replaceAll(",",""),method:a,provider:i?String(i):void 0,job:String(t)};s(Oo(p))};return l(Re,{className:o.addPayment,disabled:n,onClick:d,isProcessing:c,children:r})},Pm=({amount:t,jobId:e,disabled:n,onSubmit:r})=>{const a=Cm(),i=ym(),s=Qt(),[o,c]=f.exports.useState(null),[d,p]=f.exports.useState(!1),[u,m]=f.exports.useState(!1),h=async g=>{var v,b;if(g.preventDefault(),g.stopPropagation(),!(!a||!i)){if(o){i.getElement("card").focus();return}d&&m(!0);try{const C=await ul({amount:String(t).replaceAll(",",""),jobId:String(e)}),y=await a.confirmCardPayment(C.clientSecret,{payment_method:{card:i.getElement(os)}});m(!1),y.error?c(y.error):c(null),r(((v=y==null?void 0:y.paymentIntent)==null?void 0:v.status)||((b=y.error)==null?void 0:b.code)||"")}catch(C){console.error(C),c({message:"Something went wrong."}),m(!1)}}};return x("form",{onSubmit:h,className:s.stripeForm,children:[l("fieldset",{className:s.formGroup,children:l(Dm,{onChange:g=>{c(g.error),p(g.complete)}})}),l(Tm,{processing:u,error:o,disabled:!a||n||!d,onClick:h,children:"Charge now"}),l(Im,{children:(o==null?void 0:o.message)||""})]})},Em={style:{base:{iconColor:"#6B7280",color:"black",fontWeight:500,fontFamily:"Roboto, Open Sans, Segoe UI, sans-serif",fontSize:"16px",fontSmoothing:"antialiased",":-webkit-autofill":{color:"#fce883"},"::placeholder":{color:"black"}},invalid:{iconColor:j.bittersweet,color:j.bittersweet}}},Dm=({onChange:t})=>l("div",{className:"FormRow",children:l(os,{options:Em,onChange:t})}),Tm=({processing:t,error:e,children:n,disabled:r,onClick:a})=>l("button",{className:`SubmitButton ${e?"SubmitButton--error":""}`,type:"submit",disabled:t||r,onClick:a,children:t?"Processing...":n}),Im=({children:t})=>x("div",{className:"ErrorMessage",role:"alert",children:[x("svg",{width:"16",height:"16",viewBox:"0 0 17 17",children:[l("path",{fill:"#FFF",d:"M8.5,17 C3.80557963,17 0,13.1944204 0,8.5 C0,3.80557963 3.80557963,0 8.5,0 C13.1944204,0 17,3.80557963 17,8.5 C17,13.1944204 13.1944204,17 8.5,17 Z"}),l("path",{fill:"#6772e5",d:"M8.5,7.29791847 L6.12604076,4.92395924 C5.79409512,4.59201359 5.25590488,4.59201359 4.92395924,4.92395924 C4.59201359,5.25590488 4.59201359,5.79409512 4.92395924,6.12604076 L7.29791847,8.5 L4.92395924,10.8739592 C4.59201359,11.2059049 4.59201359,11.7440951 4.92395924,12.0760408 C5.25590488,12.4079864 5.79409512,12.4079864 6.12604076,12.0760408 L8.5,9.70208153 L10.8739592,12.0760408 C11.2059049,12.4079864 11.7440951,12.4079864 12.0760408,12.0760408 C12.4079864,11.7440951 12.4079864,11.2059049 12.0760408,10.8739592 L9.70208153,8.5 L12.0760408,6.12604076 C12.4079864,5.79409512 12.4079864,5.25590488 12.0760408,4.92395924 C11.7440951,4.59201359 11.2059049,4.59201359 10.8739592,4.92395924 L8.5,7.29791847 L8.5,7.29791847 Z"})]}),t]}),Nm=({values:t,setFieldValue:e,jobId:n})=>{const r=se(),a=Qt(),[i,s]=f.exports.useState(null),o=f.exports.useMemo(()=>lm({}.VITE_STRIPE_PUBLIC_KEY),[]),c=!t.amountToPay||!!i||t.paymentMethod===yr.CASH&&!t.providerId,d=t.paymentMethod===yr.CASH,p={fonts:[{cssSrc:"https://fonts.googleapis.com/css?family=Roboto"}]},u=h=>h===""?"Amount is required":parseFloat(h)<.5?"Amount is too small.":null,m=h=>{e("amountToPay","");const g={amount:+`${t.amountToPay}`.replaceAll(",",""),method:t.paymentMethod,job:String(n),status:h};r(Oo(g))};return x(D,{display:"flex",flexDirection:"column",pt:3,px:3,children:[x(D,{display:"flex",alignItems:"center",children:[l(Jr,{label:"Amount to charge",className:a.charge,value:t.amountToPay,source:"amountToPay",onChange:h=>{const g=u(h.target.value);s(g);const v=h.target.value;jr({previousValue:t.amountToPay,newValue:v,fieldLabel:"amountToPay",setFieldValue:e})},handleBlur:()=>{e("amountToPay",`${parseFloat(`${t.amountToPay}`)}${`${parseFloat(`${t.amountToPay}`)}`.split(".")[1]?`${parseFloat(`${t.amountToPay}`)}`.split(".")[1].length===1?"0":"":".00"}`)}}),i&&l(z,{variant:"body2",className:a.amountError,children:i})]}),t.paymentMethod!==yr.CARD?l(Sm,{jobId:n,amount:t.amountToPay,disabled:c,method:t.paymentMethod,text:d?"Add cash":"Add payment",providerId:d?t.providerId:null}):l(Le,{children:l(as,{stripe:o,options:p,children:l(Pm,{amount:t.amountToPay,jobId:n,disabled:!t.amountToPay||!!i,onSubmit:m})})})]})},km=t=>{const e=se(),n=O(Ho),r=O(Vo);return f.exports.useEffect(()=>{e(pl(t))},[e,t]),{paymentHistory:n,isLoading:r}},Om=({values:t,setFieldValue:e,jobId:n})=>{const{paymentHistory:r}=km(n);return x(or,{children:[l(tm,{values:t,setFieldValue:e}),l(Nm,{values:t,setFieldValue:e,jobId:n}),l(Zf,{payments:r,jobId:n})]})},Mm=({isJobLocked:t,tabValue:e,setTabValue:n,job:r})=>{const a=se(),i=jn(),s=O(Fo),o=c=>{c.referenceNumber&&a(ml({jobId:r.id,refNumber:c.referenceNumber}))};return l(bt,{initialValues:fl(r,s),onSubmit:o,enableReinitialize:!0,children:({setFieldValue:c,values:d,handleSubmit:p,initialValues:u})=>{const m=Ue.exports.isEqual(u,d);return x(xt,{className:i.form,children:[l(Om,{setFieldValue:c,values:d,jobId:r.id}),l(ar,{isNextButtonDisabled:t,onNextButtonClick:p,tabValue:e,setTabValue:n,pristine:m})]})}})},ir=K(t=>({form:{backgroundColor:t.palette.common.white},subtitle:{fontWeight:L.weight.bold,color:t.palette.primary.main},section:{display:"flex",flexDirection:"column",padding:`0 ${t.spacing(3)}px`,paddingTop:t.spacing(2),borderBottom:Xn},company:{paddingTop:t.spacing(3),marginBottom:t.spacing(2)},driver:{borderBottom:0},subtitleWrapper:{marginBottom:t.spacing(1),display:"flex",justifyContent:"space-between",alignItems:"center"},active:{color:t.palette.primary.main}})),is=({text:t})=>{const e=ir();return l(D,{className:e.subtitleWrapper,children:l(z,{variant:"button",className:e.subtitle,children:t})})},Lm=({values:t,setFieldValue:e})=>{const n=ir(),r=!(t.dispatcherFirstName||t.dispatcherPhone);return x(D,{className:he(n.section,n.driver),children:[l(is,{text:"Driver"}),x(St,{children:[l(Ee,{source:"driverFirstName",label:"First name",value:t.driverFirstName,validation:r,onChange:a=>e("driverFirstName",a.target.value)}),l(Ee,{source:"driverLastName",label:"Last name",value:t.driverLastName,onChange:a=>e("driverLastName",a.target.value)})]}),x(St,{children:[l(Go,{source:"driverPhone",value:t.driverPhone,isRequired:r,onChange:a=>e("driverPhone",a.target.value)}),l(Ee,{source:"driverEmail",label:"E-mail address",value:t.driverEmail,onChange:a=>e("driverEmail",a.target.value)})]})]})},$m=vt(l("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Am=vt(l("path",{d:"M7 10l5 5 5-5z"}));function so(t){return typeof t.normalize<"u"?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t}function ss(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.ignoreAccents,n=e===void 0?!0:e,r=t.ignoreCase,a=r===void 0?!0:r,i=t.limit,s=t.matchFrom,o=s===void 0?"any":s,c=t.stringify,d=t.trim,p=d===void 0?!1:d;return function(u,m){var h=m.inputValue,g=m.getOptionLabel,v=p?h.trim():h;a&&(v=v.toLowerCase()),n&&(v=so(v));var b=u.filter(function(C){var y=(c||g)(C);return a&&(y=y.toLowerCase()),n&&(y=so(y)),o==="start"?y.indexOf(v)===0:y.indexOf(v)>-1});return typeof i=="number"?b.slice(0,i):b}}function Dr(t,e){for(var n=0;n<t.length;n+=1)if(e(t[n]))return n;return-1}var Rm=ss(),lo=5;function Bm(t){var e=t.autoComplete,n=e===void 0?!1:e,r=t.autoHighlight,a=r===void 0?!1:r,i=t.autoSelect,s=i===void 0?!1:i,o=t.blurOnSelect,c=o===void 0?!1:o,d=t.clearOnBlur,p=d===void 0?!t.freeSolo:d,u=t.clearOnEscape,m=u===void 0?!1:u,h=t.componentName,g=h===void 0?"useAutocomplete":h,v=t.debug,b=v===void 0?!1:v,C=t.defaultValue,y=C===void 0?t.multiple?[]:null:C,P=t.disableClearable,S=P===void 0?!1:P,T=t.disableCloseOnSelect,k=T===void 0?!1:T,V=t.disabledItemsFocusable,$=V===void 0?!1:V,B=t.disableListWrap,E=B===void 0?!1:B,_=t.filterOptions,W=_===void 0?Rm:_,G=t.filterSelectedOptions,X=G===void 0?!1:G,U=t.freeSolo,N=U===void 0?!1:U,A=t.getOptionDisabled,R=t.getOptionLabel,ee=R===void 0?function(M){return M}:R,ne=t.getOptionSelected,re=ne===void 0?function(M,I){return M===I}:ne,ge=t.groupBy,be=t.handleHomeEndKeys,xe=be===void 0?!t.freeSolo:be,Ie=t.id,Q=t.includeInputInList,Y=Q===void 0?!1:Q,Se=t.inputValue,fe=t.multiple,ae=fe===void 0?!1:fe,Ge=t.onChange,yt=t.onClose,st=t.onHighlightChange,lt=t.onInputChange,Zt=t.onOpen,ur=t.open,Dn=t.openOnFocus,pr=Dn===void 0?!1:Dn,fr=t.options,en=t.selectOnFocus,Tn=en===void 0?!t.freeSolo:en,In=t.value,Ne=hl(Ie),Mt=ee,tn=f.exports.useRef(!1),ve=f.exports.useRef(!0),Pe=f.exports.useRef(null),Be=f.exports.useRef(null),Nn=f.exports.useState(null),nn=Nn[0],mr=Nn[1],kn=f.exports.useState(-1),qe=kn[0],rn=kn[1],Lt=a?0:-1,We=f.exports.useRef(Lt),hr=Hn({controlled:In,default:y,name:g}),Ct=je(hr,2),Z=Ct[0],gr=Ct[1],$t=Hn({controlled:Se,default:"",name:g,state:"inputValue"}),On=je($t,2),me=On[0],ct=On[1],Fe=f.exports.useState(!1),Mn=Fe[0],an=Fe[1],At=mn(function(M,I){var w;if(ae)w="";else if(I==null)w="";else{var F=Mt(I);w=typeof F=="string"?F:""}me!==w&&(ct(w),lt&&lt(M,w,"reset"))});f.exports.useEffect(function(){At(null,Z)},[Z,At]);var vr=Hn({controlled:ur,default:!1,name:g,state:"open"}),Ln=je(vr,2),dt=Ln[0],on=Ln[1],sn=!ae&&Z!=null&&me===Mt(Z),ie=dt,le=ie?W(fr.filter(function(M){return!(X&&(ae?Z:[Z]).some(function(I){return I!==null&&re(M,I)}))}),{inputValue:sn?"":me,getOptionLabel:Mt}):[],ut=mn(function(M){M===-1?Pe.current.focus():nn.querySelector('[data-tag-index="'.concat(M,'"]')).focus()});f.exports.useEffect(function(){ae&&qe>Z.length-1&&(rn(-1),ut(-1))},[Z,ae,qe,ut]);function Rt(M,I){if(!Be.current||M===-1)return-1;for(var w=M;;){if(I==="next"&&w===le.length||I==="previous"&&w===-1)return-1;var F=Be.current.querySelector('[data-option-index="'.concat(w,'"]')),Oe=$?!1:F&&(F.disabled||F.getAttribute("aria-disabled")==="true");if(F&&!F.hasAttribute("tabindex")||Oe)w+=I==="next"?1:-1;else return w}}var Bt=mn(function(M){var I=M.event,w=M.index,F=M.reason,Oe=F===void 0?"auto":F;if(We.current=w,w===-1?Pe.current.removeAttribute("aria-activedescendant"):Pe.current.setAttribute("aria-activedescendant","".concat(Ne,"-option-").concat(w)),st&&st(I,w===-1?null:le[w],Oe),!!Be.current){var Me=Be.current.querySelector("[data-focus]");Me&&Me.removeAttribute("data-focus");var de=Be.current.parentElement.querySelector('[role="listbox"]');if(!!de){if(w===-1){de.scrollTop=0;return}var pt=Be.current.querySelector('[data-option-index="'.concat(w,'"]'));if(!!pt&&(pt.setAttribute("data-focus","true"),de.scrollHeight>de.clientHeight&&Oe!=="mouse")){var He=pt,un=de.clientHeight+de.scrollTop,An=He.offsetTop+He.offsetHeight;An>un?de.scrollTop=An-de.clientHeight:He.offsetTop-He.offsetHeight*(ge?1.3:0)<de.scrollTop&&(de.scrollTop=He.offsetTop-He.offsetHeight*(ge?1.3:0))}}}}),rt=mn(function(M){var I=M.event,w=M.diff,F=M.direction,Oe=F===void 0?"next":F,Me=M.reason,de=Me===void 0?"auto":Me;if(!!ie){var pt=function(){var pn=le.length-1;if(w==="reset")return Lt;if(w==="start")return 0;if(w==="end")return pn;var fn=We.current+w;return fn<0?fn===-1&&Y?-1:E&&We.current!==-1||Math.abs(w)>1?0:pn:fn>pn?fn===pn+1&&Y?-1:E||Math.abs(w)>1?pn:0:fn},He=Rt(pt(),Oe);if(Bt({index:He,reason:de,event:I}),n&&w!=="reset")if(He===-1)Pe.current.value=me;else{var un=Mt(le[He]);Pe.current.value=un;var An=un.toLowerCase().indexOf(me.toLowerCase());An===0&&me.length>0&&Pe.current.setSelectionRange(me.length,un.length)}}}),br=f.exports.useCallback(function(){if(!!ie){var M=ae?Z[0]:Z;if(le.length===0||M==null){rt({diff:"reset"});return}if(!!Be.current){if(!X&&M!=null){var I=le[We.current];if(ae&&I&&Dr(Z,function(F){return re(I,F)})!==-1)return;var w=Dr(le,function(F){return re(F,M)});w===-1?rt({diff:"reset"}):Bt({index:w});return}if(We.current>=le.length-1){Bt({index:le.length-1});return}Bt({index:We.current})}}},[le.length===0,ae?!1:Z,X,rt,Bt,ie,me,ae]),ks=mn(function(M){wo(Be,M),M&&br()});f.exports.useEffect(function(){br()},[br]);var wt=function(I){dt||(on(!0),Zt&&Zt(I))},ln=function(I,w){!dt||(on(!1),yt&&yt(I,w))},cn=function(I,w,F,Oe){Z!==w&&(Ge&&Ge(I,w,F,Oe),gr(w))},$n=f.exports.useRef(!1),dn=function(I,w){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"select-option",Oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"options",Me=F,de=w;if(ae){de=Array.isArray(Z)?Z.slice():[];var pt=Dr(de,function(He){return re(w,He)});pt===-1?de.push(w):Oe!=="freeSolo"&&(de.splice(pt,1),Me="remove-option")}At(I,de),cn(I,de,Me,{option:w}),k||ln(I,Me),(c===!0||c==="touch"&&$n.current||c==="mouse"&&!$n.current)&&Pe.current.blur()};function Os(M,I){if(M===-1)return-1;for(var w=M;;){if(I==="next"&&w===Z.length||I==="previous"&&w===-1)return-1;var F=nn.querySelector('[data-tag-index="'.concat(w,'"]'));if(F&&(!F.hasAttribute("tabindex")||F.disabled||F.getAttribute("aria-disabled")==="true"))w+=I==="next"?1:-1;else return w}}var Da=function(I,w){if(!!ae){ln(I,"toggleInput");var F=qe;qe===-1?me===""&&w==="previous"&&(F=Z.length-1):(F+=w==="next"?1:-1,F<0&&(F=0),F===Z.length&&(F=-1)),F=Os(F,w),rn(F),ut(F)}},Ta=function(I){tn.current=!0,ct(""),lt&&lt(I,"","clear"),cn(I,ae?[]:null,"clear")},Ms=function(I){return function(w){switch(qe!==-1&&["ArrowLeft","ArrowRight"].indexOf(w.key)===-1&&(rn(-1),ut(-1)),w.key){case"Home":ie&&xe&&(w.preventDefault(),rt({diff:"start",direction:"next",reason:"keyboard",event:w}));break;case"End":ie&&xe&&(w.preventDefault(),rt({diff:"end",direction:"previous",reason:"keyboard",event:w}));break;case"PageUp":w.preventDefault(),rt({diff:-lo,direction:"previous",reason:"keyboard",event:w}),wt(w);break;case"PageDown":w.preventDefault(),rt({diff:lo,direction:"next",reason:"keyboard",event:w}),wt(w);break;case"ArrowDown":w.preventDefault(),rt({diff:1,direction:"next",reason:"keyboard",event:w}),wt(w);break;case"ArrowUp":w.preventDefault(),rt({diff:-1,direction:"previous",reason:"keyboard",event:w}),wt(w);break;case"ArrowLeft":Da(w,"previous");break;case"ArrowRight":Da(w,"next");break;case"Enter":if(w.which===229)break;if(We.current!==-1&&ie){var F=le[We.current],Oe=A?A(F):!1;if(w.preventDefault(),Oe)return;dn(w,F,"select-option"),n&&Pe.current.setSelectionRange(Pe.current.value.length,Pe.current.value.length)}else N&&me!==""&&sn===!1&&(ae&&w.preventDefault(),dn(w,me,"create-option","freeSolo"));break;case"Escape":ie?(w.preventDefault(),w.stopPropagation(),ln(w,"escape")):m&&(me!==""||ae&&Z.length>0)&&(w.preventDefault(),w.stopPropagation(),Ta(w));break;case"Backspace":if(ae&&me===""&&Z.length>0){var Me=qe===-1?Z.length-1:qe,de=Z.slice();de.splice(Me,1),cn(w,de,"remove-option",{option:Z[Me]})}break}I.onKeyDown&&I.onKeyDown(w)}},Ls=function(I){an(!0),pr&&!tn.current&&wt(I)},$s=function(I){if(Be.current!==null&&document.activeElement===Be.current.parentElement){Pe.current.focus();return}an(!1),ve.current=!0,tn.current=!1,!(b&&me!=="")&&(s&&We.current!==-1&&ie?dn(I,le[We.current],"blur"):s&&N&&me!==""?dn(I,me,"blur","freeSolo"):p&&At(I,Z),ln(I,"blur"))},As=function(I){var w=I.target.value;me!==w&&(ct(w),lt&&lt(I,w,"input")),w===""?!S&&!ae&&cn(I,null,"clear"):wt(I)},Rs=function(I){Bt({event:I,index:Number(I.currentTarget.getAttribute("data-option-index")),reason:"mouse"})},Bs=function(){$n.current=!0},Ws=function(I){var w=Number(I.currentTarget.getAttribute("data-option-index"));dn(I,le[w],"select-option"),$n.current=!1},Fs=function(I){return function(w){var F=Z.slice();F.splice(I,1),cn(w,F,"remove-option",{option:Z[I]})}},Ia=function(I){dt?ln(I,"toggleInput"):wt(I)},Hs=function(I){I.target.getAttribute("id")!==Ne&&I.preventDefault()},zs=function(){Pe.current.focus(),Tn&&ve.current&&Pe.current.selectionEnd-Pe.current.selectionStart===0&&Pe.current.select(),ve.current=!1},Vs=function(I){(me===""||!dt)&&Ia(I)},xr=N&&me.length>0;xr=xr||(ae?Z.length>0:Z!==null);var Na=le;return ge&&(Na=le.reduce(function(M,I,w){var F=ge(I);return M.length>0&&M[M.length-1].group===F?M[M.length-1].options.push(I):M.push({key:w,index:w,group:F,options:[I]}),M},[])),{getRootProps:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return H({"aria-owns":ie?"".concat(Ne,"-popup"):null,role:"combobox","aria-expanded":ie},I,{onKeyDown:Ms(I),onMouseDown:Hs,onClick:zs})},getInputLabelProps:function(){return{id:"".concat(Ne,"-label"),htmlFor:Ne}},getInputProps:function(){return{id:Ne,value:me,onBlur:$s,onFocus:Ls,onChange:As,onMouseDown:Vs,"aria-activedescendant":ie?"":null,"aria-autocomplete":n?"both":"list","aria-controls":ie?"".concat(Ne,"-popup"):null,autoComplete:"off",ref:Pe,autoCapitalize:"none",spellCheck:"false"}},getClearProps:function(){return{tabIndex:-1,onClick:Ta}},getPopupIndicatorProps:function(){return{tabIndex:-1,onClick:Ia}},getTagProps:function(I){var w=I.index;return{key:w,"data-tag-index":w,tabIndex:-1,onDelete:Fs(w)}},getListboxProps:function(){return{role:"listbox",id:"".concat(Ne,"-popup"),"aria-labelledby":"".concat(Ne,"-label"),ref:ks,onMouseDown:function(w){w.preventDefault()}}},getOptionProps:function(I){var w=I.index,F=I.option,Oe=(ae?Z:[Z]).some(function(de){return de!=null&&re(F,de)}),Me=A?A(F):!1;return{key:w,tabIndex:-1,role:"option",id:"".concat(Ne,"-option-").concat(w),onMouseOver:Rs,onClick:Ws,onTouchStart:Bs,"data-option-index":w,"aria-disabled":Me,"aria-selected":Oe}},id:Ne,inputValue:me,value:Z,dirty:xr,popupOpen:ie,focused:Mn||qe!==-1,anchorEl:nn,setAnchorEl:mr,focusedTag:qe,groupedOptions:Na}}var Wm=function(e){var n;return{root:{"&$focused $clearIndicatorDirty":{visibility:"visible"},"@media (pointer: fine)":{"&:hover $clearIndicatorDirty":{visibility:"visible"}}},fullWidth:{width:"100%"},focused:{},tag:{margin:3,maxWidth:"calc(100% - 6px)"},tagSizeSmall:{margin:2,maxWidth:"calc(100% - 4px)"},hasPopupIcon:{},hasClearIcon:{},inputRoot:{flexWrap:"wrap","$hasPopupIcon &, $hasClearIcon &":{paddingRight:26+4},"$hasPopupIcon$hasClearIcon &":{paddingRight:52+4},"& $input":{width:0,minWidth:30},'&[class*="MuiInput-root"]':{paddingBottom:1,"& $input":{padding:4},"& $input:first-child":{padding:"6px 0"}},'&[class*="MuiInput-root"][class*="MuiInput-marginDense"]':{"& $input":{padding:"4px 4px 5px"},"& $input:first-child":{padding:"3px 0 6px"}},'&[class*="MuiOutlinedInput-root"]':{padding:9,"$hasPopupIcon &, $hasClearIcon &":{paddingRight:26+4+9},"$hasPopupIcon$hasClearIcon &":{paddingRight:52+4+9},"& $input":{padding:"9.5px 4px"},"& $input:first-child":{paddingLeft:6},"& $endAdornment":{right:9}},'&[class*="MuiOutlinedInput-root"][class*="MuiOutlinedInput-marginDense"]':{padding:6,"& $input":{padding:"4.5px 4px"}},'&[class*="MuiFilledInput-root"]':{paddingTop:19,paddingLeft:8,"$hasPopupIcon &, $hasClearIcon &":{paddingRight:26+4+9},"$hasPopupIcon$hasClearIcon &":{paddingRight:52+4+9},"& $input":{padding:"9px 4px"},"& $endAdornment":{right:9}},'&[class*="MuiFilledInput-root"][class*="MuiFilledInput-marginDense"]':{paddingBottom:1,"& $input":{padding:"4.5px 4px"}}},input:{flexGrow:1,textOverflow:"ellipsis",opacity:0},inputFocused:{opacity:1},endAdornment:{position:"absolute",right:0,top:"calc(50% - 14px)"},clearIndicator:{marginRight:-2,padding:4,visibility:"hidden"},clearIndicatorDirty:{},popupIndicator:{padding:2,marginRight:-2},popupIndicatorOpen:{transform:"rotate(180deg)"},popper:{zIndex:e.zIndex.modal},popperDisablePortal:{position:"absolute"},paper:H({},e.typography.body1,{overflow:"hidden",margin:"4px 0"}),listbox:{listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto"},loading:{color:e.palette.text.secondary,padding:"14px 16px"},noOptions:{color:e.palette.text.secondary,padding:"14px 16px"},option:(n={minHeight:48,display:"flex",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16},Te(n,e.breakpoints.up("sm"),{minHeight:"auto"}),Te(n,'&[aria-selected="true"]',{backgroundColor:e.palette.action.selected}),Te(n,'&[data-focus="true"]',{backgroundColor:e.palette.action.hover}),Te(n,"&:active",{backgroundColor:e.palette.action.selected}),Te(n,'&[aria-disabled="true"]',{opacity:e.palette.action.disabledOpacity,pointerEvents:"none"}),n),groupLabel:{backgroundColor:e.palette.background.paper,top:-8},groupUl:{padding:0,"& $option":{paddingLeft:24}}}};function Fm(t){t.anchorEl,t.open;var e=te(t,["anchorEl","open"]);return l("div",{...e})}var Hm=l($m,{fontSize:"small"}),zm=l(Am,{}),Vm=f.exports.forwardRef(function(e,n){e.autoComplete,e.autoHighlight,e.autoSelect,e.blurOnSelect;var r=e.ChipProps,a=e.classes,i=e.className,s=e.clearOnBlur;s===void 0&&e.freeSolo,e.clearOnEscape;var o=e.clearText,c=o===void 0?"Clear":o,d=e.closeIcon,p=d===void 0?Hm:d,u=e.closeText,m=u===void 0?"Close":u;e.debug;var h=e.defaultValue;h===void 0&&e.multiple;var g=e.disableClearable,v=g===void 0?!1:g;e.disableCloseOnSelect;var b=e.disabled,C=b===void 0?!1:b;e.disabledItemsFocusable,e.disableListWrap;var y=e.disablePortal,P=y===void 0?!1:y;e.filterOptions,e.filterSelectedOptions;var S=e.forcePopupIcon,T=S===void 0?"auto":S,k=e.freeSolo,V=k===void 0?!1:k,$=e.fullWidth,B=$===void 0?!1:$,E=e.getLimitTagsText,_=E===void 0?function(ie){return"+".concat(ie)}:E;e.getOptionDisabled;var W=e.getOptionLabel,G=W===void 0?function(ie){return ie}:W;e.getOptionSelected;var X=e.groupBy,U=e.handleHomeEndKeys;U===void 0&&e.freeSolo,e.id,e.includeInputInList,e.inputValue;var N=e.limitTags,A=N===void 0?-1:N,R=e.ListboxComponent,ee=R===void 0?"ul":R,ne=e.ListboxProps,re=e.loading,ge=re===void 0?!1:re,be=e.loadingText,xe=be===void 0?"Loading\u2026":be,Ie=e.multiple,Q=Ie===void 0?!1:Ie,Y=e.noOptionsText,Se=Y===void 0?"No options":Y;e.onChange,e.onClose,e.onHighlightChange,e.onInputChange,e.onOpen,e.open,e.openOnFocus;var fe=e.openText,ae=fe===void 0?"Open":fe;e.options;var Ge=e.PaperComponent,yt=Ge===void 0?jt:Ge,st=e.PopperComponent,lt=st===void 0?gp:st,Zt=e.popupIcon,ur=Zt===void 0?zm:Zt,Dn=e.renderGroup,pr=e.renderInput,fr=e.renderOption,en=e.renderTags,Tn=e.selectOnFocus;Tn===void 0&&e.freeSolo;var In=e.size,Ne=In===void 0?"medium":In;e.value;var Mt=te(e,["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","classes","className","clearOnBlur","clearOnEscape","clearText","closeIcon","closeText","debug","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","getOptionSelected","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","value"]),tn=P?Fm:lt,ve=Bm(H({},e,{componentName:"Autocomplete"})),Pe=ve.getRootProps,Be=ve.getInputProps,Nn=ve.getInputLabelProps,nn=ve.getPopupIndicatorProps,mr=ve.getClearProps,kn=ve.getTagProps,qe=ve.getListboxProps,rn=ve.getOptionProps,Lt=ve.value,We=ve.dirty,hr=ve.id,Ct=ve.popupOpen,Z=ve.focused,gr=ve.focusedTag,$t=ve.anchorEl,On=ve.setAnchorEl,me=ve.inputValue,ct=ve.groupedOptions,Fe;if(Q&&Lt.length>0){var Mn=function(le){return H({className:J(a.tag,Ne==="small"&&a.tagSizeSmall),disabled:C},kn(le))};en?Fe=en(Lt,Mn):Fe=Lt.map(function(ie,le){return l(Vr,{label:G(ie),size:Ne,...Mn({index:le}),...r})})}if(A>-1&&Array.isArray(Fe)){var an=Fe.length-A;!Z&&an>0&&(Fe=Fe.splice(0,A),Fe.push(l("span",{className:a.tag,children:_(an)},Fe.length)))}var At=function(le){return x("li",{children:[l(Tu,{className:a.groupLabel,component:"div",children:le.group}),l("ul",{className:a.groupUl,children:le.children})]},le.key)},vr=Dn||At,Ln=fr||G,dt=function(le,ut){var Rt=rn({option:le,index:ut});return l("li",{...Rt,className:a.option,children:Ln(le,{selected:Rt["aria-selected"],inputValue:me})})},on=!v&&!C,sn=(!V||T===!0)&&T!==!1;return x(Le,{children:[l("div",{ref:n,className:J(a.root,i,Z&&a.focused,B&&a.fullWidth,on&&a.hasClearIcon,sn&&a.hasPopupIcon),...Pe(Mt),children:pr({id:hr,disabled:C,fullWidth:!0,size:Ne==="small"?"small":void 0,InputLabelProps:Nn(),InputProps:{ref:On,className:a.inputRoot,startAdornment:Fe,endAdornment:x("div",{className:a.endAdornment,children:[on?l(et,{...mr(),"aria-label":c,title:c,className:J(a.clearIndicator,We&&a.clearIndicatorDirty),children:p}):null,sn?l(et,{...nn(),disabled:C,"aria-label":Ct?m:ae,title:Ct?m:ae,className:J(a.popupIndicator,Ct&&a.popupIndicatorOpen),children:ur}):null]})},inputProps:H({className:J(a.input,gr===-1&&a.inputFocused),disabled:C},Be())})}),Ct&&$t?l(tn,{className:J(a.popper,P&&a.popperDisablePortal),style:{width:$t?$t.clientWidth:null},role:"presentation",anchorEl:$t,open:!0,children:x(yt,{className:a.paper,children:[ge&&ct.length===0?l("div",{className:a.loading,children:xe}):null,ct.length===0&&!V&&!ge?l("div",{className:a.noOptions,children:Se}):null,ct.length>0?l(ee,{className:a.listbox,...qe(),...ne,children:ct.map(function(ie,le){return X?vr({key:ie.key,group:ie.group,children:ie.options.map(function(ut,Rt){return dt(ut,ie.index+Rt)})}):dt(ie,le)})}):null]})}):null]})});const ls=ue(Wm,{name:"MuiAutocomplete"})(Vm),_m=K(()=>({inputRoot:{paddingTop:"2px !important"}})),cs=t=>{const e=_m(),n=ss(),r=(s,o)=>{if(s.preventDefault(),!o){t.onChange(null);return}if(o.inputValue){t.onIntensionToAddNewOption(o.inputValue);return}t.onChange(o.id)},a=(s,o)=>{const c=n(s,o),d=o.inputValue,p=d==="",u=c.find(m=>m.name===d);return!p&&!u&&c.unshift({id:0,name:`Add "${d}"`,inputValue:d}),c},i=s=>typeof s=="string"?s:s.inputValue?s.inputValue:s.name;return l(ls,{value:t.value||null,options:t.options,onChange:r,onBlur:t.onBlur,onFocus:t.onFocus,filterOptions:a,getOptionLabel:i,getOptionSelected:(s,o)=>s.id===o.id,selectOnFocus:!0,renderOption:s=>s.name,classes:{inputRoot:e.inputRoot},style:{marginTop:De.spacing(1)},renderInput:s=>l(ht,{...s,name:t.name,variant:"filled",error:t.error,placeholder:t.placeholder})})},Um=f.exports.memo(({data:t,value:e,onChange:n,onSubmit:r,modalTitle:a,label:i,source:s,validation:o=!1})=>{const[c,d]=f.exports.useState(!1),[p,u]=f.exports.useState(!1),[m,h]=f.exports.useState(null),[g,v]=f.exports.useState(null),[b,C]=f.exports.useState([]),y=B=>B.map(E=>({id:E==null?void 0:E.id,name:(E==null?void 0:E.value)||(E==null?void 0:E.name)})),P=()=>d(!0),S=()=>d(!1),T=()=>u(!0),k=()=>u(!1),V=async()=>{if(T(),t.some(_=>_.value===m)){k(),S();return}const E=await r(m);if(k(),E){const _={id:E==null?void 0:E.id,name:(E==null?void 0:E.name)||(E==null?void 0:E.value)};C([...b,_]),v(_),n(E==null?void 0:E.id),S()}},$=B=>{if(!B){v(null),n(null);return}const E=t.find(_=>(_==null?void 0:_.id)===B);v({id:E==null?void 0:E.id,name:(E==null?void 0:E.name)||(E==null?void 0:E.value)}),n(E==null?void 0:E.id)};return f.exports.useEffect(()=>{C(y(t)),t.length&&$(e)},[t]),x(Pt,{label:i,required:o,value:g==null?void 0:g.id,children:[l(cs,{value:g,options:b,onChange:$,onIntensionToAddNewOption:B=>{h(B),P()},name:s}),l(it,{title:a,open:c,disabled:!m,isProcessing:p,handleClose:S,handleConfirm:V,children:l(Pt,{label:`${i} name`,value:m,children:l(ht,{value:m,onChange:B=>h(B.target.value),variant:"filled",InputProps:{margin:"dense"},style:{marginTop:De.spacing(1)},error:!m})})})]})},(t,e)=>t.value===e.value&&t.data.length===e.data.length),Ym=async t=>(await gl.post(vl,t)).data,Km=({values:t,setFieldValue:e})=>{const n=se(),r=ir(),a=O(bl);return f.exports.useEffect(()=>{n(xl())},[]),l(D,{className:he(r.section,r.company),children:l(Um,{data:a,source:"company.id",modalTitle:"Create company",label:"Company",onChange:i=>e("company.id",i),onSubmit:async i=>{const o=await Ym({name:i});return n(yl(o)),o},value:t.company.id})})},Gm=({values:t,setFieldValue:e})=>{const n=ir(),r=!(t.driverFirstName||t.driverPhone);return x(D,{className:n.section,children:[l(is,{text:"Dispatcher"}),x(St,{children:[l(Ee,{source:"dispatcherFirstName",label:"First name",value:t.dispatcherFirstName,validation:r,onChange:a=>e("dispatcherFirstName",a.target.value)}),l(Ee,{source:"dispatcherLastName",label:"Last name",value:t.dispatcherLastName,onChange:a=>e("dispatcherLastName",a.target.value)})]}),x(St,{children:[l(Go,{source:"dispatcherPhone",value:t.dispatcherPhone,isRequired:r,onChange:a=>e("dispatcherPhone",a.target.value)}),l(Ee,{source:"dispatcherEmail",value:t.dispatcherEmail,label:"E-mail address",onChange:a=>e("dispatcherEmail",a.target.value)})]})]})},qm=({values:t,setFieldValue:e})=>x(or,{children:[l(Km,{values:t,setFieldValue:e}),l(D,{display:"flex",mx:3,py:1.5,pl:.5,border:Xn,children:l(Xr,{icon:bd,text:"Either dispatcher\u2019s or driver\u2019s name & phone are required to proceed."})}),l(Gm,{values:t,setFieldValue:e}),l(Lm,{values:t,setFieldValue:e})]}),Jm=t=>{const e=t.dispatcherFirstName!=="",n=t.dispatcherPhone!=="",r=e&&n,a=t.driverFirstName!=="",i=t.driverPhone!=="";return r&&a!==i||a&&i&&e!==n},jm=({isJobLocked:t,tabValue:e,setTabValue:n,job:r})=>{const a=se(),i=jn(),s=o=>{var d,p,u,m,h,g,v,b,C;const c=Sl(o);if(((d=r==null?void 0:r.company)==null?void 0:d.id)||((p=r==null?void 0:r.dispatcher)==null?void 0:p.firstName)||((u=r==null?void 0:r.dispatcher)==null?void 0:u.lastName)||((m=r==null?void 0:r.dispatcher)==null?void 0:m.phoneNumber)||((h=r==null?void 0:r.dispatcher)==null?void 0:h.email)||((g=r==null?void 0:r.driver)==null?void 0:g.firstName)||((v=r==null?void 0:r.driver)==null?void 0:v.lastName)||((b=r==null?void 0:r.driver)==null?void 0:b.phoneNumber)||((C=r==null?void 0:r.driver)==null?void 0:C.email)){a(Pl({id:r.id,params:c}));return}a(El({id:r.id,params:c}))};return l(bt,{initialValues:Cl(r),onSubmit:s,validationSchema:wl,children:({setFieldValue:o,values:c,handleSubmit:d,isValid:p,initialValues:u,errors:m})=>{const h=Ue.exports.isEqual({...u,company:""},{...c,company:"",driverPhone:c.driverPhone?c.driverPhone:"",dispatcherPhone:c.dispatcherPhone?c.dispatcherPhone:""})&&(u.company.id||"")===(c.company.id||"");return x(xt,{className:i.form,children:[l(qm,{setFieldValue:o,values:c}),l(ar,{isNextButtonDisabled:t||Jm(c)||!p,onNextButtonClick:d,tabValue:e,setTabValue:n,pristine:h})]})}})},Xm=({children:t})=>{const[e,n]=q.useState(null),r=Boolean(e),a=Qm(),i=o=>{n(o.currentTarget)},s=()=>{n(null)};return x("div",{children:[l(et,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:i,className:a.root,children:l(Bf,{})}),l(Dl,{getContentAnchorEl:null,id:"long-menu",anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"right"},anchorEl:e,open:r,onClose:s,children:t})]})},Qm=K(({spacing:t})=>({root:{padding:t(.5),marginLeft:t(.5)}})),Zm=({job:t})=>{const e=eh(),n=se(),[r,a]=q.useState(!1),[i,s]=q.useState(!1),[o,c]=q.useState(!1),d=O(zc),p=O(Vc),u=async v=>{c(!0);try{v===oe.COMPLETED&&n(Tl(t.id)),v===oe.CANCELED&&n(Il(t.id))}catch(b){console.error(b)}finally{c(!1)}},[m,h]=f.exports.useState(!1);f.exports.useEffect(()=>{(d||p)&&h(!0)},[d,p]),f.exports.useEffect(()=>{!d&&!p&&m&&(a(!1),s(!1),h(!1))},[d,p,m]);const g=async v=>{c(!0);try{v&&n(Nl(t.id)),v||n(kl(t.id))}catch(b){console.error(b)}finally{c(!1)}};return x(Le,{children:[x(Xm,{children:[t.status!==oe.CANCELED&&t.status!==oe.COMPLETED&&t.status!==oe.COMPLETED_PENDING_REVIEW&&l(Cr,{onClick:()=>s(!0),className:e.complete,children:"Complete job"},"complete-action"),t.status!==oe.CANCELED&&t.status!==oe.COMPLETED&&t.status!==oe.CANCELED_PENDING_REVIEW&&l(Cr,{onClick:()=>a(!0),className:e.cancel,children:"Cancel job"},"cancel-action"),Mo.includes(t.status)&&l(Cr,{onClick:()=>g(!t.isPendingReview),className:e.lock,children:t.isPendingReview?"Approve & lock job":"Unlock job"},"lock-action")]}),l(it,{open:r,handleClose:()=>a(!1),handleConfirm:()=>u(oe.CANCELED),title:"Canceling job",isProcessing:d,children:"You are going to cancel the job. This action will influence provider's statistics."}),l(it,{open:i,handleClose:()=>s(!1),handleConfirm:()=>u(oe.COMPLETED),title:"Completing job",isProcessing:p,disabled:!t.providerId,children:t.providerId?"You are going to complete the job. This action will influence provider's statistics.":"You cannot perform this action without assigning the provider and service."})]})},eh=K(({palette:t})=>({cancel:{color:t.error.main},complete:{color:t.primary.main},lock:{color:j.sunshade}})),th=({isCreatePage:t,job:e})=>{const n=ds(),r=e!=null&&e.id?Lo(e.id):"";return l(D,{pt:3,pl:3,alignItems:"left",className:n.root,children:x(D,{display:"flex",px:1,justifyContent:"space-between",children:[l(z,{variant:"h4",className:n.title,children:t?"New Job":`Job #${r}`}),e&&l(nh,{job:e})]})})},nh=({job:t})=>{const e=ds();return x(D,{display:"flex",alignItems:"center",pr:3,children:[t.isPendingReview&&Mo.includes(t.status)&&l(_c,{fontSize:12}),l(yd,{status:t.status,fontSize:16}),t.rating&&l(Cd,{label:t.rating,endIcon:l(Ol,{className:e.icon}),className:e.rating}),l(Zm,{job:t})]})},ds=K(({palette:t,spacing:e})=>({root:{backgroundColor:t.common.white},title:{fontWeight:L.weight.bold},icon:{height:"11px",width:"12px",color:j.texasRose},rating:{marginLeft:e(1)}}));function Gn(){return Gn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gn.apply(this,arguments)}var co=function(t){var e=f.exports.useRef(t);return e.current=t,e},rh=function(t,e){var n;return function(){for(var r=this,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];n!==null&&(clearTimeout(n),n=null),n=setTimeout(function(){return t.apply(r,i)},e)}},ah="\u{1F4A1} use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library",oh=function(e){var n=e===void 0?{}:e,r=n.requestOptions,a=n.debounce,i=a===void 0?200:a,s=n.cache,o=s===void 0?24*60*60:s,c=n.cacheKey,d=c===void 0?"upa":c,p=n.googleMaps,u=n.callbackName,m=n.defaultValue,h=m===void 0?"":m,g=n.initOnMount,v=g===void 0?!0:g,b=f.exports.useState(!1),C=b[0],y=b[1],P=f.exports.useState(h),S=P[0],T=P[1],k=f.exports.useState({loading:!1,status:"",data:[]}),V=k[0],$=k[1],B=f.exports.useRef(null),E=co(r),_=co(p),W=f.exports.useCallback(function(){var A;if(!B.current){var R=window,ee=R.google,ne=_.current,re=(ne==null?void 0:ne.places)||(ee==null||(A=ee.maps)==null?void 0:A.places);if(!re){console.error(ah);return}B.current=new re.AutocompleteService,y(!0)}},[]),G=f.exports.useCallback(function(){$({loading:!1,status:"",data:[]})},[]),X=f.exports.useCallback(function(A){A===void 0&&(A=d);try{sessionStorage.removeItem(A)}catch{}},[d]),U=f.exports.useCallback(rh(function(A){if(!A){G();return}$(function(ee){return Gn({},ee,{loading:!0})});var R={};try{R=JSON.parse(sessionStorage.getItem(d)||"{}")}catch{}if(o&&(R=Object.keys(R).reduce(function(ee,ne){return R[ne].maxAge-Date.now()>=0&&(ee[ne]=R[ne]),ee},{}),R[A])){$({loading:!1,status:"OK",data:R[A].data});return}B.current.getPlacePredictions(Gn({},E.current,{input:A}),function(ee,ne){if($({loading:!1,status:ne,data:ee||[]}),o&&ne==="OK"){R[A]={data:ee,maxAge:Date.now()+o*1e3};try{sessionStorage.setItem(d,JSON.stringify(R))}catch{}}})},i),[i,G,d]),N=f.exports.useCallback(function(A,R){R===void 0&&(R=!0),T(A),B.current&&R&&U(A)},[U]);return f.exports.useEffect(function(){if(!v)return function(){return null};var A=window,R=A.google;return!_.current&&!(R!=null&&R.maps)&&u?window[u]=W:W(),function(){window[u]&&delete window[u]}},[u,W]),{ready:C,value:S,suggestions:V,setValue:N,clearSuggestions:G,clearCache:X,init:W}},ih="\u{1F4A1} use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions.",us=function(e){var n=new window.google.maps.Geocoder;return new Promise(function(r,a){n.geocode(e,function(i,s){s!=="OK"&&a(s),!e.address&&e.componentRestrictions&&(console.error(ih),r(i)),r(i)})})},sh=function(e){return new Promise(function(n,r){try{var a=e.geometry.location,i=a.lat,s=a.lng;n({lat:i(),lng:s()})}catch(o){r(o)}})};const lh="/assets/jobMarkerIcon.1450e293.svg",ch=(t,e)=>{const r=o(e.lat-t.lat),a=o(e.long-t.long),i=Math.sin(r/2)*Math.sin(r/2)+Math.cos(o(t.lat))*Math.cos(o(e.lat))*Math.sin(a/2)*Math.sin(a/2);return 3958.8*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)));function o(c){return c*(Math.PI/180)}},dh=(t,e)=>e.find(({epicenter:n})=>n?ch(t,n)<=100:!1),uo=({latitude:t,longitude:e})=>({lat:parseFloat(t),lng:parseFloat(e)}),ps=({lat:t,lng:e})=>({lat:t,long:e}),fs=f.exports.createContext(null),uh=({children:t})=>{const[e,n]=f.exports.useState({}),[r,a]=f.exports.useState(!0),{serviceAreas:i,isLoadingAreas:s}=Sd(),o=s||r,c=f.exports.useCallback((u,m)=>{n(h=>({...h,[u]:{...h[u],...uo(m),...m}}))},[]),d=f.exports.useCallback((u,m)=>{n(h=>({...h,[u.id]:{...u,...uo(m),...m}}))},[]);f.exports.useEffect(()=>{const u=[];return(()=>{a(!1)})(),()=>{u.forEach(h=>h())}},[d,c]);const p=u=>Ue.exports.filter(e,m=>{const h=dh({lat:m.lat,long:m.lng},i);return h&&u?Ue.exports.isEqual(h.epicenter,u.epicenter):!1});return l(fs.Provider,{value:{locations:e,isLoadingLocations:o,getProvidersFromArea:p},children:t})},ms=()=>{const t=q.useContext(fs);if(!t)throw new Error("useProvidersLocations must be used within a ProvidersLocations.");return t},hs=async(t,e=sh)=>{var c,d;const n=t[0].formatted_address,r=await e(t[0]),a=ps(r),{address_components:i}=t[0],s=(c=i.find(p=>p.types.includes("administrative_area_level_1")))==null?void 0:c.short_name,o=(d=i.find(p=>p.types.includes("locality")))==null?void 0:d.long_name;return{formattedAddress:n,state:s||"",city:o||"",latLongCoordinates:a}},ph={strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,radius:6e4},fh=({job:t})=>{const[e,n]=f.exports.useState([]);return l(Ml,{path:e,options:ph})},gs=t=>t.Map,vs=Cn(gs,t=>t.address),bs=Cn(gs,t=>t.coordinates),mh={flexGrow:1,height:"100%"},hh=q.memo(({job:t,isJobMarkerDraggable:e=!0})=>{const{isLoaded:n,loadError:r,setCoordinates:a,setAddress:i,setLocation:s}=Kr(),o=O(vs),c=O(bs),{isLoadingLocations:d}=ms(),[p,u]=f.exports.useState(null),m={lat:c.lat,lng:c.long},h=d||!n;return f.exports.useEffect(()=>{t&&s(t.location)},[t,s]),r?l(Le,{children:"An error occured when loading maps"}):h?l(Nt,{text:"Map loading"}):x(Ll,{mapContainerStyle:mh,zoom:Oa.hasOwnProperty(o.type)?Oa[o.type]:15,center:m,options:{scaleControl:!0},onClick:()=>{u(null)},children:[o.value&&c&&l(vh,{coordinates:m,setCoordinates:a,setAddress:i,draggable:e}),l(gh,{job:t,setSelectedProvider:u}),(t==null?void 0:t.drivingStartDate)&&l(fh,{job:t})]})}),gh=({job:t,setSelectedProvider:e})=>{const n=se(),r=O(qr),a=O(Pd),i=Gr(),s=$o(i),o=f.exports.useMemo(()=>r.find(d=>d.id===(t==null?void 0:t.providerId)),[r,t==null?void 0:t.providerId]);f.exports.useEffect(()=>{s&&n($l())},[]);const c=tr({shouldConnect:s,subcsribtions:{"/notifications/providers/update":d=>{n(Al(JSON.parse(d.body)))}}});return f.exports.useEffect(()=>{!s&&c&&c.deactivate()},[s,c]),x(Le,{children:[s&&a.map(d=>l(Tr,{location:{lat:d.lastProviderLocation.latitude,lng:d.lastProviderLocation.longitude},online:d.online,onClick:()=>o&&e(o.id)},d.id)),!s&&!(t!=null&&t.providerId)&&r.map(d=>(d==null?void 0:d.longitude)&&(d==null?void 0:d.latitude)&&l(Tr,{location:{lat:d==null?void 0:d.latitude,lng:d==null?void 0:d.longitude},onClick:()=>e(d==null?void 0:d.id),online:d.online},d==null?void 0:d.id)),!s&&(t==null?void 0:t.providerId)&&(o==null?void 0:o.latitude)&&(o==null?void 0:o.longitude)&&l(Tr,{location:{lat:o==null?void 0:o.latitude,lng:o==null?void 0:o.longitude},onClick:()=>o&&e(o.id),online:!!(o!=null&&o.online)})]})},Tr=({location:t,onClick:e,online:n,...r})=>l(Ao,{...r,position:t,icon:{url:n?Ed:Dd,anchor:new google.maps.Point(22,22),scaledSize:new google.maps.Size(45,45)},onClick:e}),vh=({coordinates:t,setCoordinates:e,setAddress:n,draggable:r})=>l(Ao,{position:t,icon:{url:lh,anchor:new google.maps.Point(22,22),scaledSize:new google.maps.Size(45,45)},draggable:r,onDragEnd:async({latLng:a})=>{if(a){const i={lat:a.lat(),lng:a.lng()};e(ps(i));try{const s=await us({location:i});if(!s)return;const{formattedAddress:o,city:c,state:d}=await hs(s);n({value:o,state:d,city:c,type:null})}catch(s){console.error(s)}}}}),bh=t=>{const e=se(),n=O(Rl),r=O(Bl);return f.exports.useEffect(()=>{e(Wl(t))},[]),{services:n,isLoadingAreas:r}},va=({source:t="",label:e,placeholder:n,validation:r=!0,value:a,className:i,onChange:s,rows:o=2})=>l(Pt,{label:e,required:r,value:a,className:i,children:l(ht,{value:a,id:t,name:t,multiline:!0,minRows:o,onChange:s,placeholder:n,variant:"filled",autoComplete:"off",style:{marginTop:"8px"}})}),ba=K(({spacing:t,palette:e})=>({pinIcon:{width:"42px",marginRight:t(2)},boldText:{fontWeight:L.weight.semiBold},title:{fontSize:L.size.default,fontWeight:L.weight.semiBold,lineHeight:"20px"},errorTitle:{color:e.error.main},serviceAreaIcon:{width:t(2),height:t(2),marginRight:t(1),color:e.primary.main},statValue:{marginLeft:t(.5),marginRight:t(.5),color:e.common.black,fontWeight:L.weight.semiBold},statLabel:{display:"flex",alignItems:"center",width:"33%",color:j.rollingStone,lineHeight:"16px",marginBottom:t(1),fontSize:L.size.regular},dot:{display:"inline-block",width:"6px",height:"6px",backgroundColor:e.primary.main,borderRadius:"100%"},redDot:{backgroundColor:e.error.main},greenDot:{backgroundColor:e.primary.main},loader:{marginRight:t(2)},container:{background:j.catskillWhite},locationDetailsWrapper:{display:"flex",marginTop:t(3),alignItems:"end"},locationDetailsSelect:{minWidth:"160px"},locationNotes:{marginLeft:t(2),marginTop:t(-1),flex:1,"& div.MuiInputBase-root":{height:"60px"}},locationSection:{backgroundColor:j.lightGreen},rateType:{fontWeight:L.weight.bold,marginLeft:De.spacing(1.5),lineHeight:"16px"},disclaimerTitle:{fontWeight:L.weight.bold,lineHeight:"16px"},disclaimerText:{color:De.palette.text.secondary,fontWeight:L.weight.light,marginBottom:De.spacing(1.5)},serviceIssue:{"& MuiFormControl-root > div.MuiInputBase-root":{height:"76px"}}})),xh=({service:t})=>{const e=ba(),n="Based on the pricing setup for this service.";return x(D,{display:"flex",justifyContent:"space-between",border:Xn,p:1.5,boxSizing:"border-box",children:[x(D,{display:"flex",alignItems:"center",style:{color:De.palette.primary.main},children:[t.flatRate?l(Hl,{}):l(Fl,{}),l(z,{variant:"overline",className:e.rateType,children:t.flatRate?`$${t.rateValue} flat rate`:`${t.minHours} hour minimum`})]}),l(Xr,{icon:qi,text:n})]})},yh=({setFieldValue:t,values:e})=>{var c,d;const n=ba(),{services:r}=bh({page:0,size:100}),[a,i]=f.exports.useState(null),s=p=>r.find(u=>u.id===p)||null;f.exports.useEffect(()=>{const p=s(e.service.id);i(p)},[e.service.id]);const o=p=>{t("service.issue",p.target.value)};return x(D,{display:"flex",flexDirection:"column",pt:3,px:3,children:[l(Zn,{value:(c=e.service)==null?void 0:c.id,source:"service.id",label:"Service type",choices:r,validation:!0,placeholder:"Please select...",onChange:p=>{t("service.id",p.target.value);const u=r.find(m=>m.id===p.target.value);u&&i(u)}}),l(va,{source:"service.issue",value:(d=e.service)==null?void 0:d.issue,label:"What problem is the vehicle having?",placeholder:"Enter description of the vehicle malfunction that will be helpful for the job provider...",className:n.serviceIssue,onChange:o,rows:3}),a&&l(xh,{service:a})]})},xa=t=>t.Dictionary,Ch=Cn(xa,t=>t.vehicleManufacturers),wh=Cn(xa,t=>t.vehicleModels);Cn(xa,t=>t.vehicleTypes);const Sh=({setFieldValue:t,values:e})=>(O(Ch),O(wh),x(D,{display:"flex",flexDirection:"column",pt:3,px:3,children:[x(St,{flexBasis:30,children:[l(Ee,{source:"vehicle.year",label:"Year",onChange:n=>{n.target.value.length===0||n.target.value.length<=4&&n.target.value.match(/^[0-9]+$/)?t("vehicle.year",n.target.value):t("vehicle.year",e.vehicle.year)},value:e.vehicle.year,error:`${e.vehicle.year}`.length!==0&&`${e.vehicle.year}`.length<4}),l(Ee,{source:"vehicle.manufacturer",label:"Manufacturer",onChange:n=>{t("vehicle.manufacturer",n.target.value)},value:e.vehicle.manufacturer}),l(Ee,{source:"vehicle.model",label:"Model",onChange:n=>t("vehicle.model",n.target.value),value:e.vehicle.model})]}),x(St,{children:[l(Ee,{source:"vehicle.unit",label:"Unit #",onChange:n=>t("vehicle.unit",n.target.value),value:e.vehicle.unit}),l(Ee,{source:"vehicle.vin",label:"VIN / Serial #",onChange:n=>t("vehicle.vin",n.target.value),value:e.vehicle.vin})]}),x(St,{children:[l(Ee,{source:"vehicle.mileage",label:"Mileage",onChange:n=>t("vehicle.mileage",n.target.value),value:e.vehicle.mileage,type:"number"}),l(Ee,{source:"vehicle.usdot",label:"USDOT #",onChange:n=>t("vehicle.usdot",n.target.value),value:e.vehicle.usdot})]})]})),Ph=({source:t,value:e,setFieldValue:n})=>{const r=Eh(),{setAddress:a,setCoordinates:i,isLoaded:s}=Kr(),o=O(vs),c=O(bs),{value:d,suggestions:{status:p,data:u},setValue:m,ready:h,init:g}=oh({debounce:300,requestOptions:Th,initOnMount:!1});return f.exports.useEffect(()=>{!(s&&h)&&g()},[h,s,g]),f.exports.useEffect(()=>{o.value&&(n("location.address",o.value),n("location.state",o.state),n("location.city",o.city),n("location.lat",c.lat),n("location.long",c.long),n("location.type",o.type))},[o,c]),l(ls,{value:e,getOptionLabel:b=>b!=null&&b.description?b.description:b,getOptionSelected:b=>b!=null&&b.description?b.description:b,filterOptions:b=>b,options:p==="OK"?u:[],onChange:async(b,C)=>{if(!C){n("location.address",""),i(Or),a({value:"",state:"",city:"",type:"continent"});return}n("location.address",C.description);try{const y=await us({address:C.description});if(!y)return;const{city:P,state:S,latLongCoordinates:T}=await hs(y);n("location.address",C.description),n("location.state",S),n("location.city",P),n("location.lat",T.lat),n("location.long",T.long),i(T),a({value:C.description,state:S,city:P,type:C.types[0]})}catch(y){console.error(y)}},includeInputInList:!0,autoHighlight:!0,onInputChange:b=>{var C;return m((C=b==null?void 0:b.target)==null?void 0:C.value)},noOptionsText:d?"No options":"Start typing...",classes:{inputRoot:r.inputRoot},style:{marginTop:De.spacing(1)},renderInput:b=>l(ht,{...b,name:t,label:"Address",variant:"filled"})})},Eh=K(()=>({inputRoot:{paddingTop:"0 !important"}})),Dh=t=>t*1609,Th={location:{lat:()=>Or.lat,lng:()=>Or.long},radius:Dh(500)},Ih=({values:t,setFieldValue:e})=>{var a;const n=ba(),{isLoaded:r}=Kr();return x(D,{display:"flex",flexDirection:"column",pt:3,px:3,className:n.locationSection,children:[l(Pt,{label:"Where the vehicle is located?",value:(a=t.location)==null?void 0:a.address,required:!0,children:r&&l(Ph,{source:"location.address",value:t.location.address,setFieldValue:e})}),l(Xr,{icon:qi,text:"If address is unknown, enter nearby location\u2014city or road\u2014then drag & drop map pin to a more precise location."}),x(D,{className:n.locationDetailsWrapper,children:[l(Zn,{label:"Location details",source:"location.details",choices:zl,value:t.location.details,className:n.locationDetailsSelect,placeholder:"Select",onChange:i=>e("location.details",i.target.value),validation:!0}),l(va,{source:"location.notes",value:t.location.notes,placeholder:"Helpful info to locate & identify the vehicle.",validation:!1,className:n.locationNotes,onChange:i=>e("location.notes",i.target.value)})]})]})},Nh=({setFieldValue:t,values:e})=>x(or,{children:[l(Ih,{setFieldValue:t,values:e}),l(yh,{setFieldValue:t,values:e}),l(Sh,{setFieldValue:t,values:e})]}),kh=({isJobLocked:t,tabValue:e,setTabValue:n,job:r,setRedirect:a})=>{const i=se(),s=jn(),o=async c=>{const d=Ul(c);if(!r){i(Yl(d)),a(!0);return}i(Kl({id:r.id,params:d}))};return l(bt,{initialValues:Vl(r),onSubmit:o,validationSchema:_l,enableReinitialize:!0,validateOnMount:!0,children:({setFieldValue:c,values:d,handleSubmit:p,isValid:u,initialValues:m})=>{const h=Ue.exports.isEqual({...m.location,type:m.location.type||""},{...d.location,type:d.location.type||""})&&Ue.exports.isEqual(m.service,d.service)&&Ue.exports.isEqual(m.vehicle,d.vehicle);return x(xt,{className:s.form,children:[l(Nh,{setFieldValue:c,values:d}),l(ar,{isNextButtonDisabled:Oh(t||!u,d.vehicle.year),onNextButtonClick:p,tabValue:e,setTabValue:n,pristine:h})]})}})},Oh=(t,e)=>t||!(`${e}`.length===0||`${e}`.length===4),sr=K(({palette:t})=>({dot:{display:"inline-block",width:10,height:10,backgroundColor:t.primary.main,borderRadius:"100%",border:`2px solid ${t.common.white}`},redDot:{backgroundColor:t.error.main},greenDot:{backgroundColor:t.primary.main},onJob:{backgroundColor:t.common.white,border:`2px solid ${t.primary.main}`}})),ya=({children:t,className:e})=>{const n=sr();return x(D,{display:"flex",alignItems:"center",children:[l("span",{className:he(n.dot,e)}),t]})},Mh=({className:t,...e})=>{const n=sr();return l(ya,{className:he(n.onJob,t),...e})},xs=({className:t,...e})=>{const n=sr();return l(ya,{className:he(n.greenDot,t),...e})},Ca=({className:t,...e})=>{const n=sr();return l(ya,{className:he(n.redDot,t),...e})},Ir="0.4",wa=K(({palette:t,spacing:e})=>({drawer:{"&>div":{background:`${t.common.white} !important`,boxShadow:"rgb(0 0 0 / 30%) -4px 0px 5px -2px"}},drawerContent:{width:600},drawerTitle:{display:"flex",alignItems:"center",fontWeight:L.weight.medium,"& > svg":{width:24,height:24,marginRight:e(2)}},subtitle:{fontWeight:L.weight.medium,paddingLeft:e(3),paddingBottom:e(1)},drawerTrigger:{position:"fixed",right:0,top:"calc(50% - 32px)",display:"flex",height:64,alignItems:"center",padding:e(2.5),fontSize:L.size.regular,fontWeight:L.weight.semiBold,color:t.common.black,backgroundColor:t.common.white,border:No,boxShadow:"0px 0px 8px rgba(35, 40, 46, 0.1)",borderRadius:yn,transition:`all ${Ir}s`,"&:hover":{backgroundColor:t.common.white,"& > span > svg":{display:"block",width:"auto",transform:"translateX(0)"},"& > span > div":{display:"flex",width:"auto",transform:"translateX(0)"}}},drawerTriggerIcon:{height:24,paddingRight:e(1.5)},drawerTriggerContent:{display:"flex",alignItems:"center",height:"100%",paddingLeft:e(1.5),marginLeft:e(1),borderLeft:_n},drawerTriggerArrowIcon:{width:0,marginRight:e(1.5),transition:`all ${Ir}s`,transform:"translateX(32px)"},drawerTriggerLabel:{display:"none",width:0,fontSize:L.size.default,fontWeight:L.weight.medium,textTransform:"uppercase",transition:`all ${Ir}s`,whiteSpace:"nowrap"},disabledNotifyButton:{padding:0,color:j.grey,fontSize:L.size.regular,pointerEvents:"none"},headerWrapper:{paddingTop:e(6.5),boxShadow:"0px 0px 8px rgba(35, 40, 46, 0.1)"},statusDot:{marginRight:e(1)}})),Ot=K(({palette:t,spacing:e})=>({wrapperWithActions:{display:"flex",alignItems:"center",padding:`${e(1)}px ${e(3)}px`,position:"relative","&:hover":{background:j.catskillWhite,"& $actions":{display:"flex"}}},title:{fontWeight:L.weight.bold},description:{color:t.text.secondary},highlighted:{textAlign:"right",color:t.primary.main,fontWeight:L.weight.bold},textWrapper:{flexGrow:1,marginRight:e(1.5)},actions:{display:"none",width:"20%",alignItems:"center",justifyContent:"flex-end",position:"absolute",padding:0,right:e(3),top:0,bottom:0,background:"linear-gradient(270deg, #F2F4F8 55.85%, rgba(242, 244, 248, 0) 100%)"},actionButton:{borderRadius:"50%",border:0,width:"24px",minWidth:"24px",height:"24px",background:"transparent","&:hover":{borderRadius:"50%"}},actionIcon:{width:16,height:16},formWrapper:{padding:`${e(2)}px ${e(3)}px`,background:t.common.white,border:`2px solid ${t.primary.main}`},dolarIcon:{color:t.primary.main}})),ys=({children:t,...e})=>l(Lh,{...e,children:t}),Lh=ue(t=>({root:{color:j.bittersweet,marginLeft:t.spacing(1.5),minWidth:"40px",height:"40px","&:hover":{backgroundColor:j.bittersweetLight,borderRadius:yn}}}))(Re),$h=t=>{const e=Ot();return l(Ah,{className:t.className,...t,children:l(Rf,{className:e.actionIcon})})},Ah=ue(()=>({root:{borderRadius:"50%",border:0,minWidth:"24px",height:"24px",padding:"0",background:"transparent",color:j.green,"&:hover":{borderRadius:"50%",background:j.geyser}}}))(ys),Rh=({children:t,...e})=>l(Bh,{...e,children:t}),Bh=ue(t=>({root:{color:j.bittersweet,marginLeft:t.spacing(1.5),minWidth:"40px",height:"40px","&:hover":{backgroundColor:j.bittersweetLight,borderRadius:yn}}}))(Re),Wh=t=>{const e=Ot();return l(Fh,{className:t.className,...t,children:l(fa,{className:e.actionIcon})})},Fh=ue(()=>({root:{borderRadius:"50%",border:0,minWidth:"24px",height:"24px",padding:"0",background:"transparent","&:hover":{borderRadius:"50%",background:j.geyser}}}))(Rh),Hh=K(({spacing:t})=>({addItem:{width:"100%",margin:"0",textTransform:"none",fontWeight:L.weight.semiBold,color:j.green,border:0,background:"none",letterSpacing:"normal","&:hover":{background:"none"},"& > span":{justifyContent:"left"},padding:`${t(1.5)}px ${t(3)}px`},addIcon:{marginRight:t(.5)}})),zh=({children:t,...e})=>{const n=Hh();return x(ys,{className:n.addItem,...e,children:["+ ",t]})},lr=({data:t,createForm:e,editForm:n,row:r,onDelete:a,deleteModal:i,addItemButtonLabel:s,isReadOnly:o,allowDelete:c=!0,allowAdd:d=!0})=>{const[p,u]=q.useState(!1),[m,h]=q.useState(null),g=!(p||o),v=!(m||p||o),b=S=>{h(S)},C=()=>{h(null),u(!0)},y=async S=>{await a(S)},P=S=>m===S;return x(Le,{children:[t.map((S,T)=>P(T)?l(n,{onCancelClick:()=>h(null),data:S,id:T},T):l(Vh,{showActions:g,onDeleteConfirmation:()=>y(T),onEditAction:()=>b(T),deleteModal:i(S),deletable:S.modifiable!==void 0?S.modifiable:c,children:l(r,{item:S})},T)),p&&l(e,{onCancelClick:()=>u(!1)}),v&&d&&l(zh,{onClick:C,children:s})]})},Vh=({children:t,showActions:e,onEditAction:n,onDeleteConfirmation:r,deleteModal:a,deletable:i=!0})=>{const s=Ot(),[o,c]=f.exports.useState(!1),d=async()=>{await r(),c(!1)};return x(D,{className:s.wrapperWithActions,children:[t,e&&x(D,{className:s.actions,children:[l($h,{onClick:n}),i&&l(Wh,{onClick:()=>c(!0)})]}),l(it,{open:o,title:a.title,confirmText:a.confirmText,handleClose:()=>c(!1),handleConfirm:d,children:a.content})]})},hn=({title:t,description:e,className:n})=>{const r=Ot();return x(_h,{className:he(n&&n),children:[l(z,{variant:"body2",component:"h5",className:r.title,children:t}),l(z,{variant:"body2",className:he(r.description,n),children:e})]})},cr=({children:t,className:e})=>{const n=Ot();return l(z,{variant:"body2",component:"h5",className:he(n.highlighted,e),children:t})},_h=({children:t,className:e})=>{const n=Ot();return l(D,{className:he(n.textWrapper,e),children:t})},Sa=K(({palette:t,spacing:e})=>({laborDescription:{lineHeight:"18px","& > span:not(:last-child)":{marginRight:e(.5)}},avatar:{marginRight:e(1.5)},textInput:{marginBottom:e(1),paddingBottom:0,"& > .MuiFilledInput-root.Mui-disabled":{color:t.common.black}},dateTimeInput:{"& > .MuiOutlinedInput-adornedEnd":{paddingRight:"0"}},wrapper:{marginBottom:e(1)},inputWrapper:{display:"flex",marginBottom:e(1)},separator:{lineHeight:"40px",margin:`0 ${e(1)}px`}})),Uh=({providerName:t,item:e})=>{const n=Sa();return x(Le,{children:[l(qo,{name:t,status:"offline",className:n.avatar,width:20}),l(hn,{title:t,description:l(Cs,{data:e,withBoldedTime:!0})}),l(cr,{children:typeof e.durationInSeconds=="number"?Yo(e.durationInSeconds):"In Progress"})]})},Cs=({data:{startTime:t,endTime:e},withBoldedTime:n})=>{const r=Sa(),a=It();return x(z,{component:"span",variant:"body2",className:r.laborDescription,children:[l("span",{children:Ut(Ft(t))}),l("span",{className:he(n&&a.boldBlackText),children:Yt(Ft(t))}),l("span",{children:"to"}),l("span",{className:he(n&&a.boldBlackText),children:e?Yt(Ft(e)):"now"}),l("span",{children:e?Ut(Ft(e)):""})]})},dr=({onCancelClick:t,isValid:e,children:n})=>{const r=Jn(),a=Ot();return x(D,{className:a.formWrapper,children:[n,l(Ze,{className:r.defaultButton,disabled:!e,type:"submit",style:{height:"40px"},children:"Save"}),l(xd,{onClick:t,className:he(r.defaultButton,r.reverseButton),style:{marginLeft:De.spacing(1)}})]})},Yh=K(({spacing:t})=>({dateTimeInput:{"& > .MuiOutlinedInput-adornedEnd":{paddingRight:"0"}},wrapper:{marginBottom:t(1)},inputWrapper:{display:"flex",marginBottom:t(1)},separator:{lineHeight:"40px",margin:`0 ${t(1)}px`}})),po=({className:t,format:e,value:n,maxDate:r,minDate:a,setFieldValue:i,valueName:s,disabled:o})=>{const c=Yh();return l(Gi,{format:e||ud,inputVariant:"outlined",variant:"inline",className:he(c.dateTimeInput,t),autoOk:!0,onChange:d=>{i(s,d)},value:n,minDate:a,maxDate:r,disabled:o})},Kh=()=>{const t=new Date;return{repairPeriodStartTime:mt(t),repairPeriodEndTime:mt(t)}},fo=({data:t,providerFullName:e,handleSubmit:n,onCancelClick:r,id:a,inProgress:i,isCreate:s})=>{const o=t?{repairPeriodStartTime:mt(_t(new Date(t.startTime)).subtract(new Date().getTimezoneOffset(),"m").toDate()),repairPeriodEndTime:t.endTime?mt(_t(new Date(t.endTime)).subtract(new Date().getTimezoneOffset(),"m").toDate()):mt(new Date),isInProgress:!t.endTime}:Kh(),c=Sa();return l(bt,{initialValues:o,onSubmit:p=>{n(p,a),r()},children:({setFieldValue:p,values:u,errors:m})=>{const h=u.repairPeriodStartTime&&u.repairPeriodEndTime&&u.repairPeriodStartTime.toDate()<u.repairPeriodEndTime.toDate();return l(xt,{children:x(dr,{onCancelClick:r,isValid:!!h,children:[l(Ee,{disabled:!0,className:c.textInput,placeholder:e,validation:!1}),x(D,{className:c.wrapper,children:[x(D,{className:c.inputWrapper,children:[l(po,{valueName:"repairPeriodStartTime",setFieldValue:p,value:u.repairPeriodStartTime,maxDate:u.repairPeriodEndTime}),l(z,{component:"span",className:c.separator,children:"to"}),l(po,{valueName:"repairPeriodEndTime",setFieldValue:p,value:u.repairPeriodEndTime,minDate:u.repairPeriodStartTime,disabled:!(t!=null&&t.endTime)&&!s})]}),l(z,{component:"p",color:"error",children:m.repairPeriodStartTime||m.repairPeriodEndTime})]})]})})}})},Gh=q.memo(({isJobLocked:t})=>{const e=It(),{id:n}=Gr(),r=O(Ke),a=O(Qn),i=se();if(f.exports.useEffect(()=>{i(Gl({id:n}))},[]),!a)return l(D,{p:3,children:l(z,{children:"No provider"})});const s=Ue.exports.sortBy(r==null?void 0:r.repairPeriods,h=>_t(h.startTime).toDate()),o=![oe.COMPLETED,oe.COMPLETED_PENDING_REVIEW,oe.MANUAL,oe.IN_PROGRESS,oe.PAUSE].includes(r.status)||t,c=[oe.COMPLETED,oe.COMPLETED_PENDING_REVIEW,oe.MANUAL].includes(r.status)&&!t,d=er(a),p=async h=>{var v;const g=mo(h);!g||i(ql({jobId:r.id,providerId:r==null?void 0:r.providerId,startTime:g.repairPeriodStartTime.valueOf(),endTime:((v=g.repairPeriodEndTime)==null?void 0:v.valueOf())||""}))},u=(h,g,v)=>{const b=mo(h,v);!b||i(Jl({jobId:r.id,providerId:a.id,laborId:s[g].id,startTime:b.repairPeriodStartTime,endTime:b.repairPeriodEndTime}))},m=async h=>{i(jl({laborId:s[h].id,jobId:r.id}))};return l(D,{className:e.listWrapper,children:l(lr,{data:s,createForm:h=>l(fo,{providerFullName:d,handleSubmit:p,isCreate:!0,...h}),editForm:({data:h,...g})=>{const v=!h.endTime;return l(fo,{providerFullName:d,handleSubmit:(b,C)=>u(b,C,v),data:qh(h),inProgress:v,...g})},onDelete:m,deleteModal:h=>({title:"Delete labor?",confirmText:"Delete",content:x(z,{children:["Remove labor for ",l("span",{className:e.boldText,children:d})," ",l(Cs,{data:h}),"?"]})}),row:({item:h})=>l(Uh,{item:h,providerName:d}),addItemButtonLabel:"Add labor",isReadOnly:o,allowDelete:c,allowAdd:c})})}),qh=t=>({...t,repairPeriodStartTime:mt(Ft(t.repairPeriodStartTime)),repairPeriodEndTime:t.repairPeriodEndTime?mt(Ft(t.repairPeriodEndTime)):mt(new Date)}),mo=(t,e)=>{if(!t.repairPeriodStartTime)return;const n={repairPeriodStartTime:t.repairPeriodStartTime.add(new Date().getTimezoneOffset(),"m").format("YYYY-MM-DDTHH:mm:ss")};if(e)return n;const r=t.repairPeriodEndTime?t.repairPeriodEndTime.add(new Date().getTimezoneOffset(),"m").format("YYYY-MM-DDTHH:mm:ss"):_t(new Date).format("YYYY-MM-DDTHH:mm:ss");return{...n,repairPeriodEndTime:r,durationInSeconds:pd(t.repairPeriodStartTime.toDate(),r)}},ws=K(({spacing:t})=>({firstColumn:{width:"40%",alignItems:"flex-start"},partDescriptionCol:{alignItems:"flex-start"},formContainer:{display:"flex"},firstFormCol:{flex:"0 0 60%",marginRight:t(1.5)},secondFormCol:{flex:"0 0 40%"},inputWrapper:{width:"100%",paddingBottom:0,marginBottom:t(1)},countInput:{marginRight:t(1.5)},flexRow:{display:"flex"},lowercase:{textTransform:"lowercase"},errorMessage:{textTransform:"capitalize"}})),Jh=({item:{name:t,description:e,markup:n,price:r,cost:a,quantity:i}})=>{const s=ws(),o=It();return x(Le,{children:[l(hn,{title:t,description:e||"-",className:s.firstColumn}),l(hn,{title:we(Xl(r,n)),description:l("span",{className:o.italic,children:`${we(r)} + ${Ql(n)}`}),className:s.partDescriptionCol}),l(hn,{title:i,className:s.partDescriptionCol}),l(cr,{children:we(a)})]})},jh=20,Xh=1,Qh={name:"",description:"",cost:0,price:"",markup:jh,quantity:Xh},ho=({data:t,handleSubmit:e,onCancelClick:n,id:r})=>{const a=ws();return l(bt,{initialValues:t||Qh,onSubmit:o=>{e(o,r),n()},children:({values:o,setFieldValue:c,touched:d,errors:p})=>l(xt,{children:x(dr,{onCancelClick:n,isValid:!!o.name&&o.markup>=0&&!!(o.quantity*o.price)&&o.quantity*o.price>0,children:[x(D,{className:a.formContainer,children:[x(D,{className:a.firstFormCol,children:[l(Ee,{source:"name",placeholder:"Name",className:a.inputWrapper,onChange:u=>c("name",u.target.value),value:o.name}),l(Ee,{source:"description",validation:!1,placeholder:"Description",className:a.inputWrapper,onChange:u=>c("description",u.target.value),value:o.description})]}),x(D,{className:a.secondFormCol,children:[l(Jr,{source:"price",onChange:u=>{const m=u.target.value;jr({previousValue:o.price,newValue:m,fieldLabel:"price",setFieldValue:c})},value:o.price,step:.5,disableInputProps:!0,handleBlur:()=>{c("price",`${parseFloat(`${o.price}`)}${`${parseFloat(`${o.price}`)}`.split(".")[1]?`${parseFloat(`${o.price}`)}`.split(".")[1].length===1?"0":"":".00"}`)}}),x(D,{className:a.flexRow,children:[l(Mr,{source:"quantity",placeholder:"Qty",InputProps:{min:"1",step:"1"},className:a.countInput,onChange:u=>c("quantity",u.target.value?parseInt(u.target.value):void 0),value:o.quantity}),l(Mr,{source:"markup",placeholder:"0",InputProps:{min:"0"},className:a.inputWrapper,onChange:u=>c("markup",u.target.value?parseInt(u.target.value):void 0),value:o.markup})]})]})]}),l(cr,{children:we(o.quantity*(+o.price+ +o.price*o.markup/100))})]})})})},Zh=q.memo(({isJobLocked:t})=>{const e=It(),n=se();f.exports.useEffect(()=>{n(Zl({jobId:s}))},[]);const r=O(Ke),a=O(zo),i=f.exports.useMemo(()=>Ue.exports.sortBy(a,"createdAt"),[a]),s=r.id;tr({subcsribtions:{[`/notifications/jobs/${s}/update/parts`]:p=>{const u=JSON.parse(p.body);n(ec(u))}}});const o=async({description:p,quantity:u,price:m,markup:h,name:g})=>{n(tc({jobId:r.id,description:p,quantity:u,price:m,markup:h,name:g}))},c=async({description:p,quantity:u,price:m,markup:h,id:g,name:v})=>{n(nc({description:p,quantity:u,price:m,markup:h,jobId:r.id,partId:g,name:v}))},d=async p=>{n(rc({jobId:r.id,partId:i[p].id}))};return l(D,{className:e.listWrapper,children:l(lr,{data:i,createForm:p=>l(ho,{handleSubmit:o,...p}),editForm:({data:p,...u})=>l(ho,{handleSubmit:c,data:go(p),...u}),onDelete:d,deleteModal:p=>({title:"Delete part?",confirmText:"Delete",content:x(z,{children:["Remove part for ",l("span",{className:e.boldText,children:p.name})," ?"]})}),row:({item:p})=>l(Jh,{item:go(p)}),addItemButtonLabel:"Add part",isReadOnly:t})})}),go=({price:t,markup:e,quantity:n,cost:r,...a})=>({...a,price:parseFloat(t),markup:parseInt(e),quantity:parseInt(n),cost:parseFloat(r)}),Pa=K(({spacing:t,palette:e})=>({formContainer:{display:"flex"},calculation:{color:e.secondary.light,paddingRight:t(3)},quantity:{width:"15%",paddingLeft:t(1.25),paddingRight:t(1.25)},amount:{width:"25%"},description:{flexGrow:1},total:{marginBottom:"-5%"},name:{flexGrow:1,paddingRight:t(3)},itemWrapper:{display:"flex",width:"100%"},payoutHead:{fontWeight:L.weight.semiBold,margin:`0 ${t(3)}px`,padding:`${t(1)}px 0`,borderBottom:Xn,display:"flex",justifyContent:"space-between"},totalPayout:{color:e.primary.main},avatar:{padding:`${t(1)}px ${t(3)}px`,"& p":{fontWeight:L.weight.medium}},payTotal:{width:"90px",textAlign:"end",fontWeight:L.weight.semiBold}})),eg=({item:{name:t,quantity:e,amount:n}})=>{const r=Pa();return x(z,{variant:"body2",className:r.itemWrapper,children:[l("span",{className:r.name,children:t}),l("span",{className:r.calculation,children:`${e} @ ${we(n)}`}),l("span",{className:r.payTotal,children:we(e*n)})]})},tg=1,ng={description:"",quantity:tg,isModifiable:!0},rg=ac().shape({description:oc().required("required"),quantity:Ma().moreThan(0).required("required"),amount:Ma().moreThan(-1).required("required")}),vo=({data:t,handleSubmit:e,onCancelClick:n,id:r})=>{const a=Pa(),i=se(),s=O(Uc),o=O(Yc),c=O(Kc);f.exports.useEffect(()=>{s&&!o&&!c&&(n(),i(La(!1)))},[s,o,c,n,i]),f.exports.useEffect(()=>{i(ic())},[]);const d=t?{description:t.name,quantity:t.quantity,isModifiable:t.modifiable,amount:t.amount}:ng;return l(bt,{onSubmit:u=>{e(u,r),i(La(!0))},initialValues:d,validationSchema:rg,validateOnChange:!0,children:({values:u,setFieldValue:m,isValid:h,touched:g,handleBlur:v,errors:b,setTouched:C})=>l(xt,{children:x(dr,{onCancelClick:n,isValid:!!Object.keys(g).length&&h,children:[x(D,{className:a.formContainer,children:[l(Ee,{source:"description",placeholder:"Description",className:a.description,onChange:y=>{m("description",y.target.value),C({...g,description:!0})},value:u.description,disabled:!d.isModifiable,error:c,helperText:c?"Payout with this name already exists":"",style:{flexGrow:1}}),l(Mr,{source:"quantity",placeholder:"Qty",InputProps:{min:"1",step:"1"},className:a.quantity,onChange:y=>{m("quantity",y.target.value?parseInt(y.target.value):void 0),C({...g,quantity:!0})},value:u.quantity,disabled:!d.isModifiable,handleBlur:v}),l(Jr,{source:"amount",className:a.amount,onChange:y=>{const P=y.target.value;jr({previousValue:u.amount,newValue:P,fieldLabel:"amount",setFieldValue:m}),C({...g,amount:!0})},value:u.amount,allowNegative:!0,disableInputProps:!0,handleBlur:()=>{m("amount",`${parseFloat(`${u.amount}`)}${`${parseFloat(`${u.amount}`)}`.split(".")[1]?`${parseFloat(`${u.amount}`)}`.split(".")[1].length===1?"0":"":".00"}`)}})]}),l(cr,{className:a.total,children:we((u.amount||0)*(u.quantity||0))})]})})})},ag=q.memo(({isJobLocked:t})=>{const e=Pa(),n=It(),r=O(Ke),a=O(Qn),i=O(Gc),s=f.exports.useMemo(()=>Ue.exports.sortBy(i,"createdAt"),[i]),o=se(),c=r.id;if(f.exports.useEffect(()=>{o(sc({jobId:c}))},[r.service.id]),!a)return l(D,{p:3,children:l(z,{variant:"body2",className:n.italic,children:"Payout will not show until a provider is assigned."})});const d=async h=>{o(lc({jobId:r.id,name:h.description,amount:h.amount,quantity:h.quantity}))},p=async(h,g)=>{o(cc({jobId:r.id,name:h.description,amount:h.amount,quantity:h.quantity,payId:s[g].id,modifiable:h.isModifiable}))},u=async h=>{o(dc({jobId:r.id,payId:s[h].id}))},m=h=>Ue.exports.sumBy(h,g=>g.amount*g.quantity);return x(D,{className:n.listWrapper,children:[l(Zr,{className:e.avatar,providerFullName:er(a),providerStatus:Qr(a.online,a.onJob)}),x(z,{variant:"body2",className:e.payoutHead,children:[l("span",{children:"Total Payout"}),l("span",{className:e.totalPayout,children:we(m(s))})]}),l(lr,{data:s,createForm:h=>l(vo,{handleSubmit:d,...h}),editForm:({data:h,...g})=>l(vo,{handleSubmit:p,data:h,...g}),onDelete:u,deleteModal:h=>({title:"Delete pay?",confirmText:"Delete",content:x(z,{children:["Remove pay for ",l("span",{className:n.semiBoldText,children:h.name})," ?"]})}),row:({item:h})=>l(eg,{item:h}),addItemButtonLabel:"Add pay",isReadOnly:t})]})}),Ss=K(({palette:t,spacing:e})=>({commentText:{paddingLeft:e(4),paddingTop:e(1),color:t.secondary.light},avatar:{marginRight:e(1.5)},textInput:{marginBottom:e(1),paddingBottom:0},itemWrapper:{display:"flex",flexDirection:"column",width:"100%"}})),og=({item:t})=>{const e=Ss();return x(D,{className:e.itemWrapper,children:[x(D,{display:"flex",children:[l(qo,{name:t.createdBy,status:"offline",className:e.avatar,width:20}),l(hn,{title:t.createdBy||t.creatorName}),l(ig,{data:t})]}),l(z,{component:"span",variant:"body2",className:e.commentText,children:t.comment})]})},ig=({data:{createdAt:t}})=>{const e=It();return x(z,{component:"span",variant:"caption",children:[t&&l("span",{className:e.date,children:Ut($a(t))})," ",t&&l("span",{className:he(e.boldBlackText),children:Yt($a(t))})]})},sg={comment:""},bo=q.memo(({data:t,handleSubmit:e,onCancelClick:n,id:r})=>{const a=t||sg,i=Ss();return l(bt,{initialValues:a,onSubmit:o=>{e(o,r),n()},children:({values:o,setFieldValue:c})=>l(xt,{children:l(dr,{onCancelClick:n,isValid:!!o.comment,children:l(va,{value:o.comment,className:i.textInput,placeholder:"Leave a comment",onChange:d=>c("comment",d.target.value)})})})})}),lg=q.memo(()=>{const t=It(),e=se(),n=O(Ke),r=O(qc),a=f.exports.useMemo(()=>Ue.exports.sortBy(r,"createdAt"),[r]);f.exports.useEffect(()=>{e(uc(n.id))},[]),tr({subcsribtions:{[`/notifications/jobs/${n.id}/update/comments`]:c=>{const d=JSON.parse(c.body);e(pc(d))}}});const i=async c=>{!c||e(fc({jobId:n.id,comment:c.comment}))},s=async(c,d)=>{!c||e(mc({jobId:n.id,comment:c.comment,commentId:a[d].id}))},o=c=>{e(hc({jobId:n.id,commentId:a[c].id}))};return l(D,{className:t.listWrapper,children:l(lr,{data:a,createForm:c=>l(bo,{handleSubmit:i,...c}),editForm:({data:c,...d})=>l(bo,{handleSubmit:s,data:c,...d}),onDelete:o,deleteModal:()=>({title:"Delete comment?",confirmText:"Delete",content:l(z,{children:"Comment added will be deleted"})}),row:({item:c})=>l(og,{item:c}),addItemButtonLabel:"Add comment",isReadOnly:!1})})}),nt=K(({palette:t,spacing:e})=>({statusDot:{marginRight:e(1)},notifications:{"& th":{paddingTop:0,paddingBottom:e(.25),height:"auto",color:t.secondary.light,fontWeight:L.weight.light},"& td":{height:"40px"}},firstColumn:{paddingLeft:`${e(3)}px !important`},lastColumn:{paddingRight:`${e(3)}px !important`},createDate:{color:t.primary.dark,paddingRight:e(1)},providerItem:{display:"flex",alignItems:"center",paddingRight:e(3),paddingLeft:e(3),paddingTop:e(3),paddingBottom:e(2),borderBottom:_n,"& > div":{marginRight:e(1.5),paddingRight:e(1.5),borderRight:_n}},notifyButton:{color:t.primary.main,fontWeight:L.weight.bold,lineHeight:1,maxWidth:160},onJob:{color:t.secondary.dark,fontWeight:L.weight.bold,lineHeight:1,maxWidth:160,fontSize:"0.875rem"},stopNotifyingButton:{color:t.error.main,fontWeight:L.weight.bold,lineHeight:1,maxWidth:160},removeProviderButton:{color:t.error.main,fontWeight:L.weight.bold,lineHeight:1},canceledRequest:{textDecoration:"line-through",color:t.error.main}}));var Ea={},cg=Eo.exports,dg=Do.exports;Object.defineProperty(Ea,"__esModule",{value:!0});var Ps=Ea.default=void 0,ug=dg(f.exports),pg=cg(Po()),fg=(0,pg.default)(ug.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");Ps=Ea.default=fg;const mg=K(({palette:t,spacing:e})=>({accordion:{boxShadow:"none",margin:0,"&:before":{background:"none"},"&.Mui-expanded":{margin:0}},summary:{paddingLeft:e(2.5),background:j.catskillWhite,color:t.secondary.light,fontWeight:L.weight.bold,textTransform:"uppercase",fontSize:L.size.regular,lineHeight:"16px"},details:{flexDirection:"column",padding:0}})),hg=({summary:t,children:e,...n})=>{const r=mg();return x(Hd,{className:r.accordion,...n,children:[l(Kd,{expandIcon:l(Ps,{}),className:r.summary,children:t}),l(_d,{className:r.details,children:e})]})},Es=({status:t,fontSize:e=12,online:n=!0})=>{const r=Ds(),a=f.exports.useMemo(()=>Ro.find(i=>i.id===t),[t]);return l(Vr,{label:l(gg,{status:t,online:n}),className:r.root,style:{color:a==null?void 0:a.color,background:a==null?void 0:a.background,fontSize:`${e}px`}})},gg=({status:t,online:e})=>{var a;const n=Ds(),r=t===Bo.CANCELED;return x(D,{display:"flex",children:[!e&&!r&&l(Ca,{className:n.statusDot}),(a=Ro.find(i=>i.id===t))==null?void 0:a.name]})},Ds=K(({spacing:t})=>({root:{height:"24px","& .MuiChip-label":{color:"inherit"}},statusDot:{marginRight:t(.5)}})),vg=t=>{const e=nt(),[n,r]=f.exports.useState(!1),[a,i]=f.exports.useState(!1),s=se(),o=O(wn),c=async()=>{var d,p;i(!0),s(gc({jobId:t.jobId,providerId:t.providerId,distance:(d=o[t.providerId])==null?void 0:d.distance,duration:(p=o[t.providerId])==null?void 0:p.duration}))};return l(Re,{size:"medium",className:e.stopNotifyingButton,onClick:c,disabled:n,isProcessing:a,isCustom:!0,children:"Stop notifying"})},bg=60,xg=5280,Ts=({distanceInFeet:t,durationInMinutes:e,addBreakLine:n=!1})=>{const a=(t&&(t/xg).toFixed(2))+" miles",i=e&&Yo(e*bg),s={display:"flex",flexDirection:"column"};return l(D,{children:x(z,{variant:"body2",style:{marginLeft:De.spacing(0),marginRight:De.spacing(0),...n?s:{}},children:[a&&l("span",{style:{whiteSpace:"nowrap"},children:a})," ",i&&l("span",{style:{whiteSpace:"nowrap"},children:i})]})})},Nr=({header:t,providers:e,requests:n,isJobLocked:r,showTravelColumn:a=!1})=>l(Pg,{header:t,count:e.length,defaultExpanded:!0,children:e.sort((i,s)=>(i.distance||0)-(s.distance||0)).map(i=>l(yg,{provider:i,requests:n,isJobLocked:r,showTravelColumn:a},i.id))}),yg=({provider:t,requests:e,showTravelColumn:n})=>{const r=nt(),a=se(),i=O(Ke),s=e&&vc(e,t.id),o=s==null?void 0:s.status,c=(i==null?void 0:i.providerId)===t.id,d=O(wn),p=d[t.id],u=O(qr),m=["NOTIFYING","ACCEPTED","ASSIGNED","PAUSE","IN_PROGRESS"];return f.exports.useEffect(()=>{i&&t.latitude&&t.longitude&&(!d[t.id]||d[t.id].latitude!==t.latitude||d[t.id].longitude!==t.longitude)&&n&&a(bc({providerId:t.id,jobId:i.id,origin:{lat:t.latitude,long:t.longitude},destination:{lat:i.location.lat,long:i.location.long},providersArray:u}))},[i,t,d,a,n,u]),x(D,{className:r.providerItem,children:[l(Zr,{providerFullName:t.name||`${t.firstname||""} ${t.lastname||""}`,providerStatus:Qr(t.online,t.onJob)}),l(Id,{value:t.acceptedRate}),o!==void 0&&l(D,{children:l(Es,{status:o})}),p&&n&&l(Ts,{distanceInFeet:p.distance,durationInMinutes:p.duration,addBreakLine:!0}),c&&l(Cg,{provider:t}),!(i!=null&&i.providerId)&&(i==null?void 0:i.status)!==oe.CANCELED&&(i==null?void 0:i.status)!==oe.COMPLETED&&(i==null?void 0:i.status)!==oe.NOTIFYING&&!m.includes(t==null?void 0:t.lastRequestStatus)&&o!=="NOTIFYING"&&l(wg,{jobId:i==null?void 0:i.id,providerId:t==null?void 0:t.id}),!(i!=null&&i.providerId)&&o==="NOTIFYING"&&l(vg,{jobId:i==null?void 0:i.id,providerId:t==null?void 0:t.id}),!c&&(m==null?void 0:m.includes(t==null?void 0:t.lastRequestStatus))&&l(Sg,{})]})},Cg=({provider:t})=>{const e=nt(),n=se(),[r,a]=q.useState(!1),i=er(t),s=O(Ke),o=O(Jc),c=O(wn);f.exports.useEffect(()=>{!o&&a(!1)},[o]);const d=()=>{var p,u;s&&n(xc({jobId:s==null?void 0:s.id,providerId:t.id,distance:(p=c[t.id])==null?void 0:p.distance,duration:(u=c[t.id])==null?void 0:u.duration}))};return x(Le,{children:[l(Re,{size:"medium",className:e.removeProviderButton,onClick:()=>a(!0),isCustom:!0,disabled:(s==null?void 0:s.status)===oe.CANCELED||(s==null?void 0:s.status)===oe.COMPLETED,children:"Remove"}),x(it,{open:r,handleClose:()=>a(!1),handleConfirm:d,title:"Removing provider",isProcessing:o,children:["You are going to remove provider ",i," from this job. The provider and all hours worked for this provider will be deleted."]})]})},wg=t=>{const e=nt(),[n,r]=f.exports.useState(!1),[a,i]=f.exports.useState(!1),s=se(),o=O(wn),c=async()=>{var d,p;i(!0),s(yc({jobId:t.jobId,providerId:t.providerId,distance:(d=o[t.providerId])==null?void 0:d.distance,duration:(p=o[t.providerId])==null?void 0:p.duration})),r(!1)};return l(Re,{size:"medium",className:e.notifyButton,onClick:c,disabled:n,isProcessing:a,isCustom:!0,children:"Notify"})},Sg=()=>{const t=nt();return l("span",{className:t.onJob,children:"On a job"})},Pg=({header:t,count:e,children:n,...r})=>l(hg,{summary:x(D,{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",children:[t,l("span",{children:e})]}),...r,children:n}),Eg=()=>{const t=Is(),e=O(_o),n=O(Uo);return l(bt,{onSubmit:()=>{},initialValues:{providerId:e},children:({values:r,setFieldValue:a})=>l(xt,{className:t.form,children:x(D,{className:t.wrapper,children:[l(Zn,{source:"providerId",choices:n,label:"",onChange:i=>{a("providerId",i.target.value)},placeholder:"Select a provider",className:t.select,value:r.providerId||""}),l(Dg,{providerId:r.providerId})]})})})},Dg=({providerId:t})=>{const e=Jn(),n=Is(),r=se(),a=O(Ke),i=O(jc),s=O(Uo),o=O(wn),c=f.exports.useMemo(()=>s==null?void 0:s.find(m=>m.id===t),[s,t]),[d,p]=f.exports.useState(!1);f.exports.useEffect(()=>{i===!1&&p(!1)},[i]);const u=()=>{var m,h;!c||!t||!(a!=null&&a.id)||r(Cc({jobId:a==null?void 0:a.id,providerId:t,distance:(m=o[t])==null?void 0:m.distance,duration:(h=o[t])==null?void 0:h.duration}))};return x(Le,{children:[l(Re,{size:"medium",className:he(e.defaultButton,n.button),onClick:()=>p(!0),disabled:i||!t||!(a!=null&&a.service)||!((a==null?void 0:a.status)!==oe.CANCELED&&(a==null?void 0:a.status)!==oe.COMPLETED),isProcessing:i,children:"assign provider"}),x(it,{open:d,handleClose:()=>p(!1),handleConfirm:u,title:"Assigning provider",isProcessing:i,children:["You are going to assign provider ",(c==null?void 0:c.name)||""," to this job. This action will result in creating an accepted job request for the provider and will change the job to a Manual status"]})]})},Is=K(({spacing:t})=>({select:{flexGrow:1,marginRight:t(2),paddingBottom:0},wrapper:{display:"flex",width:"auto",alignItems:"center",padding:`${t(1)}px ${t(3)}px`},form:{"& >:first-child":{paddingTop:0,paddingBottom:0}},button:{marginTop:t(1),marginBottom:t(.5)}})),{useEffect:xo,useRef:Tg}=wc,Ig=(t,e)=>{const n=Tg(null);xo(()=>{n.current=t}),xo(()=>{function r(){n.current!==null&&n.current()}const a=setInterval(r,e);return()=>clearInterval(a)},[e])},Ng=()=>{const[t,e]=f.exports.useState(new Date);return Ig(()=>{e(new Date)},6e4),t},kg=({job:t,requests:e})=>{const n=nt();return l(D,{mt:3,children:x(_r,{className:n.notifications,children:[l(Og,{}),l(Yr,{children:e==null?void 0:e.map(r=>l(Mg,{request:r,isProviderAssigned:!!(t!=null&&t.providerId)},`${r.providerId}-${r.id}`))})]})})},Og=()=>{const t=nt();return l(Ur,{children:x(Vt,{children:[l(pe,{className:t.firstColumn,align:"left",children:"Provider"}),l(pe,{align:"left",children:"Response"}),l(pe,{children:"Travel"}),l(pe,{className:t.lastColumn,align:"right",children:"Notification sent"})]})})},Mg=({request:t,isProviderAssigned:e})=>{const n=nt(),r=t.status===Bo.CANCELED;return x(Vt,{children:[l(pe,{className:he(n.firstColumn,r&&n.canceledRequest),align:"left",children:t&&l(Zr,{providerFullName:t.providerName,providerStatus:Qr(t.providerOnline,t==null?void 0:t.onJob)})}),l(pe,{align:"left",style:{padding:0},children:t.status!==void 0&&l(Es,{status:t.status,online:t.notifiedProviderOnline})}),l(pe,{style:{padding:0},children:(t.distance||t.duration)&&l(Ts,{distanceInFeet:t.distance,durationInMinutes:t.duration})}),l(pe,{className:he(n.lastColumn,r&&n.canceledRequest),align:"right",children:l(Lg,{date:t==null?void 0:t.createdAt,withTimeAgoFormat:e})})]})},Lg=({date:t,withTimeAgoFormat:e})=>{const n=nt(),r=Ng();if(e)return l(Le,{children:x(z,{variant:"body2",children:[l("span",{className:n.createDate,children:Ut(t)}),Yt(t)]})});{const a=_t.utc(t).format();return l(z,{variant:"body2",children:fd(a,_t.utc(r).format())})}},$g=({isJobLocked:t})=>{const e=nt(),n=O(Ke),r=O(Xc),a=O(qr),i=O(Qn),s=O(Qc),o=f.exports.useMemo(()=>a?a.filter(m=>m.id!==(n==null?void 0:n.providerId)):[],[a,n==null?void 0:n.providerId]),d=f.exports.useMemo(()=>a.find(m=>m.id===(n==null?void 0:n.providerId)),[a,n==null?void 0:n.providerId])||i,[p,u]=wd(o);return l(D,{overflow:"scroll",children:s?x(Le,{children:[!d&&l(Eg,{}),d&&l(Nr,{header:l(Mh,{className:e.statusDot,children:" on this job"}),providers:[d],requests:r,isJobLocked:t,showTravelColumn:(n==null?void 0:n.status)===oe.ACCEPTED}),l(Nr,{header:l(xs,{className:e.statusDot,children:" online providers"}),providers:p,requests:r,showTravelColumn:!!n&&[oe.UNASSIGNED,oe.NOTIFYING].includes(n==null?void 0:n.status)}),l(Nr,{header:l(Ca,{className:e.statusDot,children:" offline providers"}),providers:u,requests:r,showTravelColumn:!!n&&[oe.UNASSIGNED,oe.NOTIFYING].includes(n.status)}),l(kg,{job:n,requests:r})]}):l(D,{style:{height:"500px"},children:l(Nt,{})})})};const Ag=({jobId:t})=>{const e=O(Zc),n=O(ed),[r,a]=q.useState(!1),[i,s]=q.useState(null),o=()=>a(!0),c=()=>a(!1),d=se(),p=O(td);return f.exports.useEffect(()=>{d(Sc({jobId:t}))},[]),x(D,{py:3,px:3,children:[l(Rg,{photos:p,arePhotosLoading:n,onPhotoDelete:v=>{s(v),o()}}),l(Bg,{files:e,onSelect:v=>{v&&d(Dc(v))},onIntensionToUpload:()=>{e&&d(Pc({jobId:t,images:e}))}}),l(it,{title:"Delete photo",open:r,handleClose:c,handleConfirm:async()=>{!i||(d(Ec({jobId:t,fileName:i})),c())},confirmText:"Yes",children:"You are going to delete the photo. Are you sure you want to delete this photo?"})]})},Rg=t=>{const e=i=>{window.open(i,"_blank")},n=t.arePhotosLoading,r=!t.photos.length&&!n;return l(D,{className:"photos-tab",children:(()=>n?l(D,{margin:"auto",children:l(Nt,{text:"Loading photos..."})}):r?l(D,{margin:"auto",children:l(z,{variant:"body1",children:"No photos found."})}):t.photos.map(i=>x("div",{className:"job-photo",children:[l("div",{className:"job-photo__img",style:{backgroundImage:`url("${i.url}")`},onClick:()=>e(i.url)}),l(fa,{className:"job-photo__delete-btn",onClick:()=>t.onPhotoDelete(i.fileName)})]},i.url)))()})},Bg=({files:t,onSelect:e,onIntensionToUpload:n})=>{const r=Jn(),a=f.exports.useRef(null),i=()=>{var c;(c=a.current)==null||c.click()},s=f.exports.useMemo(()=>t&&Object.values(t),[t]),o=O(nd);return x(D,{display:"flex",flexDirection:"column",children:[x(D,{display:"flex",mb:2,children:[x(D,{pt:2,pb:3,flex:1,children:[l(rr,{onClick:i,disabled:o,children:"Choose files"}),l("input",{ref:a,type:"file",multiple:!0,value:t?void 0:"",onChange:c=>e(c.target.files),accept:"image/*",style:{display:"none"}})]}),l(D,{pt:2,flex:2,display:"flex",flexDirection:"column",children:o?l(Nt,{}):t?s==null?void 0:s.map(c=>l(D,{pb:1,children:c.name})):"No files chosen"})]}),l(Re,{className:he(r.defaultButton),disabled:o,onClick:n,isProcessing:o,children:"Upload"})]})},Wg=({isOpen:t,openDrawer:e,closeDrawer:n,isJobLocked:r,props:a})=>{const i=wa(),s=se(),o=O(Ke),{isLoadingLocations:c,getProvidersFromArea:d}=ms(),[p,u]=f.exports.useState($e.NOTIFICATIONS),m=O(_o);f.exports.useEffect(()=>{e()},[]),f.exports.useEffect(()=>(s(m?Tc({providerId:m}):Ic()),()=>{s(Nc())}),[s,m]);const[h,g]=f.exports.useState(!0),v=O(rd);f.exports.useEffect(()=>{h&&(o==null?void 0:o.id)&&!v&&s(kc({jobId:o==null?void 0:o.id})),h&&v&&g(!1),!h&&!v&&setTimeout(()=>{g(!0)},5e3)},[h,o==null?void 0:o.id,s,v]),tr({subcsribtions:{[`/notifications/jobs/${o==null?void 0:o.id}/update`]:T=>{const k=JSON.parse(T.body);o&&s(Oc({providerId:k.providerId,status:k.status,locked:k.locked,isPendingReview:k.pendingReview}))}}});const b=f.exports.useCallback((T,k)=>{u(k)},[]),C=f.exports.useMemo(()=>{const T=new Map;return T.set($e.LABOR,l(Gh,{isJobLocked:r})),T.set($e.PARTS,l(Zh,{isJobLocked:r})),T.set($e.NOTIFICATIONS,l($g,{isJobLocked:r})),T.set($e.COMMENTS,l(lg,{})),T.set($e.PAYOUT,l(ag,{isJobLocked:r})),o&&T.set($e.PHOTOS,l(Ag,{jobId:o==null?void 0:o.id})),T},[r,o]);if(!o)return null;const{serviceArea:y}=o,S=d(y).length>0;return x("div",{children:[l(Fg,{onClick:e,onlineProvidersCount:0,offlineProvidersCount:0,isLoading:c,withDetails:S}),l(vu,{open:t,variant:"persistent",onClose:n,anchor:"right",ModalProps:{hideBackdrop:!0},className:i.drawer,children:x(D,{className:i.drawerContent,children:[x(D,{className:i.headerWrapper,children:[l(Hg,{closeDrawer:n}),x(zr,{value:p,onChange:b,children:[l(Ve,{label:l(Qe,{text:"Notifications"}),value:$e.NOTIFICATIONS}),l(Ve,{label:l(Qe,{text:"Labor"}),value:$e.LABOR}),l(Ve,{label:l(Qe,{text:"Parts"}),value:$e.PARTS}),l(Ve,{label:l(Qe,{text:"Comments"}),value:$e.COMMENTS}),l(Ve,{label:l(Qe,{text:"Payout"}),value:$e.PAYOUT}),l(Ve,{label:l(Qe,{text:"Photos"}),value:$e.PHOTOS})]})]}),C.get(p)]})})]})},Fg=({onClick:t,isLoading:e,onlineProvidersCount:n,offlineProvidersCount:r,withDetails:a})=>{const i=wa(),s=!e&&a;return l(Ze,{onClick:t,className:i.drawerTrigger,disabled:e,children:e?l(Nt,{}):x(Le,{children:[l(hd,{className:i.drawerTriggerArrowIcon}),l(Ko,{className:i.drawerTriggerIcon}),l("div",{className:i.drawerTriggerLabel,children:"job details"}),s&&x(D,{className:i.drawerTriggerContent,children:[l(xs,{className:i.statusDot}),l("span",{className:i.statusDot,children:n}),l(Ca,{className:i.statusDot}),l("span",{children:r})]})]})})},Hg=({closeDrawer:t})=>{const e=wa();return x(D,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2.5,px:3,children:[x(z,{variant:"h5",component:"h5",className:e.drawerTitle,children:[l(Ko,{}),"Job details"]}),l(et,{onClick:t,children:l(gd,{})})]})},zg=t=>l(D,{display:"flex",flexDirection:"column",width:"100%",maxWidth:"700px",minWidth:"600px",boxShadow:"4px 0 5px -2px rgb(0 0 0 / 30%)",zIndex:"1",children:t.children}),Xe=K(({palette:t,spacing:e})=>({tabWrapper:{"& .ra-input > div:first-child":{width:"auto"}},tabHeader:{display:"flex",justifyContent:"space-between",padding:`${e(3)}px 0 ${e(2)}px`},section:{borderTop:_n,padding:`${e(1.5)}px 0 ${e(2)}px`,width:"100%"},title:{color:t.primary.main,textTransform:"uppercase",fontSize:L.size.small,fontWeight:L.weight.semiBold},subtitle:{color:t.secondary.light,fontSize:L.size.small,fontWeight:L.weight.light},priceItem:{fontSize:L.size.regular,fontWeight:L.weight.light},total:{fontSize:L.size.huge,fontWeight:L.weight.semiBold},provider:{fontSize:L.size.large,width:"50%",alignSelf:"center"},wrap:{overflowWrap:"break-word"},bold:{fontWeight:L.weight.semiBold},summary:{flexDirection:"column",marginLeft:e(2)},fieldsWrapper:{display:"flex",flexWrap:"wrap",marginBottom:e(1)},item:{fontSize:L.size.regular,color:t.secondary.light},name:{color:t.primary.dark,fontWeight:L.weight.semiBold},cost:{color:t.primary.dark,flex:"1 1 20%",display:"flex",justifyContent:"flex-end"},parts:{borderTop:0,marginTop:0,paddingTop:0,paddingBottom:e(.5)},time:{fontSize:L.size.regular,fontWeight:L.weight.semiBold,paddingRight:e(.5)},commentBody:{fontSize:L.size.regular,color:t.secondary.light,wordBreak:"break-word",wordWrap:"break-word",hyphens:"auto"},tinyText:{fontSize:L.size.small},downloadInvoiceButton:{marginLeft:e(1)},multilineTextField:{"& .MuiFilledInput-root":{height:"100px",paddingTop:0,marginTop:De.spacing(1)}}})),Vg=({formattedParts:t})=>{const e=Xe();return t!=null&&t.length?l(tt,{title:"Parts",className:e.parts,children:l(D,{children:t.map(n=>l(Ns,{name:n.name,description:n.description||"-",calculations:n.calculations,cost:n.cost},n.name))})}):l(tt,{title:"Parts",children:"-"})},_g=({formattedServices:t})=>t!=null&&t.length?l(tt,{title:"Labor",children:t.map(e=>l(Ns,{name:e.name,description:e.description,calculations:e.calculations,cost:e.cost},e.name))}):l(tt,{title:"Labor",children:"-"}),Ug=({formattedTotalCost:t,totalLaborCost:e,totalPartsCost:n,travelCost:r,fuelCost:a})=>{const i=Xe();return x(D,{display:"flex",children:[l(tt,{title:"Price",children:x(D,{display:"flex",flexDirection:"column",children:[l(z,{className:i.subtitle,children:"Total amount due"}),l(z,{className:i.total,children:t})]})}),x(tt,{title:"Price summary",className:i.summary,children:[l(Fn,{label:"Labor",children:e}),l(Fn,{label:"Parts",children:n}),l(Fn,{label:"Call-out (travel)",children:r}),l(Fn,{label:"Fuel",children:a})]})]})},Fn=({label:t,children:e})=>{const n=Xe();return x(D,{display:"flex",justifyContent:"space-between",children:[l(z,{className:n.priceItem,children:t}),l(z,{className:n.priceItem,children:e})]})},Yg=({companyName:t,dispatcherName:e,driverName:n,referenceNumber:r,vehicleDescription:a,vehicle:i,locationAddress:s,customerNotes:o})=>{var p;const c=Xe(),d=O(Ke);return l(tt,{title:"job details",children:x(D,{className:c.fieldsWrapper,children:[l(ze,{title:"Company",description:t}),l(ze,{title:"Dispatcher",description:e}),l(ze,{title:"Driver",description:n}),l(ze,{title:"Reference number",description:((p=d==null?void 0:d.payment)==null?void 0:p.referenceNumber)||r}),l(ze,{title:"Vehicle",description:a}),l(ze,{title:"VIN / Serial number",description:i==null?void 0:i.vehicleSerialNumber}),l(ze,{title:"Unit number",description:i==null?void 0:i.vehicleUnitNumber}),l(ze,{title:"Vehicle type",description:i==null?void 0:i.vehicleType}),l(ze,{title:"Vehicle location",description:s,width:"100%",boldText:!0}),l(ze,{title:"Customer notes",description:o,width:"100%",marginBottom:0})]})})},ze=({title:t,description:e,width:n="25%",boldText:r,marginBottom:a=1.5})=>{const i=Xe();return x(D,{flex:`1 1 ${n}`,mb:a,children:[l(z,{className:i.subtitle,children:t}),l(z,{variant:"subtitle2",className:he(i.wrap,r&&i.bold),children:e||"-"})]})},Kg=({providerName:t,bookedOn:e,formattedJobNumber:n})=>{const r=Xe(),a=O(Qn),i=er(a);return l(tt,{title:"Provider",children:x(D,{display:"flex",children:[l(D,{className:r.provider,children:i||t}),l(ze,{title:"Booked on",description:e,width:"25%",marginBottom:0}),l(ze,{title:"Job number",description:n,width:"25%",marginBottom:0,boldText:!0})]})})},Gg=({formattedComments:t})=>{const e=Xe();return t?l(tt,{title:"Comments",children:t.map((n,r)=>x(D,{display:"flex",flexWrap:"nowrap",flexDirection:"row",children:[l(D,{children:l(z,{variant:"body2",className:e.time,children:`${n.createdAt} |`})}),l(D,{flex:1,children:l(z,{variant:"body2",className:e.commentBody,children:n.text})})]},r))}):l(tt,{title:"Comments",children:"-"})},ft="-";class qg{constructor(e){this.invoiceData=e}getInvoiceData(){return{formattedTotalCost:we(this.invoiceData.totalAmount),totalPartsCost:we(this.invoiceData.partsPrice),totalLaborCost:we(this.invoiceData.labourPrice),travelCost:we(this.invoiceData.callOutPrice),fuelCost:we(this.invoiceData.fuelPrice),providerName:this.invoiceData.provider||ft,bookedOn:this.formatBookedOn(),formattedJobNumber:Lo(this.invoiceData.jobNumber),dispatcherName:this.invoiceData.dispatcher,driverName:this.invoiceData.vehicle.driver||ft,vehicleDescription:this.getVehicleDescription(),formattedServices:this.getFormattedServices(),formattedParts:this.getFormattedParts(),formattedComments:this.getFormattedComments(),companyName:this.invoiceData.company||ft,referenceNumber:`${this.invoiceData.referenceNumber||ft}`,vehicle:this.invoiceData.vehicle,customerNotes:this.invoiceData.customerNotes||ft,locationAddress:this.invoiceData.vehicle.vehicleLocation}}formatBookedOn(){return md(new Date(this.invoiceData.bookedOn))}getVehicleDescription(){return this.invoiceData.vehicle.vehicle||ft}getFormattedParts(){const{parts:e}=this.invoiceData;if(!(!e||e.length<=0))return e.map(n=>{const r=Number(n.quantity),a=Number(n.cost);return{name:n.name,description:n.description||ft,calculations:`${r} @ ${we(a)}`,cost:we(r*a)}})}getFormattedServices(){const{services:e}=this.invoiceData;if(!(!e||e.length<=0))return e.map(n=>({name:n.name,description:n.description||ft,calculations:`${n.minimumHours}@${we(n.cost)}`,cost:we(n.totalCost)}))}getFormattedComments(){const{jobComments:e}=this.invoiceData;if(!(!e||e.length<=0))return e.map(n=>({text:n.text,createdAt:Yt(new Date(n.createdAt))}))}}const Jg=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;class jg{static isEmailValid(e){return Jg.test(e)}}const Xg=({jobId:t,predefinedEmails:e})=>{const n=Xe(),r=O(ad),[a,i]=f.exports.useState(!1),[s,o]=f.exports.useState(!1),[c,d]=f.exports.useState(!1);f.exports.useEffect(()=>{s&&T(Mc(t))},[s]);const[p,u]=f.exports.useState(""),m=!!p&&jg.isEmailValid(p),[h,g]=f.exports.useState(`Invoice for job #${t} \u2014 Truckup`),v=!!h,[b,C]=f.exports.useState(`Invoice for job #${t}. 

Thank you for choosing Truckup.`),y=!!b,P=()=>o(!0),S=()=>{o(!1),u(""),g(`Invoice for job #${t} \u2014 Truckup`),C(`Invoice for job #${t}. 

Thank you for choosing Truckup.`)},T=se(),k=f.exports.useCallback(async()=>{T(Lc({jobId:t,to:p,subject:h,body:b})),S()},[t,p,h,b,T]),V=E=>{u(E),T($c({email:E,jobId:t}))};return x(Le,{children:[l(Re,{onClick:P,children:"Send Invoice"}),x(it,{title:"Send Invoice",open:s,disabled:!(m&&v&&y),isProcessing:c,handleClose:S,handleConfirm:k,confirmText:"Send",children:[l(Pt,{label:"To:",value:p,children:l(cs,{value:p?{id:p,name:p}:null,options:e.map(E=>({id:E,name:E})),onChange:E=>u(E||""),onIntensionToAddNewOption:V,placeholder:"example@email.com",error:!m})}),l(Pt,{label:"Subject:",value:p,children:l(ht,{value:h,onChange:E=>g(E.target.value),variant:"filled",InputProps:{margin:"dense"},style:{marginTop:De.spacing(1)},error:!v})}),l(Pt,{label:"Body:",value:p,children:l(ht,{value:b,onChange:E=>C(E.target.value),variant:"filled",multiline:!0,rows:4,error:!y,className:n.multilineTextField})}),l(Qg,{items:r,isLoading:a})]})]})},Qg=t=>t.isLoading?l(Nt,{text:"Loading..."}):l(ko,{style:{maxHeight:300},children:x(_r,{children:[l(Ur,{children:x(Vt,{children:[l(pe,{padding:"none",children:"Date"}),l(pe,{padding:"none",children:"To"}),l(pe,{padding:"none",children:"Subject"}),l(pe,{padding:"none",align:"center",children:"Attachments"})]})}),l(Yr,{children:t.items.map((e,n)=>x(Vt,{children:[l(pe,{children:e.sentAt?Ut(new Date(e.sentAt)):null}),l(pe,{children:e.to}),l(pe,{style:{whiteSpace:"normal"},children:e.subject}),l(pe,{align:"center",children:e.filename})]},n))})]})}),Zg=t=>{const e=se(),n=O(od),r=O(id),a=()=>{Rc(t)};return f.exports.useEffect(()=>{e(Ac(t))},[e,t]),{invoiceData:n,isLoading:r,downloadInvoice:a}},ev=({isJobLocked:t,tabValue:e,setTabValue:n,job:r})=>{var S,T;const a=jn(),i=Xe(),s=se(),[o,c]=f.exports.useState(!1),{invoiceData:d,isLoading:p,downloadInvoice:u}=Zg(r.id);f.exports.useEffect(()=>{r.id&&s(Bc(r.id))},[r]);const m=O(sd),h=O(ld),g=O(cd),v=(S=r==null?void 0:r.dispatcher)==null?void 0:S.email,b=(T=r==null?void 0:r.driver)==null?void 0:T.email,C=f.exports.useMemo(()=>[v,b,...m].filter(k=>!!k).sort(),[v,b,m]);if(p)return l(Nt,{});if(!d)return l(z,{align:"center",children:"Couldn't load invoice"});const y=new qg(d).getInvoiceData(),P=async()=>{c(!0);try{await u()}catch(k){console.error(k)}c(!1)};return x(D,{className:a.form,children:[x(or,{px:3,className:a.form,children:[x(D,{className:i.tabHeader,children:[l(vd,{}),x(D,{children:[l(Xg,{jobId:r.id,predefinedEmails:C}),l(Re,{className:i.downloadInvoiceButton,onClick:P,isProcessing:o,children:"Download invoice"})]})]}),l(Ug,{...y}),l(Kg,{...y}),l(Yg,{...y}),l(_g,{formattedServices:y.formattedServices}),l(Vg,{formattedParts:g||y.formattedParts}),l(Gg,{formattedComments:h||y.formattedComments})]}),l(ar,{isNextButtonDisabled:!0,onNextButtonClick:()=>"",tabValue:e,setTabValue:n})]})},tt=({title:t,children:e,className:n})=>{const r=Xe();return x(D,{className:he(r.section,n),children:[l(z,{className:r.title,children:t}),e]})},Ns=({name:t,description:e,calculations:n,cost:r})=>{const a=Xe();return x(D,{className:a.fieldsWrapper,children:[x(D,{display:"flex",flexDirection:"column",flex:"1 1 50%",children:[l(z,{className:he(a.item,a.name),children:t}),l(z,{className:a.item,children:e})]}),l(z,{className:a.item,children:n}),l(z,{className:he(a.item,a.cost),children:r})]})},tv=t=>{const e=se(),n=O(Ke),r=O(dd);return f.exports.useEffect(()=>{e(t==="create"?Wo():Wc(t))},[e,t]),{job:n,isLoading:r}},vv=t=>{var v,b;const e=To(),n=Gr(),r=$o(n),{job:a}=tv(n.id),i=se(),[s,o]=f.exports.useState(Je.VEHICLE),[c,d]=f.exports.useState(!1),p=((v=a==null?void 0:a.driver)==null?void 0:v.phoneNumber)||((b=a==null?void 0:a.dispatcher)==null?void 0:b.phoneNumber),u=a?a.locked:!1,m=(C,y)=>{o(y)};f.exports.useEffect(()=>(i(Fc()),()=>{i(Wo()),i(Hc())}),[i]);const[h,g]=f.exports.useState(!1);return f.exports.useEffect(()=>{h&&(a==null?void 0:a.id)&&(e.push(`${Io.JOBS}/${a.id}`),g(!1))},[h,a==null?void 0:a.id,e]),l(uh,{children:x(D,{display:"flex",flexBasis:"100%",minHeight:"100vh",children:[x(zg,{children:[x(D,{borderBottom:`1px solid ${De.palette.primary.light}`,boxShadow:`0px 0px 3px ${De.palette.primary.light}`,zIndex:1,children:[l(th,{job:a,isCreatePage:r}),x(zr,{value:s,onChange:m,children:[l(Ve,{label:l(Qe,{text:"Vehicle"}),value:Je.VEHICLE}),l(Ve,{label:l(Qe,{text:"Contacts",alertBadge:!p}),value:Je.CONTACTS,disabled:r}),l(Ve,{label:l(Qe,{text:"Payments"}),value:Je.PAYMENTS,disabled:r}),l(Ve,{label:l(Qe,{text:"Invoice"}),value:Je.INVOICE,disabled:r})]})]}),s===Je.VEHICLE&&l(kh,{tabValue:s,setTabValue:o,job:a,isJobLocked:u,setRedirect:g}),s===Je.CONTACTS&&a&&l(jm,{tabValue:s,setTabValue:o,job:a,isJobLocked:u}),s===Je.PAYMENTS&&a&&l(Mm,{tabValue:s,setTabValue:o,isJobLocked:u,job:a}),s===Je.INVOICE&&a&&l(ev,{tabValue:s,setTabValue:o,isJobLocked:u,job:a})]}),x(D,{width:"100%",children:[l(hh,{job:a,isJobMarkerDraggable:s===Je.VEHICLE}),a&&l(Wg,{job:a,isOpen:c,openDrawer:()=>d(!0),closeDrawer:()=>d(!1),isJobLocked:u,props:t})]})]})})};export{vv as default};
