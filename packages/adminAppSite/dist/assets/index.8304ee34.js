import{m as F,u as $,h as j,r as o,dg as H,n as d,dh as U,di as V,dj as k,dk as I,dl as D,dm as O,dn as g,dp as v,q as p,s as q,j as a,aF as w,R as P,aG as J,aH as L,aI as S,a$ as M,b0 as G,b1 as K,b2 as Q,aR as W,aK as f,aL as n,dq as Y,aQ as _,aY as z,aV as X,bw as Z}from"./index.7dbc0443.js";import{L as ee}from"./ListTableHead.a21a00e3.js";import{F as ae}from"./FullNameField.cece0c7a.js";import{A as se}from"./AcceptRating.b9c38b19.js";import{S as te}from"./StarRating.975d97ef.js";import{g as re}from"./providerHelpers.5b5f7e8f.js";const oe={label:"Providers",singular:"Provider"},R=[{id:"firstname",label:"Name"},{id:"phoneNumber",label:"Phone number"},{id:"jobs",label:"Jobs"},{id:"cashBalance",label:"Cash balance"},{id:"rating",label:"Rating"},{id:"accRate",label:"Acc. Rate"}],ne=F(()=>Z({wrapper:{display:"flex",flexDirection:"column",minHeight:"100%"},noResults:{textAlign:"center"}})),le=()=>{const m=ne(),s=$(),x=j(),[t,y]=o.exports.useState("Approved"),[r,A]=o.exports.useState({order:H.ASC,orderBy:"firstname"}),b=d(U),l=d(V),h=d(k),i=d(I),C=d(D),u=o.exports.useMemo(()=>t==="Approved"?b:h,[t,b,h]),c=o.exports.useMemo(()=>t==="Approved"?l:i,[t,l,i]);o.exports.useEffect(()=>{s(O({approvedParams:l,unapprovedParams:i}))},[]);const T=o.exports.useCallback(e=>{s(t==="Approved"?g({...e,sort:r.orderBy,order:r.order}):v({...e,sort:r.orderBy,order:r.order}))},[r.orderBy,r.order,s,t]),E=e=>{y(e)},N=o.exports.useCallback(e=>{A(e),s(g({...l,sort:`${e.orderBy},${e.order}`})),s(v({...i,sort:`${e.orderBy},${e.order}`}))},[l,i,s]);return p(q,{className:m.wrapper,children:[a(w,{hasCreate:!0,options:oe,basePath:P.PROVIDERS,children:p(J,{value:t,onChange:(e,B)=>E(B),children:[a(L,{label:a(S,{text:"Approved",total:l.totalElements}),value:"Approved"}),a(L,{label:a(S,{text:"Unapproved",total:i.totalElements}),value:"Unapproved"})]})}),a(M,{children:C?a(G,{}):a(K,{children:p(Q,{className:"table",children:[a(ee,{sortSettings:r,onSortSettingsChange:N,headCells:R}),a(W,{children:u.length?u.map(e=>p(f,{className:"table-row",onClick:()=>x.push(`${P.PROVIDERS}/${e.id}`),children:[a(n,{children:a(ae,{providerFullName:e.firstname+" "+e.lastname,providerStatus:re(e.online,e.onjob)})}),a(n,{children:Y(e.phone)}),a(n,{children:e.completedJobsCount}),a(n,{children:_(e.balance)}),a(n,{children:a(te,{value:parseFloat(e.rating)})}),a(n,{children:a(se,{value:e.acceptedRate})})]},e.id)):a(f,{children:a(n,{className:m.noResults,colSpan:R.length,children:"No results"})})})]})})}),!!c.totalElements&&c.totalElements>z.FIVE&&a(X,{count:c.totalElements||0,paginationSettings:c,onPaginationSettingsChange:T})]})},he=le;export{he as default};
